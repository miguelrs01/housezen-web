function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t,n,r,i,a,s,o,l,u,c,d,h,f,p,m,g,y,v,b=globalThis,w={},x={},k=b.parcelRequiref934;null==k&&((k=function(e){if(e in w)return w[e].exports;if(e in x){var t=x[e];delete x[e];var n={id:e,exports:{}};return w[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){x[e]=t},b.parcelRequiref934=k);var E=k.register;E("8rWe0",function(t,n){e(t.exports,"Fragment",()=>r,e=>r=e),e(t.exports,"jsx",()=>i,e=>i=e),e(t.exports,"jsxs",()=>a,e=>a=e);var r,i,a,s=Symbol.for("react.transitional.element");function o(e,t,n){var r=null;if(void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),"key"in t)for(var i in n={},t)"key"!==i&&(n[i]=t[i]);else n=t;return{$$typeof:s,type:e,key:r,ref:void 0!==(t=n.ref)?t:null,props:n}}r=Symbol.for("react.fragment"),i=o,a=o}),E("9Qu0I",function(t,n){e(t.exports,"Children",()=>r,e=>r=e),e(t.exports,"Component",()=>i,e=>i=e),e(t.exports,"Fragment",()=>a,e=>a=e),e(t.exports,"Profiler",()=>s,e=>s=e),e(t.exports,"PureComponent",()=>o,e=>o=e),e(t.exports,"StrictMode",()=>l,e=>l=e),e(t.exports,"Suspense",()=>u,e=>u=e),e(t.exports,"__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE",()=>c,e=>c=e),e(t.exports,"__COMPILER_RUNTIME",()=>d,e=>d=e),e(t.exports,"cache",()=>h,e=>h=e),e(t.exports,"cloneElement",()=>f,e=>f=e),e(t.exports,"createContext",()=>p,e=>p=e),e(t.exports,"createElement",()=>m,e=>m=e),e(t.exports,"createRef",()=>g,e=>g=e),e(t.exports,"forwardRef",()=>y,e=>y=e),e(t.exports,"isValidElement",()=>v,e=>v=e),e(t.exports,"lazy",()=>b,e=>b=e),e(t.exports,"memo",()=>w,e=>w=e),e(t.exports,"startTransition",()=>x,e=>x=e),e(t.exports,"unstable_useCacheRefresh",()=>k,e=>k=e),e(t.exports,"use",()=>E,e=>E=e),e(t.exports,"useActionState",()=>_,e=>_=e),e(t.exports,"useCallback",()=>S,e=>S=e),e(t.exports,"useContext",()=>T,e=>T=e),e(t.exports,"useDebugValue",()=>N,e=>N=e),e(t.exports,"useDeferredValue",()=>C,e=>C=e),e(t.exports,"useEffect",()=>I,e=>I=e),e(t.exports,"useId",()=>A,e=>A=e),e(t.exports,"useImperativeHandle",()=>D,e=>D=e),e(t.exports,"useInsertionEffect",()=>P,e=>P=e),e(t.exports,"useLayoutEffect",()=>R,e=>R=e),e(t.exports,"useMemo",()=>j,e=>j=e),e(t.exports,"useOptimistic",()=>O,e=>O=e),e(t.exports,"useReducer",()=>L,e=>L=e),e(t.exports,"useRef",()=>M,e=>M=e),e(t.exports,"useState",()=>U,e=>U=e),e(t.exports,"useSyncExternalStore",()=>F,e=>F=e),e(t.exports,"useTransition",()=>V,e=>V=e),e(t.exports,"version",()=>z,e=>z=e);var r,i,a,s,o,l,u,c,d,h,f,p,m,g,y,v,b,w,x,k,E,_,S,T,N,C,I,A,D,P,R,j,O,L,M,U,F,V,z,B=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Z=Symbol.iterator,ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,en={};function er(e,t,n){this.props=e,this.context=t,this.refs=en,this.updater=n||ee}function ei(){}function ea(e,t,n){this.props=e,this.context=t,this.refs=en,this.updater=n||ee}er.prototype.isReactComponent={},er.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},er.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},ei.prototype=er.prototype;var es=ea.prototype=new ei;es.constructor=ea,et(es,er.prototype),es.isPureReactComponent=!0;var eo=Array.isArray,el={H:null,A:null,T:null,S:null,V:null},eu=Object.prototype.hasOwnProperty;function ec(e,t,n,r,i,a){return{$$typeof:B,type:e,key:t,ref:void 0!==(n=a.ref)?n:null,props:a}}function ed(e){return"object"==typeof e&&null!==e&&e.$$typeof===B}var eh=/\/+/g;function ef(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function ep(){}function em(e,t,n){if(null==e)return e;var r=[],i=0;return!function e(t,n,r,i,a){var s,o,l,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"bigint":case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case B:case H:c=!0;break;case J:return e((c=t._init)(t._payload),n,r,i,a)}}if(c)return a=a(t),c=""===i?"."+ef(t,0):i,eo(a)?(r="",null!=c&&(r=c.replace(eh,"$&/")+"/"),e(a,n,r,"",function(e){return e})):null!=a&&(ed(a)&&(s=a,o=r+(null==a.key||t&&t.key===a.key?"":(""+a.key).replace(eh,"$&/")+"/")+c,a=ec(s.type,o,void 0,void 0,void 0,s.props)),n.push(a)),1;c=0;var d=""===i?".":i+":";if(eo(t))for(var h=0;h<t.length;h++)u=d+ef(i=t[h],h),c+=e(i,n,r,u,a);else if("function"==typeof(h=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=Z&&l[Z]||l["@@iterator"])?l:null))for(t=h.call(t),h=0;!(i=t.next()).done;)u=d+ef(i=i.value,h++),c+=e(i,n,r,u,a);else if("object"===u){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(ep,ep):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),n,r,i,a);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}return c}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function eg(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ey="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}console.error(e)};function ev(){}r={map:em,forEach:function(e,t,n){em(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return em(e,function(){t++}),t},toArray:function(e){return em(e,function(e){return e})||[]},only:function(e){if(!ed(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i=er,a=q,s=W,o=ea,l=$,u=X,c=el,d={__proto__:null,c:function(e){return el.H.useMemoCache(e)}},h=function(e){return function(){return e.apply(null,arguments)}},f=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=et({},e.props),i=e.key,a=void 0;if(null!=t)for(s in void 0!==t.ref&&(a=void 0),void 0!==t.key&&(i=""+t.key),t)eu.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&("ref"!==s||void 0!==t.ref)&&(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}return ec(e.type,i,void 0,void 0,a,r)},p=function(e){return(e={$$typeof:K,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:G,_context:e},e},m=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)eu.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return ec(e,a,void 0,void 0,null,i)},g=function(){return{current:null}},y=function(e){return{$$typeof:Q,render:e}},v=ed,b=function(e){return{$$typeof:J,_payload:{_status:-1,_result:e},_init:eg}},w=function(e,t){return{$$typeof:Y,type:e,compare:void 0===t?null:t}},x=function(e){var t=el.T,n={};el.T=n;try{var r=e(),i=el.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(ev,ey)}catch(e){ey(e)}finally{el.T=t}},k=function(){return el.H.useCacheRefresh()},E=function(e){return el.H.use(e)},_=function(e,t,n){return el.H.useActionState(e,t,n)},S=function(e,t){return el.H.useCallback(e,t)},T=function(e){return el.H.useContext(e)},N=function(){},C=function(e,t){return el.H.useDeferredValue(e,t)},I=function(e,t,n){var r=el.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},A=function(){return el.H.useId()},D=function(e,t,n){return el.H.useImperativeHandle(e,t,n)},P=function(e,t){return el.H.useInsertionEffect(e,t)},R=function(e,t){return el.H.useLayoutEffect(e,t)},j=function(e,t){return el.H.useMemo(e,t)},O=function(e,t){return el.H.useOptimistic(e,t)},L=function(e,t,n){return el.H.useReducer(e,t,n)},M=function(e){return el.H.useRef(e)},U=function(e){return el.H.useState(e)},F=function(e,t,n){return el.H.useSyncExternalStore(e,t,n)},V=function(){return el.H.useTransition()},z="19.1.1"}),E("iWoMt",function(t,n){e(t.exports,"createRoot",()=>tO,e=>tO=e),e(t.exports,"hydrateRoot",()=>tL,e=>tL=e),e(t.exports,"version",()=>tM,e=>tM=e);var r,i=k("fO90s"),a=k("acw62"),s=k("1u0KT");function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(o(188))}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function D(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference"),R=Array.isArray,j=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],U=-1;function F(e){return{current:e}}function V(e){0>U||(e.current=M[U],M[U]=null,U--)}function z(e,t){M[++U]=e.current,e.current=t}var B=F(null),H=F(null),q=F(null),$=F(null);function W(e,t){switch(z(q,t),z(H,e),z(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?uc(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ud(t=uc(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(B),z(B,e)}function G(){V(B),V(H),V(q)}function K(e){null!==e.memoizedState&&z($,e);var t=B.current,n=ud(t,e.type);t!==n&&(z(H,e),z(B,n))}function Q(e){H.current===e&&(V(B),V(H)),$.current===e&&(V($),u0._currentValue=L)}var X=Object.prototype.hasOwnProperty,Y=i.unstable_scheduleCallback,J=i.unstable_cancelCallback,Z=i.unstable_shouldYield,ee=i.unstable_requestPaint,et=i.unstable_now,en=i.unstable_getCurrentPriorityLevel,er=i.unstable_ImmediatePriority,ei=i.unstable_UserBlockingPriority,ea=i.unstable_NormalPriority,es=i.unstable_LowPriority,eo=i.unstable_IdlePriority,el=i.log,eu=i.unstable_setDisableYieldValue,ec=null,ed=null;function eh(e){if("function"==typeof el&&eu(e),ed&&"function"==typeof ed.setStrictMode)try{ed.setStrictMode(ec,e)}catch(e){}}var ef=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ep(e)/em|0)|0},ep=Math.log,em=Math.LN2,eg=256,ey=4194304;function ev(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:return 0x3c00000&e;case 0x4000000:return 0x4000000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0;default:return e}}function eb(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=0x7ffffff&r;return 0!==o?0!=(r=o&~a)?i=ev(r):0!=(s&=o)?i=ev(s):n||0!=(n=o&~e)&&(i=ev(n)):0!=(o=r&~a)?i=ev(o):0!==s?i=ev(s):n||0!=(n=r&~e)&&(i=ev(n)),0===i?0:0!==t&&t!==i&&0==(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!=(4194048&n))?t:i}function ew(e,t){return 0==(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ex(){var e=eg;return 0==(4194048&(eg<<=1))&&(eg=256),e}function ek(){var e=ey;return 0==(0x3c00000&(ey<<=1))&&(ey=4194304),e}function eE(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function e_(e,t){e.pendingLanes|=t,0x10000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eS(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ef(t);e.entangledLanes|=t,e.entanglements[r]=0x40000000|e.entanglements[r]|4194090&n}function eT(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ef(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function eN(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:e=128;break;case 0x10000000:e=0x8000000;break;default:e=0}return e}function eC(e){return 2<(e&=-e)?8<e?0!=(0x7ffffff&e)?32:0x10000000:8:2}function eI(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:ci(e.type)}var eA=Math.random().toString(36).slice(2),eD="__reactFiber$"+eA,eP="__reactProps$"+eA,eR="__reactContainer$"+eA,ej="__reactEvents$"+eA,eO="__reactListeners$"+eA,eL="__reactHandles$"+eA,eM="__reactResources$"+eA,eU="__reactMarker$"+eA;function eF(e){delete e[eD],delete e[eP],delete e[ej],delete e[eO],delete e[eL]}function eV(e){var t=e[eD];if(t)return t;for(var n=e.parentNode;n;){if(t=n[eR]||n[eD]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uS(e);null!==e;){if(n=e[eD])return n;e=uS(e)}return t}n=(e=n).parentNode}return null}function ez(e){if(e=e[eD]||e[eR]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function eB(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function eH(e){var t=e[eM];return t||(t=e[eM]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function eq(e){e[eU]=!0}var e$=new Set,eW={};function eG(e,t){eK(e,t),eK(e+"Capture",t)}function eK(e,t){for(eW[e]=t,e=0;e<t.length;e++)e$.add(t[e])}var eQ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eX={},eY={};function eJ(e,t,n){if(X.call(eY,t)||!X.call(eX,t)&&(eQ.test(t)?eY[t]=!0:(eX[t]=!0,!1)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function eZ(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function e0(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function e1(e){if(void 0===tU)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);tU=t&&t[1]||"",tF=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+tU+e+tF}var e2=!1;function e5(e,t){if(!e||e2)return"";e2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),u=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do if(r--,i--,0>i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=i)break}}}finally{e2=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?e1(n):""}function e3(e){try{var t="";do t+=function(e){switch(e.tag){case 26:case 27:case 5:return e1(e.type);case 16:return e1("Lazy");case 13:return e1("Suspense");case 19:return e1("SuspenseList");case 0:case 15:return e5(e.type,!1);case 11:return e5(e.type.render,!1);case 1:return e5(e.type,!0);case 31:return e1("Activity");default:return""}}(e),e=e.return;while(e)return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function e4(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function e6(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function e8(e){e._valueTracker||(e._valueTracker=function(e){var t=e6(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function e7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=e6(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function e9(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var te=/[\n"\\]/g;function tt(e){return e.replace(te,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function tn(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+e4(t)):e.value!==""+e4(t)&&(e.value=""+e4(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?ti(e,s,e4(t)):null!=n?ti(e,s,e4(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+e4(o):e.removeAttribute("name")}function tr(e,t,n,r,i,a,s,o){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return;n=null!=n?""+e4(n):"",t=null!=t?""+e4(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s)}function ti(e,t,n){"number"===t&&e9(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ta(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+e4(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ts(e,t,n){if(null!=t&&((t=""+e4(t))!==e.value&&(e.value=t),null==n)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=null!=n?""+e4(n):""}function to(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(R(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}e.defaultValue=n=e4(t),(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function tl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||tu.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function td(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&tc(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&tc(e,a,t[a])}function th(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tm(e){return tp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var tg=null;function ty(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var tv=null,tb=null;function tw(e){var t=ez(e);if(t&&(e=t.stateNode)){var n=e[eP]||null;switch(e=t.stateNode,t.type){case"input":if(tn(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+tt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[eP]||null;if(!i)throw Error(o(90));tn(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&e7(r)}break;case"textarea":ts(e,n.value,n.defaultValue);break;case"select":null!=(t=n.value)&&ta(e,!!n.multiple,t,!1)}}}var tx=!1;function tk(e,t,n){if(tx)return e(t,n);tx=!0;try{return e(t)}finally{if(tx=!1,(null!==tv||null!==tb)&&(la(),tv&&(t=tv,e=tb,tb=tv=null,tw(t),e)))for(t=0;t<e.length;t++)tw(e[t])}}function tE(e,t){var n=e.stateNode;if(null===n)return null;var r=n[eP]||null;if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r="button"!==(e=e.type)&&"input"!==e&&"select"!==e&&"textarea"!==e),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var t_="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,tS=!1;if(t_)try{var tT={};Object.defineProperty(tT,"passive",{get:function(){tS=!0}}),window.addEventListener("test",tT,tT),window.removeEventListener("test",tT,tT)}catch(e){tS=!1}var tN=null,tC=null,tI=null;function tA(){if(tI)return tI;var e,t,n=tC,r=n.length,i="value"in tN?tN.value:tN.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return tI=i.slice(e,1<t?1-t:void 0)}function tD(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tP(){return!0}function tR(){return!1}function tj(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tP:tR,this.isPropagationStopped=tR,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tP)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tP)},persist:function(){},isPersistent:tP}),t}var tO,tL,tM,tU,tF,tV,tz,tB,tH={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tq=tj(tH),t$=h({},tH,{view:0,detail:0}),tW=tj(t$),tG=h({},t$,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t3,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tB&&(tB&&"mousemove"===e.type?(tV=e.screenX-tB.screenX,tz=e.screenY-tB.screenY):tz=tV=0,tB=e),tV)},movementY:function(e){return"movementY"in e?e.movementY:tz}}),tK=tj(tG),tQ=tj(h({},tG,{dataTransfer:0})),tX=tj(h({},t$,{relatedTarget:0})),tY=tj(h({},tH,{animationName:0,elapsedTime:0,pseudoElement:0})),tJ=tj(h({},tH,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),tZ=tj(h({},tH,{data:0})),t0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=t2[e])&&!!t[e]}function t3(){return t5}var t4=tj(h({},t$,{key:function(e){if(e.key){var t=t0[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tD(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?t1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t3,charCode:function(e){return"keypress"===e.type?tD(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tD(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),t6=tj(h({},tG,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),t8=tj(h({},t$,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t3})),t7=tj(h({},tH,{propertyName:0,elapsedTime:0,pseudoElement:0})),t9=tj(h({},tG,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),ne=tj(h({},tH,{newState:0,oldState:0})),nt=[9,13,27,32],nn=t_&&"CompositionEvent"in window,nr=null;t_&&"documentMode"in document&&(nr=document.documentMode);var ni=t_&&"TextEvent"in window&&!nr,na=t_&&(!nn||nr&&8<nr&&11>=nr),ns=!1;function no(e,t){switch(e){case"keyup":return -1!==nt.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nl(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nu=!1,nc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nc[e.type]:"textarea"===t}function nh(e,t,n,r){tv?tb?tb.push(r):tb=[r]:tv=r,0<(t=l6(t,"onChange")).length&&(n=new tq("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nf=null,np=null;function nm(e){lJ(e,0)}function ng(e){if(e7(eB(e)))return e}function ny(e,t){if("change"===e)return t}var nv=!1;if(t_){if(t_){var nb="oninput"in document;if(!nb){var nw=document.createElement("div");nw.setAttribute("oninput","return;"),nb="function"==typeof nw.oninput}r=nb}else r=!1;nv=r&&(!document.documentMode||9<document.documentMode)}function nx(){nf&&(nf.detachEvent("onpropertychange",nk),np=nf=null)}function nk(e){if("value"===e.propertyName&&ng(np)){var t=[];nh(t,np,e,ty(e)),tk(nm,t)}}function nE(e,t,n){"focusin"===e?(nx(),nf=t,np=n,nf.attachEvent("onpropertychange",nk)):"focusout"===e&&nx()}function n_(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ng(np)}function nS(e,t){if("click"===e)return ng(t)}function nT(e,t){if("input"===e||"change"===e)return ng(t)}var nN="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nC(e,t){if(nN(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X.call(t,i)||!nN(e[i],t[i]))return!1}return!0}function nI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nA(e,t){var n,r=nI(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nI(r)}}function nD(e){e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;for(var t=e9(e.document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=e9(e.document)}return t}function nP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nR=t_&&"documentMode"in document&&11>=document.documentMode,nj=null,nO=null,nL=null,nM=!1;function nU(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;nM||null==nj||nj!==e9(r)||(r="selectionStart"in(r=nj)&&nP(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},nL&&nC(nL,r)||(nL=r,0<(r=l6(nO,"onSelect")).length&&(t=new tq("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nj)))}function nF(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nV={animationend:nF("Animation","AnimationEnd"),animationiteration:nF("Animation","AnimationIteration"),animationstart:nF("Animation","AnimationStart"),transitionrun:nF("Transition","TransitionRun"),transitionstart:nF("Transition","TransitionStart"),transitioncancel:nF("Transition","TransitionCancel"),transitionend:nF("Transition","TransitionEnd")},nz={},nB={};function nH(e){if(nz[e])return nz[e];if(!nV[e])return e;var t,n=nV[e];for(t in n)if(n.hasOwnProperty(t)&&t in nB)return nz[e]=n[t];return e}t_&&(nB=document.createElement("div").style,"AnimationEvent"in window||(delete nV.animationend.animation,delete nV.animationiteration.animation,delete nV.animationstart.animation),"TransitionEvent"in window||delete nV.transitionend.transition);var nq=nH("animationend"),n$=nH("animationiteration"),nW=nH("animationstart"),nG=nH("transitionrun"),nK=nH("transitionstart"),nQ=nH("transitioncancel"),nX=nH("transitionend"),nY=new Map,nJ="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nZ(e,t){nY.set(e,t),eG(t,[e])}nJ.push("scrollEnd");var n0=new WeakMap;function n1(e,t){if("object"==typeof e&&null!==e){var n=n0.get(e);return void 0!==n?n:(t={value:e,source:t,stack:e3(t)},n0.set(e,t),t)}return{value:e,source:t,stack:e3(t)}}var n2=[],n5=0,n3=0;function n4(){for(var e=n5,t=n3=n5=0;t<e;){var n=n2[t];n2[t++]=null;var r=n2[t];n2[t++]=null;var i=n2[t];n2[t++]=null;var a=n2[t];if(n2[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&n9(n,i,a)}}function n6(e,t,n,r){n2[n5++]=e,n2[n5++]=t,n2[n5++]=n,n2[n5++]=r,n3|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function n8(e,t,n,r){return n6(e,t,n,r),re(e)}function n7(e,t){return n6(e,null,null,t),re(e)}function n9(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-ef(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=0x20000000|n),a):null}function re(e){if(50<o8)throw o8=0,o7=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var rt={};function rn(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(e,t,n,r){return new rn(e,t,n,r)}function ri(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ra(e,t){var n=e.alternate;return null===n?((n=rr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=0x3e00000&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function rs(e,t){e.flags&=0x3e00002;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,e.dependencies=null===(t=n.dependencies)?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ro(e,t,n,r,i,a){var s=0;if(r=e,"function"==typeof e)ri(e)&&(s=1);else if("string"==typeof e)s=!function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;if("stylesheet"===t.rel)return e=t.disabled,"string"==typeof t.precedence&&null==e;return!0;case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,B.current)?"html"===e||"head"===e||"body"===e?27:5:26;else e:switch(e){case C:return(e=rr(31,n,t,i)).elementType=C,e.lanes=a,e;case g:return rl(n.children,i,a,t);case y:s=8,i|=24;break;case v:return(e=rr(12,n,t,2|i)).elementType=v,e.lanes=a,e;case _:return(e=rr(13,n,t,i)).elementType=_,e.lanes=a,e;case S:return(e=rr(19,n,t,i)).elementType=S,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:case x:s=10;break e;case w:s=9;break e;case E:s=11;break e;case T:s=14;break e;case N:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=rr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function rl(e,t,n,r){return(e=rr(7,e,r,t)).lanes=n,e}function ru(e,t,n){return(e=rr(6,e,null,t)).lanes=n,e}function rc(e,t,n){return(t=rr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var rd=[],rh=0,rf=null,rp=0,rm=[],rg=0,ry=null,rv=1,rb="";function rw(e,t){rd[rh++]=rp,rd[rh++]=rf,rf=e,rp=t}function rx(e,t,n){rm[rg++]=rv,rm[rg++]=rb,rm[rg++]=ry,ry=e;var r=rv;e=rb;var i=32-ef(r)-1;r&=~(1<<i),n+=1;var a=32-ef(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,rv=1<<32-ef(t)+i|n<<i|r,rb=a+e}else rv=1<<a|n<<i|r,rb=e}function rk(e){null!==e.return&&(rw(e,1),rx(e,1,0))}function rE(e){for(;e===rf;)rf=rd[--rh],rd[rh]=null,rp=rd[--rh],rd[rh]=null;for(;e===ry;)ry=rm[--rg],rm[rg]=null,rb=rm[--rg],rm[rg]=null,rv=rm[--rg],rm[rg]=null}var r_=null,rS=null,rT=!1,rN=null,rC=!1,rI=Error(o(519));function rA(e){throw rL(n1(Error(o(418,"")),e)),rI}function rD(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[eD]=e,t[eP]=r,n){case"dialog":lZ("cancel",t),lZ("close",t);break;case"iframe":case"object":case"embed":lZ("load",t);break;case"video":case"audio":for(n=0;n<lX.length;n++)lZ(lX[n],t);break;case"source":lZ("error",t);break;case"img":case"image":case"link":lZ("error",t),lZ("load",t);break;case"details":lZ("toggle",t);break;case"input":lZ("invalid",t),tr(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),e8(t);break;case"select":lZ("invalid",t);break;case"textarea":lZ("invalid",t),to(t,r.value,r.defaultValue,r.children),e8(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||un(t.textContent,n)?(null!=r.popover&&(lZ("beforetoggle",t),lZ("toggle",t)),null!=r.onScroll&&lZ("scroll",t),null!=r.onScrollEnd&&lZ("scrollend",t),null!=r.onClick&&(t.onclick=ur),t=!0):t=!1,t||rA(e)}function rP(e){for(r_=e.return;r_;)switch(r_.tag){case 5:case 13:rC=!1;return;case 27:case 3:rC=!0;return;default:r_=r_.return}}function rR(e){if(e!==r_)return!1;if(!rT)return rP(e),rT=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t="form"===(t=e.type)||"button"===t||uh(e.type,e.memoizedProps)),t=!t),t&&rS&&rA(e),rP(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(n=0,e=e.nextSibling;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){rS=uE(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}rS=null}}else 27===n?(n=rS,ub(e.type)?(e=u_,u_=null,rS=e):rS=n):rS=r_?uE(e.stateNode.nextSibling):null;return!0}function rj(){rS=r_=null,rT=!1}function rO(){var e=rN;return null!==e&&(null===oK?oK=e:oK.push.apply(oK,e),rN=null),e}function rL(e){null===rN?rN=[e]:rN.push(e)}var rM=F(null),rU=null,rF=null;function rV(e,t,n){z(rM,t._currentValue),t._currentValue=n}function rz(e){e._currentValue=rM.current,V(rM)}function rB(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rH(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),rB(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),rB(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function rq(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a){if(0!=(524288&i.flags))a=!0;else if(0!=(262144&i.flags))break}if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;nN(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===$.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(u0):e=[u0])}i=i.return}null!==e&&rH(t,e,n,r),t.flags|=262144}function r$(e){for(e=e.firstContext;null!==e;){if(!nN(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function rW(e){rU=e,rF=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function rG(e){return rQ(rU,e)}function rK(e,t){return null===rU&&rW(e),rQ(e,t)}function rQ(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===rF){if(null===e)throw Error(o(308));rF=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rF=rF.next=t;return n}var rX="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},rY=i.unstable_scheduleCallback,rJ=i.unstable_NormalPriority,rZ={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function r0(){return{controller:new rX,data:new Map,refCount:0}}function r1(e){e.refCount--,0===e.refCount&&rY(rJ,function(){e.controller.abort()})}var r2=null,r5=0,r3=0,r4=null;function r6(){if(0==--r5&&null!==r2){null!==r4&&(r4.status="fulfilled");var e=r2;r2=null,r3=0,r4=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var r8=j.S;j.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===r2){var n=r2=[];r5=0,r3=l$(),r4={status:"pending",value:void 0,then:function(e){n.push(e)}}}r5++,t.then(r6,r6)}(0,t),null!==r8&&r8(e,t)};var r7=F(null);function r9(){var e=r7.current;return null!==e?e:oP.pooledCache}function ie(e,t){null===t?z(r7,r7.current):z(r7,t.pool)}function it(){var e=r9();return null===e?null:{parent:rZ._currentValue,pool:e}}var ir=Error(o(460)),ii=Error(o(474)),ia=Error(o(542)),is={then:function(){}};function io(e){return"fulfilled"===(e=e.status)||"rejected"===e}function il(){}function iu(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(il,il),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ih(e=t.reason),e;default:if("string"==typeof t.status)t.then(il,il);else{if(null!==(e=oP)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ih(e=t.reason),e}throw ic=t,ir}}var ic=null;function id(){if(null===ic)throw Error(o(459));var e=ic;return ic=null,e}function ih(e){if(e===ir||e===ia)throw Error(o(483))}var ip=!1;function im(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ig(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function iy(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function iv(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&oD)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=re(e),n9(e,null,n),t}return n6(e,r,t,n),re(e)}function ib(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194048&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eT(e,n)}}function iw(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n)null===a?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ix=!1;function ik(){if(ix){var e=r4;if(null!==e)throw e}}function iE(e,t,n,r){ix=!1;var i=e.updateQueue;ip=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==a){var d=i.baseState;for(s=0,c=u=l=null,o=a;;){var f=-0x20000001&o.lane,p=f!==o.lane;if(p?(oj&f)===f:(r&f)===f){0!==f&&f===r3&&(ix=!0),null!==c&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;switch(f=t,g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(n,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(n,d,f):m))break e;d=h({},d,f);break e;case 2:ip=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,s|=f;if(null===(o=o.next))if(null===(o=i.shared.pending))break;else o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===a&&(i.shared.lanes=0),oB|=s,e.lanes=s,e.memoizedState=d}}function i_(e,t){if("function"!=typeof e)throw Error(o(191,e));e.call(t)}function iS(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)i_(n[e],t)}var iT=F(null),iN=F(0);function iC(e,t){z(iN,e=oV),z(iT,t),oV=e|t.baseLanes}function iI(){z(iN,oV),z(iT,iT.current)}function iA(){oV=iN.current,V(iT),V(iN)}var iD=0,iP=null,iR=null,ij=null,iO=!1,iL=!1,iM=!1,iU=0,iF=0,iV=null,iz=0;function iB(){throw Error(o(321))}function iH(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nN(e[n],t[n]))return!1;return!0}function iq(e,t,n,r,i,a){return iD=a,iP=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=null===e||null===e.memoizedState?aX:aY,iM=!1,a=n(r,i),iM=!1,iL&&(a=iW(t,n,r,i)),i$(e),a}function i$(e){j.H=aQ;var t=null!==iR&&null!==iR.next;if(iD=0,ij=iR=iP=null,iO=!1,iF=0,iV=null,t)throw Error(o(300));null===e||sx||null!==(e=e.dependencies)&&r$(e)&&(sx=!0)}function iW(e,t,n,r){iP=e;var i=0;do{if(iL&&(iV=null),iF=0,iL=!1,25<=i)throw Error(o(301));if(i+=1,ij=iR=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}j.H=aJ,a=t(n,r)}while(iL)return a}function iG(){var e=j.H,t=e.useState()[0];return t="function"==typeof t.then?i0(t):t,e=e.useState()[0],(null!==iR?iR.memoizedState:null)!==e&&(iP.flags|=1024),t}function iK(){var e=0!==iU;return iU=0,e}function iQ(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function iX(e){if(iO){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}iO=!1}iD=0,ij=iR=iP=null,iL=!1,iF=iU=0,iV=null}function iY(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ij?iP.memoizedState=ij=e:ij=ij.next=e,ij}function iJ(){if(null===iR){var e=iP.alternate;e=null!==e?e.memoizedState:null}else e=iR.next;var t=null===ij?iP.memoizedState:ij.next;if(null!==t)ij=t,iR=e;else{if(null===e){if(null===iP.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(iR=e).memoizedState,baseState:iR.baseState,baseQueue:iR.baseQueue,queue:iR.queue,next:null},null===ij?iP.memoizedState=ij=e:ij=ij.next=e}return ij}function iZ(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function i0(e){var t=iF;return iF+=1,null===iV&&(iV=[]),e=iu(iV,e,t),t=iP,null===(null===ij?t.memoizedState:ij.next)&&(j.H=null===(t=t.alternate)||null===t.memoizedState?aX:aY),e}function i1(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return i0(e);if(e.$$typeof===x)return rG(e)}throw Error(o(438,String(e)))}function i2(e){var t=null,n=iP.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=iP.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n=iZ(),iP.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function i5(e,t){return"function"==typeof t?t(e):t}function i3(e){return i4(iJ(),iR,e)}function i4(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{t=i.next;var l=s=null,u=null,c=t,d=!1;do{var h=-0x20000001&c.lane;if(h!==c.lane?(oj&h)===h:(iD&h)===h){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===r3&&(d=!0);else if((iD&f)===f){c=c.next,f===r3&&(d=!0);continue}else h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,s=a):u=u.next=h,iP.lanes|=f,oB|=f;h=c.action,iM&&n(a,h),a=c.hasEagerState?c.eagerState:n(a,h)}else f={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,s=a):u=u.next=f,iP.lanes|=h,oB|=h;c=c.next}while(null!==c&&c!==t)if(null===u?s=a:u.next=l,!nN(a,e.memoizedState)&&(sx=!0,d&&null!==(n=r4)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=u,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function i6(e){var t=iJ(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i)nN(a,t.memoizedState)||(sx=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function i8(e,t,n){var r=iP,i=iJ(),a=rT;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!nN((iR||i).memoizedState,n);if(s&&(i.memoizedState=n,sx=!0),i=i.queue,ax(2048,8,ae.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==ij&&1&ij.memoizedState.tag){if(r.flags|=2048,ay(9,av(),i9.bind(null,r,i,n,t),null),null===oP)throw Error(o(349));a||0!=(124&iD)||i7(r,t,n)}return n}function i7(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=iP.updateQueue)?(t=iZ(),iP.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function i9(e,t,n,r){t.value=n,t.getSnapshot=r,at(t)&&an(e)}function ae(e,t,n){return n(function(){at(t)&&an(e)})}function at(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nN(e,n)}catch(e){return!0}}function an(e){var t=n7(e,2);null!==t&&lt(t,e,2)}function ar(e){var t=iY();if("function"==typeof e){var n=e;if(e=n(),iM){eh(!0);try{n()}finally{eh(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i5,lastRenderedState:e},t}function ai(e,t,n,r){return e.baseState=n,i4(e,iR,"function"==typeof r?r:i5)}function aa(e,t,n,r,i){if(aW(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==j.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,as(t,a)):(a.next=n.next,t.pending=n.next=a)}}function as(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=j.T,s={};j.T=s;try{var o=n(i,r),l=j.S;null!==l&&l(s,o),ao(e,t,o)}catch(n){au(e,t,n)}finally{j.T=a}}else try{a=n(i,r),ao(e,t,a)}catch(n){au(e,t,n)}}function ao(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){al(e,t,n)},function(n){return au(e,t,n)}):al(e,t,n)}function al(e,t,n){t.status="fulfilled",t.value=n,ac(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,as(e,n)))}function au(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do t.status="rejected",t.reason=n,ac(t),t=t.next;while(t!==r)}e.action=null}function ac(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ad(e,t){return t}function ah(e,t){if(rT){var n=oP.formState;if(null!==n){e:{var r=iP;if(rT){if(rS){t:{for(var i=rS,a=rC;8!==i.nodeType;)if(!a||null===(i=uE(i.nextSibling))){i=null;break t}i="F!"===(a=i.data)||"F"===a?i:null}if(i){rS=uE(i.nextSibling),r="F!"===i.data;break e}}rA(r)}r=!1}r&&(t=n[0])}}return(n=iY()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ad,lastRenderedState:t},n.queue=r,n=aH.bind(null,iP,r),r.dispatch=n,r=ar(!1),a=a$.bind(null,iP,!1,r.queue),r=iY(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=aa.bind(null,iP,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function af(e){return ap(iJ(),iR,e)}function ap(e,t,n){if(t=i4(e,t,ad)[0],e=i3(i5)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=i0(t)}catch(e){if(e===ir)throw ia;throw e}else r=t;var i=(t=iJ()).queue,a=i.dispatch;return n!==t.memoizedState&&(iP.flags|=2048,ay(9,av(),am.bind(null,i,n),null)),[r,a,e]}function am(e,t){e.action=t}function ag(e){var t=iJ(),n=iR;if(null!==n)return ap(t,n,e);iJ(),t=t.memoizedState;var r=(n=iJ()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ay(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=iP.updateQueue)&&(t=iZ(),iP.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function av(){return{destroy:void 0,resource:void 0}}function ab(){return iJ().memoizedState}function aw(e,t,n,r){var i=iY();r=void 0===r?null:r,iP.flags|=e,i.memoizedState=ay(1|t,av(),n,r)}function ax(e,t,n,r){var i=iJ();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==iR&&null!==r&&iH(r,iR.memoizedState.deps)?i.memoizedState=ay(t,a,n,r):(iP.flags|=e,i.memoizedState=ay(1|t,a,n,r))}function ak(e,t){aw(8390656,8,e,t)}function aE(e,t){ax(2048,8,e,t)}function a_(e,t){return ax(4,2,e,t)}function aS(e,t){return ax(4,4,e,t)}function aT(e,t){if("function"==typeof t){var n=t(e=e());return function(){"function"==typeof n?n():t(null)}}if(null!=t)return t.current=e=e(),function(){t.current=null}}function aN(e,t,n){n=null!=n?n.concat([e]):null,ax(4,4,aT.bind(null,t,e),n)}function aC(){}function aI(e,t){var n=iJ();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&iH(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aA(e,t){var n=iJ();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&iH(t,r[1]))return r[0];if(r=e(),iM){eh(!0);try{e()}finally{eh(!1)}}return n.memoizedState=[r,t],r}function aD(e,t,n){return void 0===n||0!=(0x40000000&iD)?e.memoizedState=t:(e.memoizedState=n,e=le(),iP.lanes|=e,oB|=e,n)}function aP(e,t,n,r){return nN(n,t)?n:null!==iT.current?(nN(e=aD(e,n,r),t)||(sx=!0),e):0==(42&iD)?(sx=!0,e.memoizedState=n):(e=le(),iP.lanes|=e,oB|=e,t)}function aR(e,t,n,r,i){var a=O.p;O.p=0!==a&&8>a?a:8;var s=j.T,o={};j.T=o,a$(e,!1,t,n);try{var l=i(),u=j.S;if(null!==u&&u(o,l),null!==l&&"object"==typeof l&&"function"==typeof l.then){var c,d,h=(c=[],d={status:"pending",value:null,reason:null,then:function(e){c.push(e)}},l.then(function(){d.status="fulfilled",d.value=r;for(var e=0;e<c.length;e++)(0,c[e])(r)},function(e){for(d.status="rejected",d.reason=e,e=0;e<c.length;e++)(0,c[e])(void 0)}),d);aq(e,t,h,o9(e))}else aq(e,t,r,o9(e))}catch(n){aq(e,t,{then:function(){},status:"rejected",reason:n},o9())}finally{O.p=a,j.T=s}}function aj(){}function aO(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=aL(e).queue;aR(e,i,t,L,null===n?aj:function(){return aM(e),n(r)})}function aL(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:i5,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:i5,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function aM(e){var t=aL(e).next.queue;aq(e,t,{},o9())}function aU(){return rG(u0)}function aF(){return iJ().memoizedState}function aV(){return iJ().memoizedState}function az(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=o9(),r=iv(t,e=iy(n),n);null!==r&&(lt(r,t,n),ib(r,t,n)),t={cache:r0()},e.payload=t;return}t=t.return}}function aB(e,t,n){var r=o9();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},aW(e)?aG(t,n):null!==(n=n8(e,t,n,r))&&(lt(n,e,r),aK(n,t,r))}function aH(e,t,n){aq(e,t,n,o9())}function aq(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(aW(e))aG(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,nN(o,s))return n6(e,t,i,0),null===oP&&n4(),!1}catch(e){}finally{}if(null!==(n=n8(e,t,i,r)))return lt(n,e,r),aK(n,t,r),!0}return!1}function a$(e,t,n,r){if(r={lane:2,revertLane:l$(),action:r,hasEagerState:!1,eagerState:null,next:null},aW(e)){if(t)throw Error(o(479))}else null!==(t=n8(e,n,r,2))&&lt(t,e,2)}function aW(e){var t=e.alternate;return e===iP||null!==t&&t===iP}function aG(e,t){iL=iO=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aK(e,t,n){if(0!=(4194048&n)){var r=t.lanes;r&=e.pendingLanes,t.lanes=n|=r,eT(e,n)}}var aQ={readContext:rG,use:i1,useCallback:iB,useContext:iB,useEffect:iB,useImperativeHandle:iB,useLayoutEffect:iB,useInsertionEffect:iB,useMemo:iB,useReducer:iB,useRef:iB,useState:iB,useDebugValue:iB,useDeferredValue:iB,useTransition:iB,useSyncExternalStore:iB,useId:iB,useHostTransitionStatus:iB,useFormState:iB,useActionState:iB,useOptimistic:iB,useMemoCache:iB,useCacheRefresh:iB},aX={readContext:rG,use:i1,useCallback:function(e,t){return iY().memoizedState=[e,void 0===t?null:t],e},useContext:rG,useEffect:ak,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,aw(4194308,4,aT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return aw(4194308,4,e,t)},useInsertionEffect:function(e,t){aw(4,2,e,t)},useMemo:function(e,t){var n=iY();t=void 0===t?null:t;var r=e();if(iM){eh(!0);try{e()}finally{eh(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=iY();if(void 0!==n){var i=n(t);if(iM){eh(!0);try{n(t)}finally{eh(!1)}}}else i=t;return r.memoizedState=r.baseState=i,r.queue=e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},e=e.dispatch=aB.bind(null,iP,e),[r.memoizedState,e]},useRef:function(e){return iY().memoizedState=e={current:e}},useState:function(e){var t=(e=ar(e)).queue,n=aH.bind(null,iP,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:aC,useDeferredValue:function(e,t){return aD(iY(),e,t)},useTransition:function(){var e=ar(!1);return e=aR.bind(null,iP,e.queue,!0,!1),iY().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=iP,i=iY();if(rT){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===oP)throw Error(o(349));0!=(124&oj)||i7(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ak(ae.bind(null,r,a,e),[e]),r.flags|=2048,ay(9,av(),i9.bind(null,r,a,n,t),null),n},useId:function(){var e=iY(),t=oP.identifierPrefix;if(rT){var n=rb,r=rv;t="«"+t+"R"+(n=(r&~(1<<32-ef(r)-1)).toString(32)+n),0<(n=iU++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=iz++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:aU,useFormState:ah,useActionState:ah,useOptimistic:function(e){var t=iY();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=a$.bind(null,iP,!0,n),n.dispatch=t,[e,t]},useMemoCache:i2,useCacheRefresh:function(){return iY().memoizedState=az.bind(null,iP)}},aY={readContext:rG,use:i1,useCallback:aI,useContext:rG,useEffect:aE,useImperativeHandle:aN,useInsertionEffect:a_,useLayoutEffect:aS,useMemo:aA,useReducer:i3,useRef:ab,useState:function(){return i3(i5)},useDebugValue:aC,useDeferredValue:function(e,t){return aP(iJ(),iR.memoizedState,e,t)},useTransition:function(){var e=i3(i5)[0],t=iJ().memoizedState;return["boolean"==typeof e?e:i0(e),t]},useSyncExternalStore:i8,useId:aF,useHostTransitionStatus:aU,useFormState:af,useActionState:af,useOptimistic:function(e,t){return ai(iJ(),iR,e,t)},useMemoCache:i2,useCacheRefresh:aV},aJ={readContext:rG,use:i1,useCallback:aI,useContext:rG,useEffect:aE,useImperativeHandle:aN,useInsertionEffect:a_,useLayoutEffect:aS,useMemo:aA,useReducer:i6,useRef:ab,useState:function(){return i6(i5)},useDebugValue:aC,useDeferredValue:function(e,t){var n=iJ();return null===iR?aD(n,e,t):aP(n,iR.memoizedState,e,t)},useTransition:function(){var e=i6(i5)[0],t=iJ().memoizedState;return["boolean"==typeof e?e:i0(e),t]},useSyncExternalStore:i8,useId:aF,useHostTransitionStatus:aU,useFormState:ag,useActionState:ag,useOptimistic:function(e,t){var n=iJ();return null!==iR?ai(n,iR,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:i2,useCacheRefresh:aV},aZ=null,a0=0;function a1(e){var t=a0;return a0+=1,null===aZ&&(aZ=[]),iu(aZ,e,t)}function a2(e,t){e.ref=void 0!==(t=t.props.ref)?t:null}function a5(e,t){if(t.$$typeof===f)throw Error(o(525));throw Error(o(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function a3(e){return(0,e._init)(e._payload)}function a4(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=ra(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=0x4000002,n):r:(t.flags|=0x4000002,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=0x4000002),t}function l(e,t,n,r){return null===t||6!==t.tag?(t=ru(n,e.mode,r)).return=e:(t=i(t,n)).return=e,t}function u(e,t,n,r){var a=n.type;return a===g?d(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===N&&a3(a)===t.type)?a2(t=i(t,n.props),n):a2(t=ro(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=rc(n,e.mode,r)).return=e:(t=i(t,n.children||[])).return=e,t}function d(e,t,n,r,a){return null===t||7!==t.tag?(t=rl(n,e.mode,r,a)).return=e:(t=i(t,n)).return=e,t}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=ru(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return a2(n=ro(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=rc(t,e.mode,n)).return=e,t;case N:return h(e,t=(0,t._init)(t._payload),n)}if(R(t)||D(t))return(t=rl(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,a1(t),n);if(t.$$typeof===x)return h(e,rK(e,t),n);a5(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?u(e,t,n,r):null;case m:return n.key===i?c(e,t,n,r):null;case N:return f(e,t,n=(i=n._init)(n._payload),r)}if(R(n)||D(n))return null!==i?null:d(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,a1(n),r);if(n.$$typeof===x)return f(e,t,rK(e,n),r);a5(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(R(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return y(e,t,n,a1(r),i);if(r.$$typeof===x)return y(e,t,n,rK(t,r),i);a5(t,r)}return null}return function(l,u,c,d){try{a0=0;var v=function l(u,c,d,v){if("object"==typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case p:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===g){if(7===c.tag){n(u,c.sibling),(v=i(c,d.props.children)).return=u,u=v;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===N&&a3(b)===c.type){n(u,c.sibling),a2(v=i(c,d.props),d),v.return=u,u=v;break e}n(u,c);break}t(u,c),c=c.sibling}d.type===g?(v=rl(d.props.children,u.mode,v,d.key)).return=u:(a2(v=ro(d.type,d.key,d.props,null,u.mode,v),d),v.return=u),u=v}return s(u);case m:e:{for(b=d.key;null!==c;){if(c.key===b)if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(u,c.sibling),(v=i(c,d.children||[])).return=u,u=v;break e}else{n(u,c);break}t(u,c),c=c.sibling}(v=rc(d,u.mode,v)).return=u,u=v}return s(u);case N:return l(u,c,d=(b=d._init)(d._payload),v)}if(R(d))return function(i,s,o,l){for(var u=null,c=null,d=s,p=s=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),s=a(g,s,p),null===c?u=g:c.sibling=g,c=g,d=m}if(p===o.length)return n(i,d),rT&&rw(i,p),u;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(s=a(d,s,p),null===c?u=d:c.sibling=d,c=d);return rT&&rw(i,p),u}for(d=r(d);p<o.length;p++)null!==(m=y(d,i,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=a(m,s,p),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach(function(e){return t(i,e)}),rT&&rw(i,p),u}(u,c,d,v);if(D(d)){if("function"!=typeof(b=D(d)))throw Error(o(150));return function(i,s,l,u){if(null==l)throw Error(o(151));for(var c=null,d=null,p=s,m=s=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,u);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),s=a(b,s,m),null===d?c=b:d.sibling=b,d=b,p=g}if(v.done)return n(i,p),rT&&rw(i,m),c;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,u))&&(s=a(v,s,m),null===d?c=v:d.sibling=v,d=v);return rT&&rw(i,m),c}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,u))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=a(v,s,m),null===d?c=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(i,e)}),rT&&rw(i,m),c}(u,c,d=b.call(d),v)}if("function"==typeof d.then)return l(u,c,a1(d),v);if(d.$$typeof===x)return l(u,c,rK(u,d),v);a5(u,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(u,c.sibling),(v=i(c,d)).return=u):(n(u,c),(v=ru(d,u.mode,v)).return=u),s(u=v)):n(u,c)}(l,u,c,d);return aZ=null,v}catch(e){if(e===ir||e===ia)throw e;var b=rr(29,e,null,l.mode);return b.lanes=d,b.return=l,b}finally{}}}var a6=a4(!0),a8=a4(!1),a7=F(null),a9=null;function se(e){var t=e.alternate;z(si,1&si.current),z(a7,e),null===a9&&(null===t||null!==iT.current?a9=e:null!==t.memoizedState&&(a9=e))}function st(e){if(22===e.tag){if(z(si,si.current),z(a7,e),null===a9){var t=e.alternate;null!==t&&null!==t.memoizedState&&(a9=e)}}else sn(e)}function sn(){z(si,si.current),z(a7,a7.current)}function sr(e){V(a7),a9===e&&(a9=null),V(si)}var si=F(0);function sa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||uk(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ss(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var so={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=o9(),i=iy(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=iv(e,i,r))&&(lt(t,e,r),ib(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=o9(),i=iy(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=iv(e,i,r))&&(lt(t,e,r),ib(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=o9(),r=iy(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=iv(e,r,n))&&(lt(t,e,n),ib(t,e,n))}};function sl(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||!nC(n,r)||!nC(i,a)}function su(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function sc(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var sd="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}console.error(e)};function sh(e){sd(e)}function sf(e){console.error(e)}function sp(e){sd(e)}function sm(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function sg(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function sy(e,t,n){return(n=iy(n)).tag=3,n.payload={element:null},n.callback=function(){sm(e,t)},n}function sv(e){return(e=iy(e)).tag=3,e}function sb(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){sg(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){sg(t,n,r),"function"!=typeof i&&(null===oZ?oZ=new Set([this]):oZ.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var sw=Error(o(461)),sx=!1;function sk(e,t,n,r){t.child=null===e?a8(t,null,n,r):a6(t,e.child,n,r)}function sE(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return(rW(t),r=iq(e,t,n,s,a,i),o=iK(),null===e||sx)?(rT&&o&&rk(t),t.flags|=1,sk(e,t,r,i),t.child):(iQ(e,t,i),sH(e,t,i))}function s_(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||ri(a)||void 0!==a.defaultProps||null!==n.compare?((e=ro(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,sS(e,t,a,r,i))}if(a=e.child,!sq(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:nC)(s,r)&&e.ref===t.ref)return sH(e,t,i)}return t.flags|=1,(e=ra(a,r)).ref=t.ref,e.return=t,t.child=e}function sS(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(nC(a,r)&&e.ref===t.ref)if(sx=!1,t.pendingProps=r=a,!sq(e,i))return t.lanes=e.lanes,sH(e,t,i);else 0!=(131072&e.flags)&&(sx=!0)}return sI(e,t,n,r,i)}function sT(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!=(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(a=0,i=t.child=e.child;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return sN(e,t,r,n)}if(0==(0x20000000&n))return t.lanes=t.childLanes=0x20000000,sN(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&ie(t,null!==a?a.cachePool:null),null!==a?iC(t,a):iI(),st(t)}else null!==a?(ie(t,a.cachePool),iC(t,a),sn(t),t.memoizedState=null):(null!==e&&ie(t,null),iI(),sn(t));return sk(e,t,i,n),t.child}function sN(e,t,n,r){var i=r9();return t.memoizedState={baseLanes:n,cachePool:i=null===i?null:{parent:rZ._currentValue,pool:i}},null!==e&&ie(t,null),iI(),st(t),null!==e&&rq(e,t,r,!0),null}function sC(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(o(284));(null===e||e.ref!==n)&&(t.flags|=4194816)}}function sI(e,t,n,r,i){return(rW(t),n=iq(e,t,n,r,void 0,i),r=iK(),null===e||sx)?(rT&&r&&rk(t),t.flags|=1,sk(e,t,n,i),t.child):(iQ(e,t,i),sH(e,t,i))}function sA(e,t,n,r,i,a){return(rW(t),t.updateQueue=null,n=iW(t,r,n,i),i$(e),r=iK(),null===e||sx)?(rT&&r&&rk(t),t.flags|=1,sk(e,t,n,a),t.child):(iQ(e,t,a),sH(e,t,a))}function sD(e,t,n,r,i){if(rW(t),null===t.stateNode){var a=rt,s=n.contextType;"object"==typeof s&&null!==s&&(a=rG(s)),t.memoizedState=null!==(a=new n(r,a)).state&&void 0!==a.state?a.state:null,a.updater=so,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},im(t),s=n.contextType,a.context="object"==typeof s&&null!==s?rG(s):rt,a.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(ss(t,n,s,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(s=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&so.enqueueReplaceState(a,a.state,null),iE(t,r,a,i),ik(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=sc(n,o);a.props=l;var u=a.context,c=n.contextType;s=rt,"object"==typeof c&&null!==c&&(s=rG(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o||u!==s)&&su(t,a,r,s),ip=!1;var h=t.memoizedState;a.state=h,iE(t,r,a,i),ik(),u=t.memoizedState,o||h!==u||ip?("function"==typeof d&&(ss(t,n,d,r),u=t.memoizedState),(l=ip||sl(t,n,l,r,h,u,s))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ig(e,t),c=sc(n,s=t.memoizedProps),a.props=c,d=t.pendingProps,h=a.context,u=n.contextType,l=rt,"object"==typeof u&&null!==u&&(l=rG(u)),(u="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&su(t,a,r,l),ip=!1,h=t.memoizedState,a.state=h,iE(t,r,a,i),ik();var f=t.memoizedState;s!==d||h!==f||ip||null!==e&&null!==e.dependencies&&r$(e.dependencies)?("function"==typeof o&&(ss(t,n,o,r),f=t.memoizedState),(c=ip||sl(t,n,c,r,h,f,l)||null!==e&&null!==e.dependencies&&r$(e.dependencies))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,sC(e,t),r=0!=(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=a6(t,e.child,null,i),t.child=a6(t,null,n,i)):sk(e,t,n,i),t.memoizedState=a.state,e=t.child):e=sH(e,t,i),e}function sP(e,t,n,r){return rj(),t.flags|=256,sk(e,t,n,r),t.child}var sR={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sj(e){return{baseLanes:e,cachePool:it()}}function sO(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=o$),e}function sL(e,t,n){var r,i=t.pendingProps,a=!1,s=0!=(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!=(2&si.current)),r&&(a=!0,t.flags&=-129),r=0!=(32&t.flags),t.flags&=-33,null===e){if(rT){if(a?se(t):sn(t),rT){var l,u=rS;if(l=u){n:{for(l=u,u=rC;8!==l.nodeType;)if(!u||null===(l=uE(l.nextSibling))){u=null;break n}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==ry?{id:rv,overflow:rb}:null,retryLane:0x20000000,hydrationErrors:null},(l=rr(18,null,null,0)).stateNode=u,l.return=t,t.child=l,r_=t,rS=null,l=!0):l=!1}l||rA(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return uk(u)?t.lanes=32:t.lanes=0x20000000,null;sr(t)}return(u=i.children,i=i.fallback,a)?(sn(t),u=sU({mode:"hidden",children:u},a=t.mode),i=rl(i,a,n,null),u.return=t,i.return=t,u.sibling=i,t.child=u,(a=t.child).memoizedState=sj(n),a.childLanes=sO(e,r,n),t.memoizedState=sR,i):(se(t),sM(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(s)256&t.flags?(se(t),t.flags&=-257,t=sF(e,t,n)):null!==t.memoizedState?(sn(t),t.child=e.child,t.flags|=128,t=null):(sn(t),a=i.fallback,u=t.mode,i=sU({mode:"visible",children:i.children},u),a=rl(a,u,n,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,a6(t,e.child,null,n),(i=t.child).memoizedState=sj(n),i.childLanes=sO(e,r,n),t.memoizedState=sR,t=a);else if(se(t),uk(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(o(419))).stack="",i.digest=r,rL({value:i,source:null,stack:null}),t=sF(e,t,n)}else if(sx||rq(e,t,n,!1),r=0!=(n&e.childLanes),sx||r){if(null!==(r=oP)&&0!==(i=0!=((i=0!=(42&(i=n&-n))?1:eN(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,n7(e,i),lt(r,e,i),sw;"$?"===u.data||ld(),t=sF(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,rS=uE(u.nextSibling),r_=t,rT=!0,rN=null,rC=!1,null!==e&&(rm[rg++]=rv,rm[rg++]=rb,rm[rg++]=ry,rv=e.id,rb=e.overflow,ry=t),t=sM(t,i.children),t.flags|=4096);return t}return a?(sn(t),a=i.fallback,u=t.mode,c=(l=e.child).sibling,(i=ra(l,{mode:"hidden",children:i.children})).subtreeFlags=0x3e00000&l.subtreeFlags,null!==c?a=ra(c,a):(a=rl(a,u,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(u=e.child.memoizedState)?u=sj(n):(null!==(l=u.cachePool)?(c=rZ._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=it(),u={baseLanes:u.baseLanes|n,cachePool:l}),a.memoizedState=u,a.childLanes=sO(e,r,n),t.memoizedState=sR,i):(se(t),e=(n=e.child).sibling,(n=ra(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function sM(e,t){return(t=sU({mode:"visible",children:t},e.mode)).return=e,e.child=t}function sU(e,t){return(e=rr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function sF(e,t,n){return a6(t,e.child,null,n),e=sM(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sV(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),rB(e.return,t,n)}function sz(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function sB(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(sk(e,t,r.children,n),0!=(2&(r=si.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sV(e,n,t);else if(19===e.tag)sV(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(si,r),i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===sa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sz(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===sa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sz(t,!0,n,null,a);break;case"together":sz(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sH(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),oB|=t.lanes,0==(n&t.childLanes)){if(null===e)return null;else if(rq(e,t,n,!1),0==(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=ra(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ra(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sq(e,t){return 0!=(e.lanes&t)||!!(null!==(e=e.dependencies)&&r$(e))}function s$(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)sx=!0;else{if(!sq(e,n)&&0==(128&t.flags))return sx=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),rV(t,rZ,e.memoizedState.cache),rj();break;case 27:case 5:K(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:rV(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r){if(null!==r.dehydrated)return se(t),t.flags|=128,null;if(0!=(n&t.child.childLanes))return sL(e,t,n);return se(t),null!==(e=sH(e,t,n))?e.sibling:null}se(t);break;case 19:var i=0!=(128&e.flags);if((r=0!=(n&t.childLanes))||(rq(e,t,n,!1),r=0!=(n&t.childLanes)),i){if(r)return sB(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(si,si.current),!r)return null;break;case 22:case 23:return t.lanes=0,sT(e,t,n);case 24:rV(t,rZ,e.memoizedState.cache)}return sH(e,t,n)}(e,t,n);sx=0!=(131072&e.flags)}else sx=!1,rT&&0!=(1048576&t.flags)&&rx(t,rp,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"==typeof r)ri(r)?(e=sc(r,e),t.tag=1,t=sD(null,t,r,e,n)):(t.tag=0,t=sI(null,t,r,e,n));else{if(null!=r){if((i=r.$$typeof)===E){t.tag=11,t=sE(null,t,r,e,n);break e}else if(i===T){t.tag=14,t=s_(null,t,r,e,n);break e}}throw Error(o(306,t=function e(t){if(null==t)return null;if("function"==typeof t)return t.$$typeof===P?null:t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case _:return"Suspense";case S:return"SuspenseList";case C:return"Activity"}if("object"==typeof t)switch(t.$$typeof){case m:return"Portal";case x:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case E:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case T:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case N:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(r)||r,""))}}return t;case 0:return sI(e,t,t.type,t.pendingProps,n);case 1:return i=sc(r=t.type,t.pendingProps),sD(e,t,r,i,n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ig(e,t),iE(t,r,null,n);var s=t.memoizedState;if(rV(t,rZ,r=s.cache),r!==a.cache&&rH(t,[rZ],n,!0),ik(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=sP(e,t,r,n);break e}else if(r!==i){rL(i=n1(Error(o(424)),t)),t=sP(e,t,r,n);break e}else for(rS=uE((e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e).firstChild),r_=t,rT=!0,rN=null,rC=!0,n=a8(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling;else{if(rj(),r===i){t=sH(e,t,n);break e}sk(e,t,r,n)}t=t.child}return t;case 26:return sC(e,t),null===e?(n=uj(t.type,null,t.pendingProps,null))?t.memoizedState=n:rT||(n=t.type,e=t.pendingProps,(r=uu(q.current).createElement(n))[eD]=t,r[eP]=e,us(r,n,e),eq(r),t.stateNode=r):t.memoizedState=uj(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&rT&&(r=t.stateNode=uT(t.type,t.pendingProps,q.current),r_=t,rC=!0,i=rS,ub(t.type)?(u_=i,rS=uE(r.firstChild)):rS=i),sk(e,t,t.pendingProps.children,n),sC(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&rT&&((i=r=rS)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[eU])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence")||i!==n.rel||e.getAttribute("href")!==(null==n.href||""===n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===i)return e}if(null===(e=uE(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,rC))?(t.stateNode=r,r_=t,rS=uE(r.firstChild),rC=!1,i=!0):i=!1),i||rA(t)),K(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,uh(i,a)?r=null:null!==s&&uh(i,s)&&(t.flags|=32),null!==t.memoizedState&&(u0._currentValue=i=iq(e,t,iG,null,null,n)),sC(e,t),sk(e,t,r,n),t.child;case 6:return null===e&&rT&&((e=n=rS)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;)if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n||null===(e=uE(e.nextSibling)))return null;return e}(n,t.pendingProps,rC))?(t.stateNode=n,r_=t,rS=null,e=!0):e=!1),e||rA(t)),null;case 13:return sL(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=a6(t,null,r,n):sk(e,t,r,n),t.child;case 11:return sE(e,t,t.type,t.pendingProps,n);case 7:return sk(e,t,t.pendingProps,n),t.child;case 8:case 12:return sk(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,rV(t,t.type,r.value),sk(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,rW(t),r=r(i=rG(i)),t.flags|=1,sk(e,t,r,n),t.child;case 14:return s_(e,t,t.type,t.pendingProps,n);case 15:return sS(e,t,t.type,t.pendingProps,n);case 19:return sB(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?(n=sU(r,n)).ref=t.ref:(n=ra(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n;case 22:return sT(e,t,n);case 24:return rW(t),r=rG(rZ),null===e?(null===(i=r9())&&(i=oP,a=r0(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},im(t),rV(t,rZ,i)):(0!=(e.lanes&n)&&(ig(e,t),iE(t,null,null,n),ik()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),rV(t,rZ,r)):(rV(t,rZ,r=a.cache),r!==i.cache&&rH(t,[rZ],n,!0))),sk(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function sW(e){e.flags|=4}function sG(e,t){if("stylesheet"!==t.type||0!=(4&t.state.loading))e.flags&=-0x1000001;else if(e.flags|=0x1000000,!uG(t)){if(null!==(t=a7.current)&&((4194048&oj)===oj?null!==a9:(0x3c00000&oj)!==oj&&0==(0x20000000&oj)||t!==a9))throw ic=is,ii;e.flags|=8192}}function sK(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ek():0x20000000,e.lanes|=t,oW|=t)}function sQ(e,t){if(!rT)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sX(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=0x3e00000&i.subtreeFlags,r|=0x3e00000&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sY(e,t){switch(rE(t),t.tag){case 3:rz(rZ),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 13:sr(t);break;case 19:V(si);break;case 10:rz(t.type);break;case 22:case 23:sr(t),iA(),null!==e&&V(r7);break;case 24:rz(rZ)}}function sJ(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create;n.inst.destroy=r=a()}n=n.next}while(n!==i)}}catch(e){lT(t,t.return,e)}}function sZ(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;try{o()}catch(e){lT(i,n,e)}}}r=r.next}while(r!==a)}}catch(e){lT(t,t.return,e)}}function s0(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{iS(t,n)}catch(t){lT(e,e.return,t)}}}function s1(e,t,n){n.props=sc(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){lT(e,t,n)}}function s2(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){lT(e,t,n)}}function s5(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){lT(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){lT(e,t,n)}else n.current=null}function s3(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){lT(e,e.return,t)}}function s4(e,t,n){try{var r=e.stateNode;(function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,u=null,c=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":u=h;default:r.hasOwnProperty(p)||ui(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&ui(e,t,f,p,r,h)}}tn(e,s,l,u,c,d,a,i);return;case"select":for(a in p=s=l=f=null,n)if(u=n[a],n.hasOwnProperty(a)&&null!=u)switch(a){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(a)||ui(e,t,a,null,r,u)}for(i in r)if(a=r[i],u=n[i],r.hasOwnProperty(i)&&(null!=a||null!=u))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==u&&ui(e,t,i,a,r,u)}t=l,n=s,r=p,null!=f?ta(e,!!n,f,!1):!!r!=!!n&&(null!=t?ta(e,!!n,t,!0):ta(e,!!n,n?[]:"",!1));return;case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ui(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&ui(e,t,s,i,r,a)}ts(e,f,p);return;case"option":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&("selected"===m?e.selected=!1:ui(e,t,m,null,r,f));for(u in r)f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p)&&("selected"===u?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:ui(e,t,u,f,r,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ui(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:ui(e,t,c,f,r,p)}return;default:if(th(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&ua(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],r.hasOwnProperty(d)&&f!==p&&(void 0!==f||void 0!==p)&&ua(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&ui(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],r.hasOwnProperty(h)&&f!==p&&(null!=f||null!=p)&&ui(e,t,h,f,r,p)})(r,e.type,n,t),r[eP]=t}catch(t){lT(e,e.return,t)}}function s6(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ub(e.type)||4===e.tag}function s8(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||s6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ub(e.type)||2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function s7(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&ub(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(s7(e,t,n),e=e.sibling;null!==e;)s7(e,t,n),e=e.sibling}function s9(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);us(t,r,n),t[eD]=e,t[eP]=n}catch(t){lT(e,e.return,t)}}var oe=!1,ot=!1,on=!1,or="function"==typeof WeakSet?WeakSet:Set,oi=null;function oa(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:og(e,n),4&r&&sJ(5,n);break;case 1:if(og(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){lT(n,n.return,e)}else{var i=sc(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){lT(n,n.return,e)}}64&r&&s0(n),512&r&&s2(n,n.return);break;case 3:if(og(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{iS(e,t)}catch(e){lT(n,n.return,e)}}break;case 27:null===t&&4&r&&s9(n);case 26:case 5:og(e,n),null===t&&4&r&&s3(n),512&r&&s2(n,n.return);break;case 12:default:og(e,n);break;case 13:og(e,n),4&r&&oc(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=lA.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||oe)){t=null!==t&&null!==t.memoizedState||ot,i=oe;var a=ot;oe=r,(ot=t)&&!a?function e(t,n,r){for(r=r&&0!=(8772&n.subtreeFlags),n=n.child;null!==n;){var i=n.alternate,a=t,s=n,o=s.flags;switch(s.tag){case 0:case 11:case 15:e(a,s,r),sJ(4,s);break;case 1:if(e(a,s,r),"function"==typeof(a=(i=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(e){lT(i,i.return,e)}if(null!==(a=(i=s).updateQueue)){var l=i.stateNode;try{var u=a.shared.hiddenCallbacks;if(null!==u)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)i_(u[a],l)}catch(e){lT(i,i.return,e)}}r&&64&o&&s0(s),s2(s,s.return);break;case 27:s9(s);case 26:case 5:e(a,s,r),r&&null===i&&4&o&&s3(s),s2(s,s.return);break;case 12:default:e(a,s,r);break;case 13:e(a,s,r),r&&4&o&&oc(a,s);break;case 22:null===s.memoizedState&&e(a,s,r),s2(s,s.return);case 30:}n=n.sibling}}(e,n,0!=(8772&n.subtreeFlags)):og(e,n),oe=i,ot=a}case 30:}}var os=null,oo=!1;function ol(e,t,n){for(n=n.child;null!==n;)ou(e,t,n),n=n.sibling}function ou(e,t,n){if(ed&&"function"==typeof ed.onCommitFiberUnmount)try{ed.onCommitFiberUnmount(ec,n)}catch(e){}switch(n.tag){case 26:ot||s5(n,t),ol(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:ot||s5(n,t);var r=os,i=oo;ub(n.type)&&(os=n.stateNode,oo=!1),ol(e,t,n),uN(n.stateNode),os=r,oo=i;break;case 5:ot||s5(n,t);case 6:if(r=os,i=oo,os=null,ol(e,t,n),os=r,oo=i,null!==os)if(oo)try{(9===os.nodeType?os.body:"HTML"===os.nodeName?os.ownerDocument.body:os).removeChild(n.stateNode)}catch(e){lT(n,t,e)}else try{os.removeChild(n.stateNode)}catch(e){lT(n,t,e)}break;case 18:null!==os&&(oo?(uw(9===(e=os).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),ck(e)):uw(os,n.stateNode));break;case 4:r=os,i=oo,os=n.stateNode.containerInfo,oo=!0,ol(e,t,n),os=r,oo=i;break;case 0:case 11:case 14:case 15:ot||sZ(2,n,t),ot||sZ(4,n,t),ol(e,t,n);break;case 1:ot||(s5(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&s1(n,t,r)),ol(e,t,n);break;case 21:default:ol(e,t,n);break;case 22:ot=(r=ot)||null!==n.memoizedState,ol(e,t,n),ot=r}}function oc(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{ck(e)}catch(e){lT(t,t.return,e)}}function od(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new or),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new or),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=lD.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function oh(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(ub(l.type)){os=l.stateNode,oo=!1;break e}break;case 5:os=l.stateNode,oo=!1;break e;case 3:case 4:os=l.stateNode.containerInfo,oo=!0;break e}l=l.return}if(null===os)throw Error(o(160));ou(a,s,i),os=null,oo=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)op(t,e),t=t.sibling}var of=null;function op(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:oh(t,e),om(e),4&r&&(sZ(3,e,e.return),sJ(3,e),sZ(5,e,e.return));break;case 1:oh(t,e),om(e),512&r&&(ot||null===n||s5(n,n.return)),64&r&&oe&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var i=of;if(oh(t,e),om(e),512&r&&(ot||null===n||s5(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[eU]||a[eD]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),us(a,r,n),a[eD]=e,eq(a),r=a;break e;case"link":var s=u$("link","href",i).get(r+(n.href||""));if(s){for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}}us(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=u$("meta","content",i).get(r+(n.content||""))){for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}}us(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[eD]=e,eq(a),r=a}e.stateNode=r}else uW(i,e.type,e.stateNode);else e.stateNode=uV(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?uW(i,e.type,e.stateNode):uV(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&s4(e,e.memoizedProps,n.memoizedProps)}break;case 27:oh(t,e),om(e),512&r&&(ot||null===n||s5(n,n.return)),null!==n&&4&r&&s4(e,e.memoizedProps,n.memoizedProps);break;case 5:if(oh(t,e),om(e),512&r&&(ot||null===n||s5(n,n.return)),32&e.flags){i=e.stateNode;try{tl(i,"")}catch(t){lT(e,e.return,t)}}4&r&&null!=e.stateNode&&(i=e.memoizedProps,s4(e,i,null!==n?n.memoizedProps:i)),1024&r&&(on=!0);break;case 6:if(oh(t,e),om(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){lT(e,e.return,t)}}break;case 3:if(uq=null,i=of,of=uA(t.containerInfo),oh(t,e),of=i,om(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{ck(t.containerInfo)}catch(t){lT(e,e.return,t)}on&&(on=!1,function e(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var n=t;e(n),5===n.tag&&1024&n.flags&&n.stateNode.reset(),t=t.sibling}}(e));break;case 4:r=of,of=uA(e.stateNode.containerInfo),oh(t,e),om(e),of=r;break;case 12:default:oh(t,e),om(e);break;case 13:oh(t,e),om(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(oX=et()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,od(e,r));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=oe,d=ot;if(oe=c||i,ot=d||u,oh(t,e),ot=d,oe=c,om(e),8192&r)e:for((t=e.stateNode)._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||oe||ot||function e(t){for(t=t.child;null!==t;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sZ(4,n,n.return),e(n);break;case 1:s5(n,n.return);var r=n.stateNode;"function"==typeof r.componentWillUnmount&&s1(n,n.return,r),e(n);break;case 27:uN(n.stateNode);case 26:case 5:s5(n,n.return),e(n);break;case 22:null===n.memoizedState&&e(n);break;default:e(n)}t=t.sibling}}(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(a=u.stateNode,i)s=a.style,"function"==typeof s.setProperty?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var h=u.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){lT(u,u.return,e)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(e){lT(u,u.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,od(e,n));break;case 19:oh(t,e),om(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,od(e,r));case 30:case 21:}}function om(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(s6(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode,a=s8(e);s7(e,a,i);break;case 5:var s=n.stateNode;32&n.flags&&(tl(s,""),n.flags&=-33);var l=s8(e);s7(e,l,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=s8(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(t,n):((n=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=ur));else if(4!==i&&(27===i&&ub(t.type)&&(r=t.stateNode,n=null),null!==(t=t.child)))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,c,u);break;default:throw Error(o(161))}}catch(t){lT(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function og(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)oa(e,t.alternate,t),t=t.sibling}function oy(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&r1(n))}function ov(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&r1(e))}function ob(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ow(e,t,n,r),t=t.sibling}function ow(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ob(e,t,n,r),2048&i&&sJ(9,t);break;case 1:case 13:default:ob(e,t,n,r);break;case 3:ob(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&r1(e)));break;case 12:if(2048&i){ob(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"==typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){lT(t,t.return,e)}}else ob(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?ob(e,t,n,r):ox(e,t):2&a._visibility?ob(e,t,n,r):(a._visibility|=2,function e(t,n,r,i,a){for(a=a&&0!=(10256&n.subtreeFlags),n=n.child;null!==n;){var s=n,o=s.flags;switch(s.tag){case 0:case 11:case 15:e(t,s,r,i,a),sJ(8,s);break;case 23:break;case 22:var l=s.stateNode;null!==s.memoizedState?2&l._visibility?e(t,s,r,i,a):ox(t,s):(l._visibility|=2,e(t,s,r,i,a)),a&&2048&o&&oy(s.alternate,s);break;case 24:e(t,s,r,i,a),a&&2048&o&&ov(s.alternate,s);break;default:e(t,s,r,i,a)}n=n.sibling}}(e,t,n,r,0!=(10256&t.subtreeFlags))),2048&i&&oy(s,t);break;case 24:ob(e,t,n,r),2048&i&&ov(t.alternate,t)}}function ox(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=t,r=n.flags;switch(n.tag){case 22:ox(e,n),2048&r&&oy(n.alternate,n);break;case 24:ox(e,n),2048&r&&ov(n.alternate,n);break;default:ox(e,n)}t=t.sibling}}var ok=8192;function oE(e){if(e.subtreeFlags&ok)for(e=e.child;null!==e;)o_(e),e=e.sibling}function o_(e){switch(e.tag){case 26:oE(e),e.flags&ok&&null!==e.memoizedState&&function(e,t,n){if(null===uK)throw Error(o(475));var r=uK;if("stylesheet"===t.type&&("string"!=typeof n.media||!1!==matchMedia(n.media).matches)&&0==(4&t.state.loading)){if(null===t.instance){var i=uO(n.href),a=e.querySelector(uL(i));if(a){null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=uX.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,eq(a);return}a=e.ownerDocument||e,n=uM(n),(i=uC.get(i))&&uB(n,i),eq(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),us(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0==(3&t.state.loading)&&(r.count++,t=uX.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(of,e.memoizedState,e.memoizedProps);break;case 5:default:oE(e);break;case 3:case 4:var t=of;of=uA(e.stateNode.containerInfo),oE(e),of=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ok,ok=0x1000000,oE(e),ok=t):oE(e))}}function oS(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(null!==e)}}function oT(e){var t=e.deletions;if(0!=(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];oi=r,oC(r,e)}oS(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)oN(e),e=e.sibling}function oN(e){switch(e.tag){case 0:case 11:case 15:oT(e),2048&e.flags&&sZ(9,e,e.return);break;case 3:case 12:default:oT(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,function e(t){var n=t.deletions;if(0!=(16&t.flags)){if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];oi=i,oC(i,t)}oS(t)}for(t=t.child;null!==t;){switch((n=t).tag){case 0:case 11:case 15:sZ(8,n,n.return),e(n);break;case 22:2&(r=n.stateNode)._visibility&&(r._visibility&=-3,e(n));break;default:e(n)}t=t.sibling}}(e)):oT(e)}}function oC(e,t){for(;null!==oi;){var n=oi;switch(n.tag){case 0:case 11:case 15:sZ(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:r1(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,oi=r;else for(n=e;null!==oi;){var i=(r=oi).sibling,a=r.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&eF(n),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(r),r===n){oi=null;break}if(null!==i){i.return=a,oi=i;break}oi=a}}}var oI={getCacheForType:function(e){var t=rG(rZ),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},oA="function"==typeof WeakMap?WeakMap:Map,oD=0,oP=null,oR=null,oj=0,oO=0,oL=null,oM=!1,oU=!1,oF=!1,oV=0,oz=0,oB=0,oH=0,oq=0,o$=0,oW=0,oG=null,oK=null,oQ=!1,oX=0,oY=1/0,oJ=null,oZ=null,o0=0,o1=null,o2=null,o5=0,o3=0,o4=null,o6=null,o8=0,o7=null;function o9(){if(0!=(2&oD)&&0!==oj)return oj&-oj;if(null!==j.T){var e=r3;return 0!==e?e:l$()}return eI()}function le(){0===o$&&(o$=0==(0x20000000&oj)||rT?ex():0x20000000);var e=a7.current;return null!==e&&(e.flags|=32),o$}function lt(e,t,n){(e===oP&&(2===oO||9===oO)||null!==e.cancelPendingCommit)&&(lo(e,0),li(e,oj,o$,!1)),e_(e,n),(0==(2&oD)||e!==oP)&&(e===oP&&(0==(2&oD)&&(oH|=n),4===oz&&li(e,oj,o$,!1)),lU(e))}function ln(e,t,n){if(0!=(6&oD))throw Error(o(327));for(var r=!n&&0==(124&t)&&0==(t&e.expiredLanes)||ew(e,t),i=r?function(e,t){var n=oD;oD|=2;var r=lu(),i=lc();oP!==e||oj!==t?(oJ=null,oY=et()+500,lo(e,t)):oU=ew(e,t);e:for(;;)try{if(0!==oO&&null!==oR){t=oR;var a=oL;t:switch(oO){case 1:oO=0,oL=null,lm(e,t,a,1);break;case 2:case 9:if(io(a)){oO=0,oL=null,lp(t);break}t=function(){2!==oO&&9!==oO||oP!==e||(oO=7),lU(e)},a.then(t,t);break e;case 3:oO=7;break e;case 4:oO=5;break e;case 7:io(a)?(oO=0,oL=null,lp(t)):(oO=0,oL=null,lm(e,t,a,7));break;case 5:var s=null;switch(oR.tag){case 26:s=oR.memoizedState;case 5:case 27:var l=oR;if(s?uG(s):1){oO=0,oL=null;var u=l.sibling;if(null!==u)oR=u;else{var c=l.return;null!==c?(oR=c,lg(c)):oR=null}break t}}oO=0,oL=null,lm(e,t,a,5);break;case 6:oO=0,oL=null,lm(e,t,a,6);break;case 8:ls(),oz=6;break e;default:throw Error(o(462))}}for(;null!==oR&&!Z();)lf(oR);break}catch(t){ll(e,t)}return(rF=rU=null,j.H=r,j.A=i,oD=n,null!==oR)?0:(oP=null,oj=0,n4(),oz)}(e,t):lh(e,t,!0),a=r;;){if(0===i)oU&&!r&&li(e,t,0,!1);else{if(n=e.current.alternate,a&&!function(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!nN(a(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)){i=lh(e,t,!1),a=!1;continue}if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!=(s=-0x20000001&e.pendingLanes)?s:0x20000000&s?0x20000000:0;if(0!==s){t=s;e:{i=oG;var l=e.current.memoizedState.isDehydrated;if(l&&(lo(e,s).flags|=256),2!==(s=lh(e,s,!1))){if(oF&&!l){e.errorRecoveryDisabledLanes|=a,oH|=a,i=4;break e}a=oK,oK=i,null!==a&&(null===oK?oK=a:oK.push.apply(oK,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){lo(e,0),li(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:li(r,t,o$,!oM);break e;case 2:oK=null;break;case 3:case 5:break;default:throw Error(o(329))}if((0x3c00000&t)===t&&10<(i=oX+300-et())){if(li(r,t,o$,!oM),0!==eb(r,0,!0))break e;r.timeoutHandle=up(lr.bind(null,r,n,oK,oJ,oQ,t,o$,oH,oW,oM,a,2,-0,0),i);break e}lr(r,n,oK,oJ,oQ,t,o$,oH,oW,oM,a,0,-0,0)}}break}lU(e)}function lr(e,t,n,r,i,a,s,l,u,c,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||0x1002000==(0x1002000&h))&&(uK={stylesheets:null,count:0,unsuspend:uQ},o_(t),null!==(h=function(){if(null===uK)throw Error(o(475));var e=uK;return e.stylesheets&&0===e.count&&uJ(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&uJ(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}()))){e.cancelPendingCommit=h(lv.bind(null,e,t,a,n,r,i,s,l,u,d,1,f,p)),li(e,a,s,!c);return}lv(e,t,a,n,r,i,s,l,u)}function li(e,t,n,r){t&=~oq,t&=~oH,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-ef(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&eS(e,n,t)}function la(){return 0!=(6&oD)||(lF(0,!1),!1)}function ls(){if(null!==oR){if(0===oO)var e=oR.return;else e=oR,rF=rU=null,iX(e),aZ=null,a0=0,e=oR;for(;null!==e;)sY(e.alternate,e),e=e.return;oR=null}}function lo(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,um(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),ls(),oP=e,oR=n=ra(e.current,null),oj=t,oO=0,oL=null,oM=!1,oU=ew(e,t),oF=!1,oW=o$=oq=oH=oB=oz=0,oK=oG=null,oQ=!1,0!=(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ef(r),a=1<<i;t|=e[i],r&=~a}return oV=t,n4(),n}function ll(e,t){iP=null,j.H=aQ,t===ir||t===ia?(t=id(),oO=3):t===ii?(t=id(),oO=4):oO=t===sw?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,oL=t,null===oR&&(oz=1,sm(e,n1(t,e.current)))}function lu(){var e=j.H;return j.H=aQ,null===e?aQ:e}function lc(){var e=j.A;return j.A=oI,e}function ld(){oz=4,oM||(4194048&oj)!==oj&&null!==a7.current||(oU=!0),0==(0x7ffffff&oB)&&0==(0x7ffffff&oH)||null===oP||li(oP,oj,o$,!1)}function lh(e,t,n){var r=oD;oD|=2;var i=lu(),a=lc();(oP!==e||oj!==t)&&(oJ=null,lo(e,t)),t=!1;var s=oz;e:for(;;)try{if(0!==oO&&null!==oR){var o=oR,l=oL;switch(oO){case 8:ls(),s=6;break e;case 3:case 2:case 9:case 6:null===a7.current&&(t=!0);var u=oO;if(oO=0,oL=null,lm(e,o,l,u),n&&oU){s=0;break e}break;default:u=oO,oO=0,oL=null,lm(e,o,l,u)}}(function(){for(;null!==oR;)lf(oR)})(),s=oz;break}catch(t){ll(e,t)}return t&&e.shellSuspendCounter++,rF=rU=null,oD=r,j.H=i,j.A=a,null===oR&&(oP=null,oj=0,n4()),s}function lf(e){var t=s$(e.alternate,e,oV);e.memoizedProps=e.pendingProps,null===t?lg(e):oR=t}function lp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=sA(n,t,t.pendingProps,t.type,void 0,oj);break;case 11:t=sA(n,t,t.pendingProps,t.type.render,t.ref,oj);break;case 5:iX(t);default:sY(n,t),t=s$(n,t=oR=rs(t,oV),oV)}e.memoizedProps=e.pendingProps,null===t?lg(e):oR=t}function lm(e,t,n,r){rF=rU=null,iX(t),aZ=null,a0=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&rq(t,n,i,!0),null!==(n=a7.current)){switch(n.tag){case 13:return null===a9?ld():null===n.alternate&&0===oz&&(oz=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===is?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),lN(e,r,i)),!1;case 22:return n.flags|=65536,r===is?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),lN(e,r,i)),!1}throw Error(o(435,n.tag))}return lN(e,r,i),ld(),!1}if(rT)return null!==(t=a7.current)?(0==(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==rI&&rL(n1(e=Error(o(422),{cause:r}),n))):(r!==rI&&rL(n1(t=Error(o(423),{cause:r}),n)),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=n1(r,n),i=sy(e.stateNode,r,i),iw(e,i),4!==oz&&(oz=2)),!1;var a=Error(o(520),{cause:r});if(a=n1(a,n),null===oG?oG=[a]:oG.push(a),4!==oz&&(oz=2),null===t)return!0;r=n1(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=sy(n.stateNode,r,e),iw(n,e),!1;case 1:if(t=n.type,a=n.stateNode,0==(128&n.flags)&&("function"==typeof t.getDerivedStateFromError||null!==a&&"function"==typeof a.componentDidCatch&&(null===oZ||!oZ.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,sb(i=sv(i),e,n,r),iw(n,i),!1}n=n.return}while(null!==n)return!1}(e,i,t,n,oj)){oz=1,sm(e,n1(n,e.current)),oR=null;return}}catch(t){if(null!==i)throw oR=i,t;oz=1,sm(e,n1(n,e.current)),oR=null;return}32768&t.flags?(rT||1===r?e=!0:oU||0!=(0x20000000&oj)?e=!1:(oM=e=!0,(2===r||9===r||3===r||6===r)&&null!==(r=a7.current)&&13===r.tag&&(r.flags|=16384)),ly(t,e)):lg(t)}function lg(e){var t=e;do{if(0!=(32768&t.flags))return void ly(t,oM);e=t.return;var n=function(e,t,n){var r=t.pendingProps;switch(rE(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return sX(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),rz(rZ),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(rR(t)?sW(t):null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,rO())),sX(t),null;case 26:return n=t.memoizedState,null===e?(sW(t),null!==n?(sX(t),sG(t,n)):(sX(t),t.flags&=-0x1000001)):n?n!==e.memoizedState?(sW(t),sX(t),sG(t,n)):(sX(t),t.flags&=-0x1000001):(e.memoizedProps!==r&&sW(t),sX(t),t.flags&=-0x1000001),null;case 27:Q(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sW(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return sX(t),null}e=B.current,rR(t)?rD(t,e):(e=uT(i,r,n),t.stateNode=e,sW(t))}return sX(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sW(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return sX(t),null}if(e=B.current,rR(t))rD(t,e);else{switch(i=uu(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[eD]=t,e[eP]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(t.stateNode=e,us(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break;case"img":e=!0;break;default:e=!1}e&&sW(t)}}return sX(t),t.flags&=-0x1000001,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&sW(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(e=q.current,rR(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=r_))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[eD]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||un(e.nodeValue,n)))||rA(t)}else(e=uu(e).createTextNode(r))[eD]=t,t.stateNode=e}return sX(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=rR(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[eD]=t}else rj(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;sX(t),i=!1}else i=rO(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i){if(256&t.flags)return sr(t),t;return sr(t),null}}if(sr(t),0!=(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){r=t.child,i=null,null!==r.alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),sK(t,t.updateQueue),sX(t),null;case 4:return G(),null===e&&l2(t.stateNode.containerInfo),sX(t),null;case 10:return rz(t.type),sX(t),null;case 19:if(V(si),null===(i=t.memoizedState))return sX(t),null;if(r=0!=(128&t.flags),null===(a=i.rendering))if(r)sQ(i,!1);else{if(0!==oz||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=sa(e))){for(t.flags|=128,sQ(i,!1),e=a.updateQueue,t.updateQueue=e,sK(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)rs(n,e),n=n.sibling;return z(si,1&si.current|2),t.child}e=e.sibling}null!==i.tail&&et()>oY&&(t.flags|=128,r=!0,sQ(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=sa(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,sK(t,e),sQ(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!rT)return sX(t),null}else 2*et()-i.renderingStartTime>oY&&0x20000000!==n&&(t.flags|=128,r=!0,sQ(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}if(null!==i.tail)return t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=et(),t.sibling=null,e=si.current,z(si,r?1&e|2:1&e),t;return sX(t),null;case 22:case 23:return sr(t),iA(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!=(0x20000000&n)&&0==(128&t.flags)&&(sX(t),6&t.subtreeFlags&&(t.flags|=8192)):sX(t),null!==(n=t.updateQueue)&&sK(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(r7),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),rz(rZ),sX(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}(t.alternate,t,oV);if(null!==n){oR=n;return}if(null!==(t=t.sibling)){oR=t;return}oR=t=e}while(null!==t)0===oz&&(oz=5)}function ly(e,t){do{var n=function(e,t){switch(rE(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return rz(rZ),G(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(sr(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));rj()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(si),null;case 4:return G(),null;case 10:return rz(t.type),null;case 22:case 23:return sr(t),iA(),null!==e&&V(r7),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return rz(rZ),null;default:return null}}(e.alternate,e);if(null!==n){n.flags&=32767,oR=n;return}if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling)){oR=e;return}oR=e=n}while(null!==e)oz=6,oR=null}function lv(e,t,n,r,i,a,s,l,u){e.cancelPendingCommit=null;do lE();while(0!==o0)if(0!=(6&oD))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(!function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-ef(n),d=1<<c;o[c]=0,l[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var f=h[c];null!==f&&(f.lane&=-0x20000001)}n&=~d}0!==r&&eS(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a=t.lanes|t.childLanes|n3,s,l,u),e===oP&&(oR=oP=null,oj=0),o2=t,o1=e,o5=n,o3=a,o4=i,o6=r,0!=(10256&t.subtreeFlags)||0!=(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(ea,function(){return l_(!0),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!=(13878&t.flags),0!=(13878&t.subtreeFlags)||r){r=j.T,j.T=null,i=O.p,O.p=2,s=oD,oD|=4;try{!function(e,t){if(e=e.containerInfo,uo=u8,nP(e=nD(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var l=0,u=-1,c=-1,d=0,h=0,f=e,p=null;t:for(;;){for(;f!==n||0!==a&&3!==f.nodeType||(u=l+a),f!==s||0!==r&&3!==f.nodeType||(c=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(i=f.firstChild);)p=f,f=i;for(;;){if(f===e)break t;if(p===n&&++d===a&&(u=l),p===s&&++h===r&&(c=l),null!==(i=f.nextSibling))break;p=(f=p).parentNode}f=i}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ul={focusedElem:e,selectionRange:n},u8=!1,oi=t;null!==oi;)if(e=(t=oi).child,0!=(1024&t.subtreeFlags)&&null!==e)e.return=t,oi=e;else for(;null!==oi;){switch(s=(t=oi).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!=(1024&e)&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=sc(n.type,a,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){lT(n,n.return,e)}}break;case 3:if(0!=(1024&e)){if(9===(n=(e=t.stateNode.containerInfo).nodeType))ux(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ux(e);break;default:e.textContent=""}}break;default:if(0!=(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,oi=e;break}oi=t.return}}(e,t,n)}finally{oD=s,O.p=i,j.T=r}}o0=1,lb(),lw(),lx()}}function lb(){if(1===o0){o0=0;var e=o1,t=o2,n=0!=(13878&t.flags);if(0!=(13878&t.subtreeFlags)||n){n=j.T,j.T=null;var r=O.p;O.p=2;var i=oD;oD|=4;try{op(t,e);var a=ul,s=nD(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(o.ownerDocument.documentElement,o)){if(null!==l&&nP(o)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=nA(o,m),v=nA(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}u8=!!uo,ul=uo=null}finally{oD=i,O.p=r,j.T=n}}e.current=t,o0=2}}function lw(){if(2===o0){o0=0;var e=o1,t=o2,n=0!=(8772&t.flags);if(0!=(8772&t.subtreeFlags)||n){n=j.T,j.T=null;var r=O.p;O.p=2;var i=oD;oD|=4;try{oa(e,t.alternate,t)}finally{oD=i,O.p=r,j.T=n}}o0=3}}function lx(){if(4===o0||3===o0){o0=0,ee();var e=o1,t=o2,n=o5,r=o6;0!=(10256&t.subtreeFlags)||0!=(10256&t.flags)?o0=5:(o0=0,o2=o1=null,lk(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(oZ=null),eC(n),t=t.stateNode,ed&&"function"==typeof ed.onCommitFiberRoot)try{ed.onCommitFiberRoot(ec,t,void 0,128==(128&t.current.flags))}catch(e){}if(null!==r){t=j.T,i=O.p,O.p=2,j.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{j.T=t,O.p=i}}0!=(3&o5)&&lE(),lU(e),i=e.pendingLanes,0!=(4194090&n)&&0!=(42&i)?e===o7?o8++:(o8=0,o7=e):o8=0,lF(0,!1)}}function lk(e,t){0==(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,r1(t))}function lE(e){return lb(),lw(),lx(),l_(e)}function l_(){if(5!==o0)return!1;var e=o1,t=o3;o3=0;var n=eC(o5),r=j.T,i=O.p;try{O.p=32>n?32:n,j.T=null,n=o4,o4=null;var a=o1,s=o5;if(o0=0,o2=o1=null,o5=0,0!=(6&oD))throw Error(o(331));var l=oD;if(oD|=4,oN(a.current),ow(a,a.current,s,n),oD=l,lF(0,!1),ed&&"function"==typeof ed.onPostCommitFiberRoot)try{ed.onPostCommitFiberRoot(ec,a)}catch(e){}return!0}finally{O.p=i,j.T=r,lk(e,t)}}function lS(e,t,n){t=n1(n,t),t=sy(e.stateNode,t,2),null!==(e=iv(e,t,2))&&(e_(e,2),lU(e))}function lT(e,t,n){if(3===e.tag)lS(e,e,n);else for(;null!==t;){if(3===t.tag){lS(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===oZ||!oZ.has(r))){e=n1(n,e),null!==(r=iv(t,n=sv(2),2))&&(sb(n,r,t,e),e_(r,2),lU(r));break}}t=t.return}}function lN(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new oA;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(oF=!0,i.add(n),e=lC.bind(null,e,t,n),t.then(e,e))}function lC(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,oP===e&&(oj&n)===n&&(4===oz||3===oz&&(0x3c00000&oj)===oj&&300>et()-oX?0==(2&oD)&&lo(e,0):oq|=n,oW===oj&&(oW=0)),lU(e)}function lI(e,t){0===t&&(t=ek()),null!==(e=n7(e,t))&&(e_(e,t),lU(e))}function lA(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),lI(e,n)}function lD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),lI(e,n)}var lP=null,lR=null,lj=!1,lO=!1,lL=!1,lM=0;function lU(e){e!==lR&&null===e.next&&(null===lR?lP=lR=e:lR=lR.next=e),lO=!0,lj||(lj=!0,uy(function(){0!=(6&oD)?Y(er,lV):lz()}))}function lF(e,t){if(!lL&&lO){lL=!0;do for(var n=!1,r=lP;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=0xc000095&(a=(1<<31-ef(42|e)+1)-1&(i&~(s&~o)))?0xc000095&a|1:a?2|a:0}0!==a&&(n=!0,lq(r,a))}else a=oj,0==(3&(a=eb(r,r===oP?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ew(r,a)||(n=!0,lq(r,a));r=r.next}while(n)lL=!1}}function lV(){lz()}function lz(){lO=lj=!1;var e,t=0;0!==lM&&(((e=window.event)&&"popstate"===e.type?e===uf||(uf=e,0):(uf=null,1))||(t=lM),lM=0);for(var n=et(),r=null,i=lP;null!==i;){var a=i.next,s=lB(i,n);0===s?(i.next=null,null===r?lP=a:r.next=a,null===a&&(lR=r)):(r=i,(0!==t||0!=(3&s))&&(lO=!0)),i=a}lF(t,!1)}function lB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-0x3c00001&e.pendingLanes;0<a;){var s=31-ef(a),o=1<<s,l=i[s];-1===l?(0==(o&n)||0!=(o&r))&&(i[s]=function(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(t=oP,n=oj,n=eb(e,e===t?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oO||9===oO)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0==(3&n)||ew(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),eC(n)){case 2:case 8:n=ei;break;case 32:default:n=ea;break;case 0x10000000:n=eo}return n=Y(n,r=lH.bind(null,e)),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function lH(e,t){if(0!==o0&&5!==o0)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lE(!0)&&e.callbackNode!==n)return null;var r=oj;return 0===(r=eb(e,e===oP?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(ln(e,r,t),lB(e,et()),null!=e.callbackNode&&e.callbackNode===n?lH.bind(null,e):null)}function lq(e,t){if(lE())return null;ln(e,t,!0)}function l$(){return 0===lM&&(lM=ex()),lM}function lW(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:tm(""+e)}function lG(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var lK=0;lK<nJ.length;lK++){var lQ=nJ[lK];nZ(lQ.toLowerCase(),"on"+(lQ[0].toUpperCase()+lQ.slice(1)))}nZ(nq,"onAnimationEnd"),nZ(n$,"onAnimationIteration"),nZ(nW,"onAnimationStart"),nZ("dblclick","onDoubleClick"),nZ("focusin","onFocus"),nZ("focusout","onBlur"),nZ(nG,"onTransitionRun"),nZ(nK,"onTransitionStart"),nZ(nQ,"onTransitionCancel"),nZ(nX,"onTransitionEnd"),eK("onMouseEnter",["mouseout","mouseover"]),eK("onMouseLeave",["mouseout","mouseover"]),eK("onPointerEnter",["pointerout","pointerover"]),eK("onPointerLeave",["pointerout","pointerover"]),eG("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),eG("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),eG("onBeforeInput",["compositionend","keypress","textInput","paste"]),eG("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),eG("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),eG("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lX="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lX));function lJ(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(e){sd(e)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(e){sd(e)}i.currentTarget=null,a=l}}}}function lZ(e,t){var n=t[ej];void 0===n&&(n=t[ej]=new Set);var r=e+"__bubble";n.has(r)||(l5(t,e,2,!1),n.add(r))}function l0(e,t,n){var r=0;t&&(r|=4),l5(n,e,r,t)}var l1="_reactListening"+Math.random().toString(36).slice(2);function l2(e){if(!e[l1]){e[l1]=!0,e$.forEach(function(t){"selectionchange"!==t&&(lY.has(t)||l0(t,!1,e),l0(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[l1]||(t[l1]=!0,l0("selectionchange",!1,t))}}function l5(e,t,n,r){switch(ci(t)){case 2:var i=u7;break;case 8:i=u9;break;default:i=ce}n=i.bind(null,t,n,e),i=void 0,tS&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function l3(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=eV(o)))return;if(5===(l=s.tag)||6===l||26===l||27===l){r=a=s;continue e}o=o.parentNode}}r=r.return}tk(function(){var r=a,i=ty(n),s=[];e:{var o=nY.get(e);if(void 0!==o){var l=tq,c=e;switch(e){case"keypress":if(0===tD(n))break e;case"keydown":case"keyup":l=t4;break;case"focusin":c="focus",l=tX;break;case"focusout":c="blur",l=tX;break;case"beforeblur":case"afterblur":l=tX;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=tK;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=tQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=t8;break;case nq:case n$:case nW:l=tY;break;case nX:l=t7;break;case"scroll":case"scrollend":l=tW;break;case"wheel":l=t9;break;case"copy":case"cut":case"paste":l=tJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=t6;break;case"toggle":case"beforetoggle":l=ne}var d=0!=(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=tE(m,f))&&d.push(l4(m,g,p)),h)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:d}))}}if(0==(7&t)){if((o="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(o&&n!==tg&&(c=n.relatedTarget||n.fromElement)&&(eV(c)||c[eR])))&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(c=n.relatedTarget||n.toElement,l=r,null!==(c=c?eV(c):null)&&(h=u(c),d=c.tag,c!==h||5!==d&&27!==d&&6!==d)&&(c=null)):(l=null,c=r),l!==c)){if(d=tK,g="onMouseLeave",f="onMouseEnter",m="mouse",("pointerout"===e||"pointerover"===e)&&(d=t6,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==l?o:eB(l),p=null==c?o:eB(c),(o=new d(g,m+"leave",l,n,i)).target=h,o.relatedTarget=p,g=null,eV(i)===r&&((d=new d(f,m+"enter",c,n,i)).target=p,d.relatedTarget=h,g=d),h=g,l&&c)t:{for(d=l,f=c,m=0,p=d;p;p=l8(p))m++;for(p=0,g=f;g;g=l8(g))p++;for(;0<m-p;)d=l8(d),m--;for(;0<p-m;)f=l8(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break t;d=l8(d),f=l8(f)}d=null}else d=null;null!==l&&l7(s,o,l,d,!1),null!==c&&null!==h&&l7(s,h,c,d,!0)}e:{if("select"===(l=(o=r?eB(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var y,v=ny;else if(nd(o))if(nv)v=nT;else{v=n_;var b=nE}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)?v=nS:r&&th(r.elementType)&&(v=ny);if(v&&(v=v(e,r))){nh(s,v,n,i);break e}b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&ti(o,"number",o.value)}switch(b=r?eB(r):window,e){case"focusin":(nd(b)||"true"===b.contentEditable)&&(nj=b,nO=r,nL=null);break;case"focusout":nL=nO=nj=null;break;case"mousedown":nM=!0;break;case"contextmenu":case"mouseup":case"dragend":nM=!1,nU(s,n,i);break;case"selectionchange":if(nR)break;case"keydown":case"keyup":nU(s,n,i)}if(nn)t:{switch(e){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else nu?no(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(na&&"ko"!==n.locale&&(nu||"onCompositionStart"!==w?"onCompositionEnd"===w&&nu&&(y=tA()):(tC="value"in(tN=i)?tN.value:tN.textContent,nu=!0)),0<(b=l6(r,w)).length&&(w=new tZ(w,e,null,n,i),s.push({event:w,listeners:b}),y?w.data=y:null!==(y=nl(n))&&(w.data=y))),(y=ni?function(e,t){switch(e){case"compositionend":return nl(t);case"keypress":if(32!==t.which)return null;return ns=!0," ";case"textInput":return" "===(e=t.data)&&ns?null:e;default:return null}}(e,n):function(e,t){if(nu)return"compositionend"===e||!nn&&no(e,t)?(e=tA(),tI=tC=tN=null,nu=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return na&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(w=l6(r,"onBeforeInput")).length&&(b=new tZ("onBeforeInput","beforeinput",null,n,i),s.push({event:b,listeners:w}),b.data=y);var x=e;if("submit"===x&&r&&r.stateNode===i){var k=lW((i[eP]||null).action),E=n.submitter;E&&null!==(x=(x=E[eP]||null)?lW(x.formAction):E.getAttribute("formAction"))&&(k=x,E=null);var _=new tq("action","action",null,n,i);s.push({event:_,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==lM){var e=E?lG(i,E):new FormData(i);aO(r,{pending:!0,data:e,method:i.method,action:k},null,e)}}else"function"==typeof k&&(_.preventDefault(),aO(r,{pending:!0,data:e=E?lG(i,E):new FormData(i),method:i.method,action:k},k,e))},currentTarget:i}]})}}lJ(s,t)})}function l4(e,t,n){return{instance:e,listener:t,currentTarget:n}}function l6(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=tE(e,n))&&r.unshift(l4(e,i,a)),null!=(i=tE(e,t))&&r.push(l4(e,i,a))),3===e.tag)return r;e=e.return}return[]}function l8(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag&&27!==e.tag)return e||null}function l7(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===u||(l=u,i?null!=(u=tE(n,a))&&s.unshift(l4(n,u,l)):i||null!=(u=tE(n,a))&&s.push(l4(n,u,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var l9=/\r\n?/g,ue=/\u0000|\uFFFD/g;function ut(e){return("string"==typeof e?e:""+e).replace(l9,"\n").replace(ue,"")}function un(e,t){return t=ut(t),ut(e)===t}function ur(){}function ui(e,t,n,r,i,a){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||tl(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&tl(e,""+r);break;case"className":eZ(e,"class",r);break;case"tabIndex":eZ(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":eZ(e,n,r);break;case"style":td(e,r,a);break;case"data":if("object"!==t){eZ(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)||null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=tm(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&ui(e,t,"name",i.name,i,null),ui(e,t,"formEncType",i.formEncType,i,null),ui(e,t,"formMethod",i.formMethod,i,null),ui(e,t,"formTarget",i.formTarget,i,null)):(ui(e,t,"encType",i.encType,i,null),ui(e,t,"method",i.method,i,null),ui(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=tm(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=ur);break;case"onScroll":null!=r&&lZ("scroll",e);break;case"onScrollEnd":null!=r&&lZ("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":case"innerText":case"textContent":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=tm(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":lZ("beforetoggle",e),lZ("toggle",e),eJ(e,"popover",r);break;case"xlinkActuate":e0(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":e0(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":e0(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":e0(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":e0(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":e0(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":e0(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":e0(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":e0(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":eJ(e,"is",r);break;default:2<n.length&&("o"===n[0]||"O"===n[0])&&("n"===n[1]||"N"===n[1])||eJ(e,n=tf.get(n)||n,r)}}function ua(e,t,n,r,i,a){switch(n){case"style":td(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"==typeof r?tl(e,r):("number"==typeof r||"bigint"==typeof r)&&tl(e,""+r);break;case"onScroll":null!=r&&lZ("scroll",e);break;case"onScrollEnd":null!=r&&lZ("scrollend",e);break;case"onClick":null!=r&&(e.onclick=ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:if(!eW.hasOwnProperty(n))e:{if("o"===n[0]&&"n"===n[1]&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(a=null!=(a=e[eP]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"==typeof r)){"function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:!0===r?e.setAttribute(n,""):eJ(e,n,r)}}}function us(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lZ("error",e),lZ("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ui(e,t,r,s,n,null)}}a&&ui(e,t,"srcSet",n.srcSet,n,null),i&&ui(e,t,"src",n.src,n,null);return;case"input":lZ("invalid",e);var l=r=s=a=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:ui(e,t,i,d,n,null)}}tr(e,r,l,u,c,s,a,!1),e8(e);return;case"select":for(a in lZ("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:ui(e,t,a,l,n,null)}t=r,n=s,e.multiple=!!i,null!=t?ta(e,!!i,t,!1):null!=n&&ta(e,!!i,n,!0);return;case"textarea":for(s in lZ("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:ui(e,t,s,l,n,null)}to(e,i,a,r),e8(e);return;case"option":for(u in n)n.hasOwnProperty(u)&&null!=(i=n[u])&&("selected"===u?e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i:ui(e,t,u,i,n,null));return;case"dialog":lZ("beforetoggle",e),lZ("toggle",e),lZ("cancel",e),lZ("close",e);break;case"iframe":case"object":lZ("load",e);break;case"video":case"audio":for(i=0;i<lX.length;i++)lZ(lX[i],e);break;case"image":lZ("error",e),lZ("load",e);break;case"details":lZ("toggle",e);break;case"embed":case"source":case"link":lZ("error",e),lZ("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ui(e,t,c,i,n,null)}return;default:if(th(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(i=n[d])&&ua(e,t,d,i,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(i=n[l])&&ui(e,t,l,i,n,null)}var uo=null,ul=null;function uu(e){return 9===e.nodeType?e:e.ownerDocument}function uc(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ud(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function uh(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var uf=null,up="function"==typeof setTimeout?setTimeout:void 0,um="function"==typeof clearTimeout?clearTimeout:void 0,ug="function"==typeof Promise?Promise:void 0,uy="function"==typeof queueMicrotask?queueMicrotask:void 0!==ug?function(e){return ug.resolve(null).then(e).catch(uv)}:up;function uv(e){setTimeout(function(){throw e})}function ub(e){return"head"===e}function uw(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&uN(s.documentElement),2&n&&uN(s.body),4&n)for(uN(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[eU]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===i){e.removeChild(a),ck(t);return}i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n)ck(t)}function ux(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ux(n),eF(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function uk(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function uE(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var u_=null;function uS(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function uT(e,t,n){switch(t=uu(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function uN(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);eF(e)}var uC=new Map,uI=new Set;function uA(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var uD=O.d;O.d={f:function(){var e=uD.f(),t=la();return e||t},r:function(e){var t=ez(e);null!==t&&5===t.tag&&"form"===t.type?aM(t):uD.r(e)},D:function(e){uD.D(e),uR("dns-prefetch",e,null)},C:function(e,t){uD.C(e,t),uR("preconnect",e,t)},L:function(e,t,n){if(uD.L(e,t,n),uP&&e&&t){var r='link[rel="preload"][as="'+tt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+tt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+tt(n.imageSizes)+'"]')):r+='[href="'+tt(e)+'"]';var i=r;switch(t){case"style":i=uO(e);break;case"script":i=uU(e)}uC.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),uC.set(i,e),null!==uP.querySelector(r)||"style"===t&&uP.querySelector(uL(i))||"script"===t&&uP.querySelector(uF(i))||(us(t=uP.createElement("link"),"link",e),eq(t),uP.head.appendChild(t)))}},m:function(e,t){if(uD.m(e,t),uP&&e){var n=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+tt(n)+'"][href="'+tt(e)+'"]',i=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=uU(e)}if(!uC.has(i)&&(e=h({rel:"modulepreload",href:e},t),uC.set(i,e),null===uP.querySelector(r))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(uP.querySelector(uF(i)))return}us(n=uP.createElement("link"),"link",e),eq(n),uP.head.appendChild(n)}}},X:function(e,t){if(uD.X(e,t),uP&&e){var n=eH(uP).hoistableScripts,r=uU(e),i=n.get(r);i||((i=uP.querySelector(uF(r)))||(e=h({src:e,async:!0},t),(t=uC.get(r))&&uH(e,t),eq(i=uP.createElement("script")),us(i,"link",e),uP.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(r,i))}},S:function(e,t,n){if(uD.S(e,t,n),uP&&e){var r=eH(uP).hoistableStyles,i=uO(e);t=t||"default";var a=r.get(i);if(!a){var s={loading:0,preload:null};if(a=uP.querySelector(uL(i)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=uC.get(i))&&uB(e,n);var o=a=uP.createElement("link");eq(o),us(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){s.loading|=1}),o.addEventListener("error",function(){s.loading|=2}),s.loading|=4,uz(a,t,uP)}a={type:"stylesheet",instance:a,count:1,state:s},r.set(i,a)}}},M:function(e,t){if(uD.M(e,t),uP&&e){var n=eH(uP).hoistableScripts,r=uU(e),i=n.get(r);i||((i=uP.querySelector(uF(r)))||(e=h({src:e,async:!0,type:"module"},t),(t=uC.get(r))&&uH(e,t),eq(i=uP.createElement("script")),us(i,"link",e),uP.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(r,i))}}};var uP="undefined"==typeof document?null:document;function uR(e,t,n){if(uP&&"string"==typeof t&&t){var r=tt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),uI.has(r)||(uI.add(r),e={rel:e,crossOrigin:n,href:t},null===uP.querySelector(r)&&(us(t=uP.createElement("link"),"link",e),eq(t),uP.head.appendChild(t)))}}function uj(e,t,n,r){var i=(i=q.current)?uA(i):null;if(!i)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=uO(n.href),(r=(n=eH(i).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=uO(n.href);var a,s,l,u,c=eH(i).hoistableStyles,d=c.get(e);if(d||(i=i.ownerDocument||i,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=i.querySelector(uL(e)))&&!c._p&&(d.instance=c,d.state.loading=5),uC.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},uC.set(e,n),c||(a=i,s=e,l=n,u=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(u.preload=s=a.createElement("link"),s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),us(s,"link",l),eq(s),a.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=uU(n),(r=(n=eH(i).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function uO(e){return'href="'+tt(e)+'"'}function uL(e){return'link[rel="stylesheet"]['+e+"]"}function uM(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function uU(e){return'[src="'+tt(e)+'"]'}function uF(e){return"script[async]"+e}function uV(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+tt(n.href)+'"]');if(r)return t.instance=r,eq(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return eq(r=(e.ownerDocument||e).createElement("style")),us(r,"style",i),uz(r,n.precedence,e),t.instance=r;case"stylesheet":i=uO(n.href);var a=e.querySelector(uL(i));if(a)return t.state.loading|=4,t.instance=a,eq(a),a;r=uM(n),(i=uC.get(i))&&uB(r,i),eq(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),us(a,"link",r),t.state.loading|=4,uz(a,n.precedence,e),t.instance=a;case"script":if(a=uU(n.src),i=e.querySelector(uF(a)))return t.instance=i,eq(i),i;return r=n,(i=uC.get(a))&&uH(r=h({},n),i),eq(i=(e=e.ownerDocument||e).createElement("script")),us(i,"link",r),e.head.appendChild(i),t.instance=i;case"void":return null;default:throw Error(o(443,t.type))}return"stylesheet"===t.type&&0==(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,uz(r,n.precedence,e)),t.instance}function uz(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function uB(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function uH(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var uq=null;function u$(e,t,n){if(null===uq){var r=new Map,i=uq=new Map;i.set(n,r)}else(r=(i=uq).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[eU]||a[eD]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function uW(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function uG(e){return"stylesheet"!==e.type||0!=(3&e.state.loading)}var uK=null;function uQ(){}function uX(){if(this.count--,0===this.count){if(this.stylesheets)uJ(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uY=null;function uJ(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,uY=new Map,t.forEach(uZ,e),uY=null,uX.call(e))}function uZ(e,t){if(!(4&t.state.loading)){var n=uY.get(e);if(n)var r=n.get(null);else{n=new Map,uY.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];("LINK"===s.nodeName||"not all"!==s.getAttribute("media"))&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=uX.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var u0={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function u1(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eE(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eE(0),this.hiddenUpdates=eE(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function u2(e,t,n,r,i,a,s,o,l,u,c,d){return e=new u1(e,t,n,s,o,l,u,d),t=1,!0===a&&(t|=24),a=rr(3,null,null,t),e.current=a,a.stateNode=e,t=r0(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},im(a),e}function u5(e,t,n,r,i,a){i=i?rt:rt,null===r.context?r.context=i:r.pendingContext=i,(r=iy(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=iv(e,r,t))&&(lt(n,e,t),ib(n,e,t))}function u3(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function u4(e,t){u3(e,t),(e=e.alternate)&&u3(e,t)}function u6(e){if(13===e.tag){var t=n7(e,0x4000000);null!==t&&lt(t,e,0x4000000),u4(e,0x4000000)}}var u8=!0;function u7(e,t,n,r){var i=j.T;j.T=null;var a=O.p;try{O.p=2,ce(e,t,n,r)}finally{O.p=a,j.T=i}}function u9(e,t,n,r){var i=j.T;j.T=null;var a=O.p;try{O.p=8,ce(e,t,n,r)}finally{O.p=a,j.T=i}}function ce(e,t,n,r){if(u8){var i=ct(r);if(null===i)l3(e,t,r,cn,n),cf(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return cs=cp(cs,e,t,n,r,i),!0;case"dragenter":return co=cp(co,e,t,n,r,i),!0;case"mouseover":return cl=cp(cl,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return cu.set(a,cp(cu.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,cc.set(a,cp(cc.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(cf(e,r),4&t&&-1<ch.indexOf(e)){for(;null!==i;){var a=ez(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=ev(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-ef(s);o.entanglements[1]|=l,s&=~l}lU(a),0==(6&oD)&&(oY=et()+500,lF(0,!1))}}break;case 13:null!==(o=n7(a,2))&&lt(o,a,2),la(),u4(a,2)}if(null===(a=ct(r))&&l3(e,t,r,cn,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else l3(e,t,r,null,n)}}function ct(e){return cr(e=ty(e))}var cn=null;function cr(e){if(cn=null,null!==(e=eV(e))){var t=u(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cn=e,null}function ci(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case er:return 2;case ei:return 8;case ea:case es:return 32;case eo:return 0x10000000;default:return 32}default:return 32}}var ca=!1,cs=null,co=null,cl=null,cu=new Map,cc=new Map,cd=[],ch="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cf(e,t){switch(e){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":cl=null;break;case"pointerover":case"pointerout":cu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(t.pointerId)}}function cp(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=ez(t))&&u6(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function cm(e){var t=eV(e.target);if(null!==t){var n=u(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=c(n))){e.blockedOn=t,function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,function(){if(13===n.tag){var e=o9(),t=n7(n,e=eN(e));null!==t&&lt(t,n,e),u4(n,e)}});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cg(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ct(e.nativeEvent);if(null!==n)return null!==(t=ez(n))&&u6(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);tg=r,n.target.dispatchEvent(r),tg=null,t.shift()}return!0}function cy(e,t,n){cg(e)&&n.delete(t)}function cv(){ca=!1,null!==cs&&cg(cs)&&(cs=null),null!==co&&cg(co)&&(co=null),null!==cl&&cg(cl)&&(cl=null),cu.forEach(cy),cc.forEach(cy)}function cb(e,t){e.blockedOn===t&&(e.blockedOn=null,ca||(ca=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,cv)))}var cw=null;function cx(e){cw!==e&&(cw=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){cw===e&&(cw=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r)if(null===cr(r||n))continue;else break;var a=ez(n);null!==a&&(e.splice(t,3),t-=3,aO(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function ck(e){function t(t){return cb(t,e)}null!==cs&&cb(cs,e),null!==co&&cb(co,e),null!==cl&&cb(cl,e),cu.forEach(t),cc.forEach(t);for(var n=0;n<cd.length;n++){var r=cd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<cd.length&&null===(n=cd[0]).blockedOn;)cm(n),null===n.blockedOn&&cd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[eP]||null;if("function"==typeof a)s||cx(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[eP]||null)o=s.formAction;else if(null!==cr(i))continue}else o=s.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),cx(n)}}}function cE(e){this._internalRoot=e}function c_(e){this._internalRoot=e}c_.prototype.render=cE.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));u5(t.current,o9(),e,t,null,null)},c_.prototype.unmount=cE.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;u5(e.current,2,null,e,null,null),la(),t[eR]=null}},c_.prototype.unstable_scheduleHydration=function(e){if(e){var t=eI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cd.length&&0!==t&&t<cd[n].priority;n++);cd.splice(n,0,e),0===n&&cm(e)}};var cS=a.version;if("19.1.1"!==cS)throw Error(o(527,cS,"19.1.1"));if(O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,e=Object.keys(e).join(",")))}return e=null===(e=null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=u(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return d(i),e;if(a===r)return d(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t))?function e(t){var n=t.tag;if(5===n||26===n||27===n||6===n)return t;for(t=t.child;null!==t;){if(null!==(n=e(t)))return n;t=t.sibling}return null}(e):null)?null:e.stateNode},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cT.isDisabled&&cT.supportsFiber)try{ec=cT.inject({bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"}),ed=cT}catch(e){}}tO=function(e,t){if(!l(e))throw Error(o(299));var n=!1,r="",i=sh,a=sf,s=sp,u=null;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&(u=t.unstable_transitionCallbacks)),t=u2(e,1,!1,null,null,n,r,i,a,s,u,null),e[eR]=t.current,l2(e),new cE(t)},tL=function(e,t,n){if(!l(e))throw Error(o(299));var r=!1,i="",a=sh,s=sf,u=sp,c=null,d=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&(c=n.unstable_transitionCallbacks),void 0!==n.formState&&(d=n.formState)),(t=u2(e,1,!0,t,null!=n?n:null,r,i,a,s,u,c,d)).context=rt,n=t.current,(i=iy(r=eN(r=o9()))).callback=null,iv(n,i,r),n=r,t.current.lanes=n,e_(t,n),lU(t),e[eR]=t.current,l2(e),new c_(t)},tM="19.1.1"}),E("fO90s",function(e,t){e.exports=k("1wAW3")}),E("1wAW3",function(t,n){function r(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<s(i,t))e[r]=t,e[n]=i,n=r;else break}}function i(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else if(u<i&&0>s(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e(t.exports,"unstable_now",()=>o,e=>o=e),e(t.exports,"unstable_IdlePriority",()=>l,e=>l=e),e(t.exports,"unstable_ImmediatePriority",()=>u,e=>u=e),e(t.exports,"unstable_LowPriority",()=>c,e=>c=e),e(t.exports,"unstable_NormalPriority",()=>d,e=>d=e),e(t.exports,"unstable_Profiling",()=>h,e=>h=e),e(t.exports,"unstable_UserBlockingPriority",()=>f,e=>f=e),e(t.exports,"unstable_cancelCallback",()=>p,e=>p=e),e(t.exports,"unstable_forceFrameRate",()=>m,e=>m=e),e(t.exports,"unstable_getCurrentPriorityLevel",()=>g,e=>g=e),e(t.exports,"unstable_next",()=>y,e=>y=e),e(t.exports,"unstable_requestPaint",()=>v,e=>v=e),e(t.exports,"unstable_runWithPriority",()=>b,e=>b=e),e(t.exports,"unstable_scheduleCallback",()=>w,e=>w=e),e(t.exports,"unstable_shouldYield",()=>x,e=>x=e),e(t.exports,"unstable_wrapCallback",()=>k,e=>k=e),o=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o,l,u,c,d,h,f,p,m,g,y,v,b,w,x,k,E,_=performance;o=function(){return _.now()}}else{var S=Date,T=S.now();o=function(){return S.now()-T}}var N=[],C=[],I=1,A=null,D=3,P=!1,R=!1,j=!1,O=!1,L="function"==typeof setTimeout?setTimeout:null,M="function"==typeof clearTimeout?clearTimeout:null,U="undefined"!=typeof setImmediate?setImmediate:null;function F(e){for(var t=i(C);null!==t;){if(null===t.callback)a(C);else if(t.startTime<=e)a(C),t.sortIndex=t.expirationTime,r(N,t);else break;t=i(C)}}function V(e){if(j=!1,F(e),!R)if(null!==i(N))R=!0,z||(z=!0,E());else{var t=i(C);null!==t&&Q(V,t.startTime-e)}}var z=!1,B=-1,H=5,q=-1;function $(){return!!O||!(o()-q<H)}function W(){if(O=!1,z){var e=o();q=e;var t=!0;try{e:{R=!1,j&&(j=!1,M(B),B=-1),P=!0;var n=D;try{t:{for(F(e),A=i(N);null!==A&&!(A.expirationTime>e&&$());){var r=A.callback;if("function"==typeof r){A.callback=null,D=A.priorityLevel;var s=r(A.expirationTime<=e);if(e=o(),"function"==typeof s){A.callback=s,F(e),t=!0;break t}A===i(N)&&a(N),F(e)}else a(N);A=i(N)}if(null!==A)t=!0;else{var l=i(C);null!==l&&Q(V,l.startTime-e),t=!1}}break e}finally{A=null,D=n,P=!1}}}finally{t?E():z=!1}}}if("function"==typeof U)E=function(){U(W)};else if("undefined"!=typeof MessageChannel){var G=new MessageChannel,K=G.port2;G.port1.onmessage=W,E=function(){K.postMessage(null)}}else E=function(){L(W,0)};function Q(e,t){B=L(function(){e(o())},t)}l=5,u=1,c=4,d=3,h=null,f=2,p=function(e){e.callback=null},m=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<e?Math.floor(1e3/e):5},g=function(){return D},y=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},v=function(){O=!0},b=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},w=function(e,t,n){var a=o();switch(n="object"==typeof n&&null!==n&&"number"==typeof(n=n.delay)&&0<n?a+n:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=0x3fffffff;break;case 4:s=1e4;break;default:s=5e3}return s=n+s,e={id:I++,callback:t,priorityLevel:e,startTime:n,expirationTime:s,sortIndex:-1},n>a?(e.sortIndex=n,r(C,e),null===i(N)&&e===i(C)&&(j?(M(B),B=-1):j=!0,Q(V,n-a))):(e.sortIndex=s,r(N,e),R||P||(R=!0,z||(z=!0,E()))),e},x=$,k=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}}),E("acw62",function(e,t){e.exports=k("9Qu0I")}),E("1u0KT",function(e,t){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=k("5R2tS")}),E("5R2tS",function(t,n){e(t.exports,"__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE",()=>r,e=>r=e),e(t.exports,"createPortal",()=>i,e=>i=e),e(t.exports,"flushSync",()=>a,e=>a=e),e(t.exports,"preconnect",()=>s,e=>s=e),e(t.exports,"prefetchDNS",()=>o,e=>o=e),e(t.exports,"preinit",()=>l,e=>l=e),e(t.exports,"preinitModule",()=>u,e=>u=e),e(t.exports,"preload",()=>c,e=>c=e),e(t.exports,"preloadModule",()=>d,e=>d=e),e(t.exports,"requestFormReset",()=>h,e=>h=e),e(t.exports,"unstable_batchedUpdates",()=>f,e=>f=e),e(t.exports,"useFormState",()=>p,e=>p=e),e(t.exports,"useFormStatus",()=>m,e=>m=e),e(t.exports,"version",()=>g,e=>g=e);var r,i,a,s,o,l,u,c,d,h,f,p,m,g,y=k("acw62");function v(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(){}var w={d:{f:b,r:function(){throw Error(v(522))},D:b,C:b,L:b,m:b,X:b,S:b,M:b},p:0,findDOMNode:null},x=Symbol.for("react.portal"),E=y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}r=w,i=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(v(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},a=function(e){var t=E.T,n=w.p;try{if(E.T=null,w.p=2,e)return e()}finally{E.T=t,w.p=n,w.d.f()}},s=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,w.d.C(e,t))},o=function(e){"string"==typeof e&&w.d.D(e)},l=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=_(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?w.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&w.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},u=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=_(t.as,t.crossOrigin);w.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&w.d.M(e)},c=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=_(n,t.crossOrigin);w.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},d=function(e,t){if("string"==typeof e)if(t){var n=_(t.as,t.crossOrigin);w.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else w.d.m(e)},h=function(e){w.d.r(e)},f=function(e,t){return e(t)},p=function(e,t,n){return E.H.useFormState(e,t,n)},m=function(){return E.H.useHostTransitionStatus()},g="19.1.1"}),E("g8dzF",function(t,n){e(t.exports,"notificationService",()=>a),k("ilpIi");var r=k("9HrqM"),i=k("e0EYX");let a=new class{async sendNotification(e){try{let t=await (0,r.addDoc)((0,r.collection)(i.db,"notifications"),{...e,createdAt:r.Timestamp.now(),read:!1});console.log("Notificación enviada con ID:",t.id)}catch(e){throw console.error("Error al enviar notificación:",e),e}}async markAsRead(e){try{let t=(0,r.doc)(i.db,"notifications",e);await (0,r.updateDoc)(t,{read:!0})}catch(e){throw console.error("Error al marcar notificación como leída:",e),e}}async getNotificationsForUser(e){try{let t=(0,r.query)((0,r.collection)(i.db,"notifications"),(0,r.where)("userId","==",e),(0,r.orderBy)("createdAt","desc"));return(await (0,r.getDocs)(t)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Error al obtener notificaciones:",e),[]}}subscribeToUserNotifications(e,t){try{let n=(0,r.query)((0,r.collection)(i.db,"notifications"),(0,r.where)("userId","==",e),(0,r.orderBy)("createdAt","desc"));return(0,r.onSnapshot)(n,e=>{let n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)},e=>{console.error("Error en la suscripción de notificaciones:",e),t([])})}catch(e){return console.error("Error al suscribirse a notificaciones:",e),()=>{}}}}}),E("ilpIi",function(t,n){e(t.exports,"addDoc",()=>k("9HrqM").addDoc),e(t.exports,"collection",()=>k("9HrqM").collection),e(t.exports,"deleteDoc",()=>k("9HrqM").deleteDoc),e(t.exports,"doc",()=>k("9HrqM").doc),e(t.exports,"documentId",()=>k("9HrqM").documentId),e(t.exports,"getDoc",()=>k("9HrqM").getDoc),e(t.exports,"getDocs",()=>k("9HrqM").getDocs),e(t.exports,"getFirestore",()=>k("9HrqM").getFirestore),e(t.exports,"onSnapshot",()=>k("9HrqM").onSnapshot),e(t.exports,"orderBy",()=>k("9HrqM").orderBy),e(t.exports,"query",()=>k("9HrqM").query),e(t.exports,"serverTimestamp",()=>k("9HrqM").serverTimestamp),e(t.exports,"setDoc",()=>k("9HrqM").setDoc),e(t.exports,"Timestamp",()=>k("9HrqM").Timestamp),e(t.exports,"updateDoc",()=>k("9HrqM").updateDoc),e(t.exports,"where",()=>k("9HrqM").where),e(t.exports,"writeBatch",()=>k("9HrqM").writeBatch),k("9HrqM")}),E("9HrqM",function(t,n){e(t.exports,"Timestamp",()=>F),e(t.exports,"collection",()=>iR),e(t.exports,"doc",()=>ij),e(t.exports,"getFirestore",()=>iU),e(t.exports,"documentId",()=>iB),e(t.exports,"query",()=>au),e(t.exports,"where",()=>ad),e(t.exports,"orderBy",()=>ap),e(t.exports,"getDoc",()=>a_),e(t.exports,"getDocs",()=>aT),e(t.exports,"setDoc",()=>aN),e(t.exports,"updateDoc",()=>aC),e(t.exports,"deleteDoc",()=>aI),e(t.exports,"addDoc",()=>aA),e(t.exports,"onSnapshot",()=>aD),e(t.exports,"serverTimestamp",()=>aL),e(t.exports,"writeBatch",()=>aM);var r,i,a,s,o=k("7xvHX"),l=k("eryG9"),u=k("5Z2ef"),c=k("gMVVg"),d=k("cozvr"),h=k("4rHck"),f=k("6ZWSX").Buffer;let p="@firebase/firestore";class m{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}m.UNAUTHENTICATED=new m(null),m.GOOGLE_CREDENTIALS=new m("google-credentials-uid"),m.FIRST_PARTY=new m("first-party-uid"),m.MOCK_USER=new m("mock-user");let g="10.14.0",y=new(0,u.Logger)("@firebase/firestore");function v(){return y.logLevel}function b(e,...t){if(y.logLevel<=u.LogLevel.DEBUG){let n=t.map(E);y.debug(`Firestore (${g}): ${e}`,...n)}}function w(e,...t){if(y.logLevel<=u.LogLevel.ERROR){let n=t.map(E);y.error(`Firestore (${g}): ${e}`,...n)}}function x(e,...t){if(y.logLevel<=u.LogLevel.WARN){let n=t.map(E);y.warn(`Firestore (${g}): ${e}`,...n)}}function E(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function _(e="Unexpected state"){let t=`FIRESTORE (${g}) INTERNAL ASSERTION FAILED: `+e;throw w(t),Error(t)}let S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends c.FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class N{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class C{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(m.UNAUTHENTICATED))}shutdown(){}}class A{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class D{constructor(e){this.t=e,this.currentUser=m.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){void 0===this.o||_();let n=this.i,r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve(),i=new N;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new N,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?s(e):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new N)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||_(),new C(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||_(),new m(e)}}class P{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=m.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class R{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new P(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(m.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){void 0===this.o||_();let n=e=>{null!=e.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.R;return this.R=e.token,b("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};let r=e=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){let e=this.A.getImmediate({optional:!0});e?r(e):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||_(),this.R=e.token,new j(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class L{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let e=0;e<40;e++)n[e]=Math.floor(256*Math.random());return n}(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function M(e,t){return e<t?-1:+(e>t)}function U(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class F{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new T(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-0xe7791f700||e>=0x3afff44180)throw new T(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return F.fromMillis(Date.now())}static fromDate(e){return F.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new F(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?M(this.nanoseconds,e.nanoseconds):M(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new F(0,0))}static max(){return new V(new F(0x3afff4417f,0x3b9ac9ff))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class z{constructor(e,t,n){void 0===t?t=0:t>e.length&&_(),void 0===n?n=e.length-t:n>e.length-t&&_(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===z.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof z?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.get(r),i=t.get(r);if(n<i)return -1;if(n>i)return 1}return e.length<t.length?-1:+(e.length>t.length)}}class B extends z{construct(e,t,n){return new B(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new T(S.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new B(t)}static emptyPath(){return new B([])}}let H=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class q extends z{construct(e,t,n){return new q(e,t,n)}static isValidIdentifier(e){return H.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),q.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new q(["__name__"])}static fromServerFormat(e){let t=[],n="",r=0,i=()=>{if(0===n.length)throw new T(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},a=!1;for(;r<e.length;){let t=e[r];if("\\"===t){if(r+1===e.length)throw new T(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new T(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?a=!a:"."!==t||a?n+=t:i(),r++}if(i(),a)throw new T(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new q(t)}static emptyPath(){return new q([])}}class ${constructor(e){this.path=e}static fromPath(e){return new $(B.fromString(e))}static fromName(e){return new $(B.fromString(e).popFirst(5))}static empty(){return new $(B.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===B.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return B.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $(new B(e.slice()))}}class W{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new W(V.min(),$.empty(),-1)}static max(){return new W(V.max(),$.empty(),-1)}}class G{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function K(e){if(e.code!==S.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;b("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof Q?t:Q.resolve(t)}catch(e){return Q.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,n)=>{t(e)})}static reject(e){return new Q((t,n)=>{n(e)})}static waitFor(e){return new Q((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=Q.resolve(!1);for(let n of e)t=t.next(e=>e?Q.resolve(e):n());return t}static forEach(e,t){let n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Q((n,r)=>{let i=e.length,a=Array(i),s=0;for(let o=0;o<i;o++){let l=o;t(e[l]).next(e=>{a[l]=e,++s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new Q((n,r)=>{let i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function X(e){return"IndexedDbTransactionError"===e.name}class Y{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}}function J(e){return 0===e&&1/e==-1/0}function Z(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ee(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function et(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Y.oe=-1;class en{constructor(e,t){this.comparator=e,this.root=t||ei.EMPTY}insert(e,t){return new en(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new er(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new er(this.root,e,this.comparator,!1)}getReverseIterator(){return new er(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new er(this.root,e,this.comparator,!0)}}class er{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ei.RED,this.left=null!=r?r:ei.EMPTY,this.right=null!=i?i:ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ei(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ei.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _();let e=this.left.check();if(e!==this.right.check())throw _();return e+ +!this.isRed()}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1,ei.EMPTY=new class{constructor(){this.size=0}get key(){throw _()}get value(){throw _()}get color(){throw _()}get left(){throw _()}get right(){throw _()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ei(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ea{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new es(this.data.getIterator())}getIteratorFrom(e){return new es(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new ea(this.comparator);return t.data=e,t}}class es{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class eo{constructor(e){this.fields=e,e.sort(q.comparator)}static empty(){return new eo([])}unionWith(e){let t=new ea(q.comparator);for(let e of this.fields)t=t.add(e);for(let n of e)t=t.add(n);return new eo(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return U(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class el extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class eu{constructor(e){this.binaryString=e}static fromBase64String(e){return new eu(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new el("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new eu(function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){var e=this.binaryString;let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return M(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}eu.EMPTY_BYTE_STRING=new eu("");let ec=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ed(e){if(e||_(),"string"==typeof e){let t=0,n=ec.exec(e);if(n||_(),n[1]){let e=n[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:eh(e.seconds),nanos:eh(e.nanos)}}function eh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ef(e){return"string"==typeof e?eu.fromBase64String(e):eu.fromUint8Array(e)}function ep(e){var t,n;return"server_timestamp"===(null==(n=((null==(t=null==e?void 0:e.mapValue)?void 0:t.fields)||{}).__type__)?void 0:n.stringValue)}function em(e){let t=e.mapValue.fields.__previous_value__;return ep(t)?em(t):t}function eg(e){let t=ed(e.mapValue.fields.__local_write_time__.timestampValue);return new F(t.seconds,t.nanos)}class ey{constructor(e,t,n,r,i,a,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}class ev{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ev("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ev&&e.projectId===this.projectId&&e.database===this.database}}let eb={};function ew(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ep(e)?4:eO(e)?0x1fffffffffffff:eR(e)?10:11:_()}function ex(e,t){if(e===t)return!0;let n=ew(e);if(n!==ew(t))return!1;switch(n){case 0:case 0x1fffffffffffff:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return eg(e).isEqual(eg(t));case 3:if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let r=ed(e.timestampValue),i=ed(t.timestampValue);return r.seconds===i.seconds&&r.nanos===i.nanos;case 5:return e.stringValue===t.stringValue;case 6:return ef(e.bytesValue).isEqual(ef(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return eh(e.geoPointValue.latitude)===eh(t.geoPointValue.latitude)&&eh(e.geoPointValue.longitude)===eh(t.geoPointValue.longitude);case 2:if("integerValue"in e&&"integerValue"in t)return eh(e.integerValue)===eh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let n=eh(e.doubleValue),r=eh(t.doubleValue);return n===r?J(n)===J(r):isNaN(n)&&isNaN(r)}return!1;case 9:return U(e.arrayValue.values||[],t.arrayValue.values||[],ex);case 10:case 11:let a=e.mapValue.fields||{},s=t.mapValue.fields||{};if(Z(a)!==Z(s))return!1;for(let e in a)if(a.hasOwnProperty(e)&&(void 0===s[e]||!ex(a[e],s[e])))return!1;return!0;default:return _()}}function ek(e,t){return void 0!==(e.values||[]).find(e=>ex(e,t))}function eE(e,t){if(e===t)return 0;let n=ew(e),r=ew(t);if(n!==r)return M(n,r);switch(n){case 0:case 0x1fffffffffffff:return 0;case 1:return M(e.booleanValue,t.booleanValue);case 2:let i=eh(e.integerValue||e.doubleValue),a=eh(t.integerValue||t.doubleValue);return i<a?-1:i>a?1:i===a?0:isNaN(i)?isNaN(a)?0:-1:1;case 3:return e_(e.timestampValue,t.timestampValue);case 4:return e_(eg(e),eg(t));case 5:return M(e.stringValue,t.stringValue);case 6:return function(e,t){let n=ef(e),r=ef(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){let t=M(n[e],r[e]);if(0!==t)return t}return M(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=M(eh(e.latitude),eh(t.latitude));return 0!==n?n:M(eh(e.longitude),eh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return eS(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;let s=e.fields||{},o=t.fields||{},l=null==(n=s.value)?void 0:n.arrayValue,u=null==(r=o.value)?void 0:r.arrayValue,c=M((null==(i=null==l?void 0:l.values)?void 0:i.length)||0,(null==(a=null==u?void 0:u.values)?void 0:a.length)||0);return 0!==c?c:eS(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===eb&&t===eb)return 0;if(e===eb)return 1;if(t===eb)return -1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=M(r[e],a[e]);if(0!==t)return t;let s=eE(n[r[e]],i[a[e]]);if(0!==s)return s}return M(r.length,a.length)}(e.mapValue,t.mapValue);default:throw _()}}function e_(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return M(e,t);let n=ed(e),r=ed(t),i=M(n.seconds,r.seconds);return 0!==i?i:M(n.nanos,r.nanos)}function eS(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=eE(n[e],r[e]);if(t)return t}return M(n.length,r.length)}function eT(e){var t,n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=ed(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ef(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,$.fromName(t).toString()):"geoPointValue"in e?(n=e.geoPointValue,`geo(${n.latitude},${n.longitude})`):"arrayValue"in e?function(e){let t="[",n=!0;for(let r of e.values||[])n?n=!1:t+=",",t+=eT(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),n="{",r=!0;for(let i of t)r?r=!1:n+=",",n+=`${i}:${eT(e.fields[i])}`;return n+"}"}(e.mapValue):_()}function eN(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function eC(e){return!!e&&"integerValue"in e}function eI(e){return!!e&&"arrayValue"in e}function eA(e){return!!e&&"nullValue"in e}function eD(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function eP(e){return!!e&&"mapValue"in e}function eR(e){var t,n;return"__vector__"===(null==(n=((null==(t=null==e?void 0:e.mapValue)?void 0:t.fields)||{}).__type__)?void 0:n.stringValue)}function ej(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return ee(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ej(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ej(e.arrayValue.values[n]);return t}return Object.assign({},e)}function eO(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class eL{constructor(e){this.value=e}static empty(){return new eL({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!eP(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ej(t)}setAll(e){let t=q.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ej(e):r.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());eP(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ex(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];eP(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){for(let r of(ee(t,(t,n)=>e[t]=n),n))delete e[r]}clone(){return new eL(ej(this.value))}}class eM{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new eM(e,0,V.min(),V.min(),V.min(),eL.empty(),0)}static newFoundDocument(e,t,n,r){return new eM(e,1,t,V.min(),n,r,0)}static newNoDocument(e,t){return new eM(e,2,t,V.min(),V.min(),eL.empty(),0)}static newUnknownDocument(e,t){return new eM(e,3,t,V.min(),V.min(),eL.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(V.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eL.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eL.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof eM&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new eM(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eU{constructor(e,t){this.position=e,this.inclusive=t}}function eF(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],s=e.position[i];if(r=a.field.isKeyField()?$.comparator($.fromName(s.referenceValue),n.key):eE(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function eV(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ex(e.position[n],t.position[n]))return!1;return!0}class ez{constructor(e,t="asc"){this.field=e,this.dir=t}}class eB{}class eH extends eB{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new eG(e,t,n):"array-contains"===t?new eY(e,n):"in"===t?new eJ(e,n):"not-in"===t?new eZ(e,n):"array-contains-any"===t?new e0(e,n):new eH(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new eK(e,n):new eQ(e,n)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(eE(t,this.value)):null!==t&&ew(this.value)===ew(t)&&this.matchesComparison(eE(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class eq extends eB{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new eq(e,t)}matches(e){return e$(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function e$(e){return"and"===e.op}function eW(e){for(let t of e.filters)if(t instanceof eq)return!1;return!0}class eG extends eH{constructor(e,t,n){super(e,t,n),this.key=$.fromName(n.referenceValue)}matches(e){let t=$.comparator(e.key,this.key);return this.matchesComparison(t)}}class eK extends eH{constructor(e,t){super(e,"in",t),this.keys=eX("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eQ extends eH{constructor(e,t){super(e,"not-in",t),this.keys=eX("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eX(e,t){var n;return((null==(n=t.arrayValue)?void 0:n.values)||[]).map(e=>$.fromName(e.referenceValue))}class eY extends eH{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return eI(t)&&ek(t.arrayValue,this.value)}}class eJ extends eH{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&ek(this.value.arrayValue,t)}}class eZ extends eH{constructor(e,t){super(e,"not-in",t)}matches(e){if(ek(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!ek(this.value.arrayValue,t)}}class e0 extends eH{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!eI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ek(this.value.arrayValue,e))}}class e1{constructor(e,t=null,n=[],r=[],i=null,a=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.ue=null}}function e2(e,t=null,n=[],r=[],i=null,a=null,s=null){return new e1(e,t,n,r,i,a,s)}function e5(e){if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(e=>(function e(t){if(t instanceof eH)return t.field.canonicalString()+t.op.toString()+eT(t.value);if(eW(t)&&e$(t))return t.filters.map(t=>e(t)).join(",");{let n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}})(e)).join(","),t+="|ob:",t+=e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==e.limit||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>eT(e)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>eT(e)).join(",")),e.ue=t}return e.ue}function e3(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var n,r;if(n=e.orderBy[i],r=t.orderBy[i],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!function e(t,n){return t instanceof eH?n instanceof eH&&t.op===n.op&&t.field.isEqual(n.field)&&ex(t.value,n.value):t instanceof eq?n instanceof eq&&t.op===n.op&&t.filters.length===n.filters.length&&t.filters.reduce((t,r,i)=>t&&e(r,n.filters[i]),!0):void _()}(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!eV(e.startAt,t.startAt)&&eV(e.endAt,t.endAt)}function e4(e){return $.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class e6{constructor(e,t=null,n=[],r=[],i=null,a="F",s=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function e8(e){return new e6(e)}function e7(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function e9(e){return null!==e.collectionGroup}function te(e){if(null===e.ce){let t;e.ce=[];let n=new Set;for(let t of e.explicitOrderBy)e.ce.push(t),n.add(t.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(t=new ea(q.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{n.has(t.canonicalString())||t.isKeyField()||e.ce.push(new ez(t,r))}),n.has(q.keyField().canonicalString())||e.ce.push(new ez(q.keyField(),r))}return e.ce}function tt(e){return e.le||(e.le=function(e,t){if("F"===e.limitType)return e2(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new ez(e.field,t)});let n=e.endAt?new eU(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new eU(e.startAt.position,e.startAt.inclusive):null;return e2(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(e,te(e))),e.le}function tn(e,t){let n=e.filters.concat([t]);return new e6(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function tr(e,t,n){return new e6(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ti(e,t){return e3(tt(e),tt(t))&&e.limitType===t.limitType}function ta(e){return`${e5(tt(e))}|lt:${e.limitType}`}function ts(e){var t;let n;return`Query(target=${n=(t=tt(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof eH?`${t.field.canonicalString()} ${t.op} ${eT(t.value)}`:t instanceof eq?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==t.limit||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(e=>eT(e)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(e=>eT(e)).join(",")),`Target(${n})`}; limitType=${e.limitType})`}function to(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(let n of te(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(!e.startAt||!!function(e,t,n){let r=eF(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,te(e),t))&&(!e.endAt||!!function(e,t,n){let r=eF(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,te(e),t))}function tl(e){return(t,n)=>{let r=!1;for(let i of te(e)){let e=function(e,t,n){let r=e.field.isKeyField()?$.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?eE(r,i):_()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return -1*r;default:return _()}}(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}class tu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return void 0!==this.get(e)}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ee(this.inner,(t,n)=>{for(let[t,r]of n)e(t,r)})}isEmpty(){return et(this.inner)}size(){return this.innerSize}}let tc=new en($.comparator),td=new en($.comparator);function th(...e){let t=td;for(let n of e)t=t.insert(n.key,n);return t}function tf(e){let t=td;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function tp(){return new tu(e=>e.toString(),(e,t)=>e.isEqual(t))}let tm=new en($.comparator),tg=new ea($.comparator);function ty(...e){let t=tg;for(let n of e)t=t.add(n);return t}let tv=new ea(M);function tb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:J(t)?"-0":t}}function tw(e){return{integerValue:""+e}}class tx{constructor(){this._=void 0}}function tk(e,t){return e instanceof tC?eC(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class tE extends tx{}class t_ extends tx{constructor(e){super(),this.elements=e}}function tS(e,t){let n=tA(t);for(let t of e.elements)n.some(e=>ex(e,t))||n.push(t);return{arrayValue:{values:n}}}class tT extends tx{constructor(e){super(),this.elements=e}}function tN(e,t){let n=tA(t);for(let t of e.elements)n=n.filter(e=>!ex(e,t));return{arrayValue:{values:n}}}class tC extends tx{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function tI(e){return eh(e.integerValue||e.doubleValue)}function tA(e){return eI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class tD{constructor(e,t){this.field=e,this.transform=t}}class tP{constructor(e,t){this.version=e,this.transformResults=t}}class tR{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tR}static exists(e){return new tR(void 0,e)}static updateTime(e){return new tR(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tj(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class tO{}function tL(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new tq(e.key,tR.none()):new tF(e.key,e.data,tR.none());{let n=e.data,r=eL.empty(),i=new ea(q.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new tV(e.key,r,new eo(i.toArray()),tR.none())}}function tM(e,t,n,r){return e instanceof tF?function(e,t,n,r){if(!tj(e.precondition,t))return n;let i=e.value.clone(),a=tH(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof tV?function(e,t,n,r){if(!tj(e.precondition,t))return n;let i=tH(e.fieldTransforms,r,t),a=t.data;return(a.setAll(tz(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n)?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):tj(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}function tU(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&U(n,r,(e,t)=>{var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof t_&&r instanceof t_||n instanceof tT&&r instanceof tT?U(n.elements,r.elements,ex):n instanceof tC&&r instanceof tC?ex(n.Pe,r.Pe):n instanceof tE&&r instanceof tE)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class tF extends tO{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class tV extends tO{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function tz(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function tB(e,t,n){var r;let i=new Map;e.length===n.length||_();for(let a=0;a<n.length;a++){let s=e[a],o=s.transform,l=t.data.field(s.field);i.set(s.field,(r=n[a],o instanceof t_?tS(o,l):o instanceof tT?tN(o,l):r))}return i}function tH(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,e instanceof tE?function(e,t){let n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ep(t)&&(t=em(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(t,a):e instanceof t_?tS(e,a):e instanceof tT?tN(e,a):function(e,t){let n=tk(e,t),r=tI(n)+tI(e.Pe);return eC(n)&&eC(e.Pe)?tw(r):tb(e.serializer,r)}(e,a))}return r}class tq extends tO{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t$ extends tO{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tW{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&function(e,t,n){e instanceof tF?function(e,t,n){let r=e.value.clone(),i=tB(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof tV?function(e,t,n){if(!tj(e.precondition,t))return t.convertToUnknownDocument(n.version);let r=tB(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(tz(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=tM(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=tM(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=tp();return this.mutations.forEach(r=>{let i=e.get(r.key),a=i.overlayedDocument,s=this.applyToLocalView(a,i.mutatedFields),o=tL(a,s=t.has(r.key)?null:s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(V.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ty())}isEqual(e){return this.batchId===e.batchId&&U(this.mutations,e.mutations,(e,t)=>tU(e,t))&&U(this.baseMutations,e.baseMutations,(e,t)=>tU(e,t))}}class tG{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){e.mutations.length===n.length||_();let r=tm,i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new tG(e,t,n,r)}}class tK{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tQ{constructor(e,t){this.count=e,this.unchangedNames=t}}function tX(e){if(void 0===e)return w("GRPC error has no .code"),S.UNKNOWN;switch(e){case r.OK:return S.OK;case r.CANCELLED:return S.CANCELLED;case r.UNKNOWN:return S.UNKNOWN;case r.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case r.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case r.INTERNAL:return S.INTERNAL;case r.UNAVAILABLE:return S.UNAVAILABLE;case r.UNAUTHENTICATED:return S.UNAUTHENTICATED;case r.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case r.NOT_FOUND:return S.NOT_FOUND;case r.ALREADY_EXISTS:return S.ALREADY_EXISTS;case r.PERMISSION_DENIED:return S.PERMISSION_DENIED;case r.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case r.ABORTED:return S.ABORTED;case r.OUT_OF_RANGE:return S.OUT_OF_RANGE;case r.UNIMPLEMENTED:return S.UNIMPLEMENTED;case r.DATA_LOSS:return S.DATA_LOSS;default:return _()}}(i=r||(r={}))[i.OK=0]="OK",i[i.CANCELLED=1]="CANCELLED",i[i.UNKNOWN=2]="UNKNOWN",i[i.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",i[i.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",i[i.NOT_FOUND=5]="NOT_FOUND",i[i.ALREADY_EXISTS=6]="ALREADY_EXISTS",i[i.PERMISSION_DENIED=7]="PERMISSION_DENIED",i[i.UNAUTHENTICATED=16]="UNAUTHENTICATED",i[i.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",i[i.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",i[i.ABORTED=10]="ABORTED",i[i.OUT_OF_RANGE=11]="OUT_OF_RANGE",i[i.UNIMPLEMENTED=12]="UNIMPLEMENTED",i[i.INTERNAL=13]="INTERNAL",i[i.UNAVAILABLE=14]="UNAVAILABLE",i[i.DATA_LOSS=15]="DATA_LOSS";let tY=new(0,d.Integer)([0xffffffff,0xffffffff],0);function tJ(e){let t=(new TextEncoder).encode(e),n=new(0,d.Md5);return n.update(t),new Uint8Array(n.digest())}function tZ(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new(0,d.Integer)([n,r],0),new(0,d.Integer)([i,a],0)]}class t0{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new t1(`Invalid padding: ${t}`);if(n<0||e.length>0&&0===this.hashCount)throw new t1(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new t1(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=d.Integer.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(d.Integer.fromNumber(n)));return 1===r.compare(tY)&&(r=new(0,d.Integer)([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;let[t,n]=tZ(tJ(e));for(let e=0;e<this.hashCount;e++){let r=this.Ee(t,n,e);if(!this.de(r))return!1}return!0}static create(e,t,n){let r=new t0(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return n.forEach(e=>r.insert(e)),r}insert(e){if(0===this.Ie)return;let[t,n]=tZ(tJ(e));for(let e=0;e<this.hashCount;e++){let r=this.Ee(t,n,e);this.Ae(r)}}Ae(e){let t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class t1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class t2{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let r=new Map;return r.set(e,t5.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new t2(V.min(),r,new en(M),tc,ty())}}class t5{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new t5(n,t,ty(),ty(),ty())}}class t3{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class t4{constructor(e,t){this.targetId=e,this.me=t}}class t6{constructor(e,t,n=eu.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class t8{constructor(){this.fe=0,this.ge=ne(),this.pe=eu.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ty(),t=ty(),n=ty();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:_()}}),new t5(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=ne()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,this.fe>=0||_()}Ne(){this.we=!0,this.ye=!0}}class t7{constructor(e){this.Le=e,this.Be=new Map,this.ke=tc,this.qe=t9(),this.Qe=new en(M)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:_()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){let t=e.targetId,n=e.me.count,r=this.Je(t);if(r){let i=r.target;if(e4(i))if(0===n){let e=new $(i.path);this.Ue(t,e,eM.newNoDocument(e,V.min()))}else 1===n||_();else{let r=this.Ye(t);if(r!==n){let n=this.Ze(e),i=n?this.Xe(n,e,r):1;0!==i&&(this.je(t),this.Qe=this.Qe.insert(t,2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){let t,n,r=e.me.unchangedNames;if(!r||!r.bits)return null;let{bits:{bitmap:i="",padding:a=0},hashCount:s=0}=r;try{t=ef(i).toUint8Array()}catch(e){if(e instanceof el)return x("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{n=new t0(t,a,s)}catch(e){return x(e instanceof t1?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===n.Ie?null:n}Xe(e,t,n){return 2*(t.me.count!==n-this.nt(e,t.targetId))}nt(e,t){let n=this.Le.getRemoteKeysForTarget(t),r=0;return n.forEach(n=>{let i=this.Le.tt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,n,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((n,r)=>{let i=this.Je(r);if(i){if(n.current&&e4(i.target)){let t=new $(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,eM.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=ty();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{let t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));let r=new t2(e,t,this.Qe,this.ke,n);return this.ke=tc,this.qe=t9(),this.Qe=new en(M),r}$e(e,t){if(!this.ze(e))return;let n=2*!!this.it(e,t.key);this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new t8,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ea(M),this.qe=this.qe.insert(e,t)),t}ze(e){let t=null!==this.Je(e);return t||b("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new t8),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function t9(){return new en($.comparator)}function ne(){return new en($.comparator)}let nt={asc:"ASCENDING",desc:"DESCENDING"},nn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nr={and:"AND",or:"OR"};class ni{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function na(e,t){return e.useProto3Json||null==t?t:{value:t}}function ns(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function no(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nl(e){return e||_(),V.fromTimestamp(function(e){let t=ed(e);return new F(t.seconds,t.nanos)}(e))}function nu(e,t){return nc(e,t).canonicalString()}function nc(e,t){let n=new B(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===t?n:n.child(t)}function nd(e){let t=B.fromString(e);return nw(t)||_(),t}function nh(e,t){return nu(e.databaseId,t.path)}function nf(e,t){let n=nd(t);if(n.get(1)!==e.databaseId.projectId)throw new T(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new T(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $(ng(n))}function np(e,t){return nu(e.databaseId,t)}function nm(e){return new B(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ng(e){return e.length>4&&"documents"===e.get(4)||_(),e.popFirst(5)}function ny(e,t,n){return{name:nh(e,t),fields:n.value.mapValue.fields}}function nv(e){return{fieldPath:e.canonicalString()}}function nb(e){return q.fromServerFormat(e.fieldPath)}function nw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class nx{constructor(e,t,n,r,i=V.min(),a=V.min(),s=eu.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new nx(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nx(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nk{constructor(e){this.ct=e}}class nE{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(+!!e.booleanValue);else if("integerValue"in e)this.dt(t,15),t.At(eh(e.integerValue));else if("doubleValue"in e){let n=eh(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),J(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=ed(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ef(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?eO(e)?this.dt(t,Number.MAX_SAFE_INTEGER):eR(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):_()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let n=e.fields||{};for(let e of(this.dt(t,55),Object.keys(n)))this.Vt(e,t),this.Tt(n[e],t)}wt(e,t){var n,r;let i=e.fields||{};this.dt(t,53);let a="value",s=(null==(r=null==(n=i[a].arrayValue)?void 0:n.values)?void 0:r.length)||0;this.dt(t,15),t.At(eh(s)),this.Vt(a,t),this.Tt(i[a],t)}bt(e,t){let n=e.values||[];for(let e of(this.dt(t,50),n))this.Tt(e,t)}yt(e,t){this.dt(t,37),$.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}nE.vt=new nE;class n_{constructor(){this.un=new nS}addToCollectionParentIndex(e,t){return this.un.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(W.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(W.min())}updateCollectionGroup(e,t,n){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class nS{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ea(B.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ea(B.comparator)).toArray()}}new Uint8Array(0);class nT{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new nT(e,nT.DEFAULT_COLLECTION_PERCENTILE,nT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}nT.DEFAULT_COLLECTION_PERCENTILE=10,nT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nT.DEFAULT=new nT(0x2800000,nT.DEFAULT_COLLECTION_PERCENTILE,nT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nT.DISABLED=new nT(-1,0,0);class nN{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new nN(0)}static kn(){return new nN(-1)}}class nC{constructor(){this.changes=new tu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,eM.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return void 0!==n?Q.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nA{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&tM(n.mutation,e,eo.empty(),F.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ty()).next(()=>t))}getLocalViewOfDocuments(e,t,n=ty()){let r=tp();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=th();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let n=tp();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ty()))}populateOverlays(e,t,n){let r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=tc,a=tp(),s=tp();return t.forEach((e,t)=>{let s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof tV)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),tM(s.mutation,t,s.mutation.getFieldMask(),F.now())):a.set(t.key,eo.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new nI(t,null!=(n=a.get(e))?n:null))}),s))}recalculateAndSaveOverlays(e,t){let n=tp(),r=new en((e,t)=>e-t),i=ty();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let a=t.get(e);if(null===a)return;let s=n.get(e)||eo.empty();s=i.applyToLocalView(a,s),n.set(e,s);let o=(r.get(i.batchId)||ty()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{let a=[],s=r.getReverseIterator();for(;s.hasNext();){let r=s.getNext(),o=r.key,l=r.value,u=tp();l.forEach(e=>{if(!i.has(e)){let r=tL(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,u))}return Q.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return $.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):e9(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Q.resolve(tp()),s=-1,o=i;return a.next(t=>Q.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Q.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,ty())).next(e=>({batchId:s,changes:tf(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $(t)).next(e=>{let t=th();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=th();return this.indexManager.getCollectionParents(e,i).next(s=>Q.forEach(s,s=>{let o=new e6(s.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{let r=n.getKey();null===e.get(r)&&(e=e.insert(r,eM.newInvalidDocument(r)))});let n=th();return e.forEach((e,r)=>{let a=i.get(e);void 0!==a&&tM(a.mutation,r,eo.empty(),F.now()),to(t,r)&&(n=n.insert(e,r))}),n})}}class nD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:t.id,version:t.version,createTime:nl(t.createTime)}),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:t.name,query:function(e){let t=function(e){var t;let n,r=function(e){let t=nd(e);return 4===t.length?B.emptyPath():ng(t)}(e.parent),i=e.structuredQuery,a=i.from?i.from.length:0,s=null;if(a>0){1===a||_();let e=i.from[0];e.allDescendants?s=e.collectionId:r=r.child(e.collectionId)}let o=[];i.where&&(o=function(e){var t;let n=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=nb(e.unaryFilter.field);return eH.create(t,"==",{doubleValue:NaN});case"IS_NULL":let n=nb(e.unaryFilter.field);return eH.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=nb(e.unaryFilter.field);return eH.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=nb(e.unaryFilter.field);return eH.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _()}}(t):void 0!==t.fieldFilter?eH.create(nb(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?eq.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return _()}}(t.compositeFilter.op)):_()}(e);return n instanceof eq&&eW(t=n)&&e$(t)?n.getFilters():[n]}(i.where));let l=[];i.orderBy&&(l=i.orderBy.map(e=>new ez(nb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let u=null;i.limit&&(u=null==(n="object"==typeof(t=i.limit)?t.value:t)?null:n);let c=null;i.startAt&&(c=function(e){let t=!!e.before;return new eU(e.values||[],t)}(i.startAt));let d=null;return i.endAt&&(d=function(e){let t=!e.before;return new eU(e.values||[],t)}(i.endAt)),new e6(r,s,l,o,u,"F",c,d)}({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?tr(t,t.limit,"L"):t}(t.bundledQuery),readTime:nl(t.readTime)}),Q.resolve()}}class nP{constructor(){this.overlays=new en($.comparator),this.Ir=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){let n=tp();return Q.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),Q.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),Q.resolve()}getOverlaysForCollection(e,t,n){let r=tp(),i=t.length+1,a=new $(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){let e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Q.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new en((e,t)=>e-t),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=tp(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let s=tp(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Q.resolve(s)}ht(e,t,n){let r=this.overlays.get(n.key);if(null!==r){let e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new tK(t,n));let i=this.Ir.get(t);void 0===i&&(i=ty(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class nR{constructor(){this.sessionToken=eu.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}class nj{constructor(){this.Tr=new ea(nO.Er),this.dr=new ea(nO.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let n=new nO(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new nO(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){let t=new $(new B([])),n=new nO(t,e),r=new nO(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new $(new B([])),n=new nO(t,e),r=new nO(t,e+1),i=ty();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new nO(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class nO{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return $.comparator(e.key,t.key)||M(e.wr,t.wr)}static Ar(e,t){return M(e.wr,t.wr)||$.comparator(e.key,t.key)}}class nL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ea(nO.Er)}checkEmpty(e){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){let i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new tW(i,t,n,r);for(let t of(this.mutationQueue.push(a),r))this.br=this.br.add(new nO(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,t){return Q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let n=this.vr(t+1),r=n<0?0:n;return Q.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new nO(t,0),r=new nO(t,1/0),i=[];return this.br.forEachInRange([n,r],e=>{let t=this.Dr(e.wr);i.push(t)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ea(M);return t.forEach(e=>{let t=new nO(e,0),r=new nO(e,1/0);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),Q.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;$.isDocumentKey(i)||(i=i.child(""));let a=new nO(new $(i),0),s=new ea(M);return this.br.forEachWhile(e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.wr)),!0)},a),Q.resolve(this.Cr(s))}Cr(e){let t=[];return e.forEach(e=>{let n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){0===this.Fr(t.batchId,"removed")||_(),this.mutationQueue.shift();let n=this.br;return Q.forEach(t.mutations,r=>{let i=new nO(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){let n=new nO(t,0),r=this.br.firstAfterOrEqual(n);return Q.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nM{constructor(e){this.Mr=e,this.docs=new en($.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return Q.resolve(n?n.document.mutableCopy():eM.newInvalidDocument(t))}getEntries(e,t){let n=tc;return t.forEach(e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():eM.newInvalidDocument(e))}),Q.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=tc,a=t.path,s=new $(a.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){let{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||0>=function(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n||0!==(n=$.comparator(e.documentKey,t.documentKey))?n:M(e.largestBatchId,t.largestBatchId)}(new W(s.readTime,s.key,-1),n)||(r.has(s.key)||to(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,t,n,r){_()}Or(e,t){return Q.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new nU(this)}getSize(e){return Q.resolve(this.size)}}class nU extends nC{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),Q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class nF{constructor(e){this.persistence=e,this.Nr=new tu(e=>e5(e),e3),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Lr=0,this.Br=new nj,this.targetCount=0,this.kr=nN.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Q.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new nN(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Kn(t),Q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Q.waitFor(i).next(()=>r)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){let n=this.Nr.get(t)||null;return Q.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Q.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){let n=this.Br.yr(t);return Q.resolve(n)}containsKey(e,t){return Q.resolve(this.Br.containsKey(t))}}class nV{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Y(0),this.Kr=!1,this.Kr=!0,this.$r=new nR,this.referenceDelegate=e(this),this.Ur=new nF(this),this.indexManager=new n_,this.remoteDocumentCache=new nM(e=>this.referenceDelegate.Wr(e)),this.serializer=new nk(t),this.Gr=new nD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new nL(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){b("MemoryPersistence","Starting transaction:",e);let r=new nz(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return Q.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class nz extends G{constructor(e){super(),this.currentSequenceNumber=e}}class nB{constructor(e){this.persistence=e,this.Jr=new nj,this.Yr=null}static Zr(e){return new nB(e)}get Xr(){if(this.Yr)return this.Yr;throw _()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Q.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,n=>{let r=$.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,V.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Q.or([()=>Q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class nH{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=ty(),r=ty();for(let e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new nH(e,t.fromCache,n,r)}}class nq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class n${constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,c.isSafari)()?8:function(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}((0,c.getUA)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let n=new nq;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(v()<=u.LogLevel.DEBUG&&b("QueryEngine","SDK will not create cache indexes for query:",ts(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(v()<=u.LogLevel.DEBUG&&b("QueryEngine","Query:",ts(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(v()<=u.LogLevel.DEBUG&&b("QueryEngine","The SDK decides to create cache indexes for query:",ts(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tt(t))):Q.resolve())}Yi(e,t){if(e7(t))return Q.resolve(null);let n=tt(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(n=tt(t=tr(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let i=ty(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{let a=this.ts(t,r);return this.ns(t,a,i,n.readTime)?this.Yi(e,tr(t,null,"F")):this.rs(e,a,t,n)}))})))}Zi(e,t,n,r){return e7(t)||r.isEqual(V.min())?Q.resolve(null):this.Ji.getDocuments(e,n).next(i=>{let a=this.ts(t,i);return this.ns(t,a,n,r)?Q.resolve(null):(v()<=u.LogLevel.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ts(t)),this.rs(e,a,t,function(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new W(V.fromTimestamp(1e9===r?new F(n+1,0):new F(n,r)),$.empty(),-1)}(r,0)).next(e=>e))})}ts(e,t){let n=new ea(tl(e));return t.forEach((t,r)=>{to(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return v()<=u.LogLevel.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",ts(t)),this.Ji.getDocumentsMatchingQuery(e,t,W.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class nW{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new en(M),this._s=new tu(e=>e5(e),e3),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nA(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}async function nG(e,t){return await e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,e.ls(t),e.mutationQueue.getAllMutationBatches(n))).next(t=>{let i=[],a=[],s=ty();for(let e of r)for(let t of(i.push(e.batchId),e.mutations))s=s.add(t.key);for(let e of t)for(let t of(a.push(e.batchId),e.mutations))s=s.add(t.key);return e.localDocuments.getDocuments(n,s).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:a}))})})}function nK(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}async function nQ(e,t,n){let r=e.os.get(t);try{n||await e.persistence.runTransaction("Release target",n?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,r))}catch(e){if(!X(e))throw e;b("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}e.os=e.os.remove(t),e._s.delete(r.target)}function nX(e,t,n){let r=V.min(),i=ty();return e.persistence.runTransaction("Execute query","readwrite",a=>(function(e,t,n){let r=e._s.get(n);return void 0!==r?Q.resolve(e.os.get(r)):e.Ur.getTargetData(t,n)})(e,a,tt(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,e.Ur.getMatchingKeysForTargetId(a,t.targetId).next(e=>{i=e})}).next(()=>e.ss.getDocumentsMatchingQuery(a,t,n?r:V.min(),n?i:ty())).next(n=>{var r,a,s;let o;return r=e,a=t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2)),s=n,o=r.us.get(a)||V.min(),s.forEach((e,t)=>{t.readTime.compareTo(o)>0&&(o=t.readTime)}),r.us.set(a,o),{documents:n,Ts:i}}))}class nY{constructor(){this.activeTargetIds=tv}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class nJ{constructor(){this.so=new nY,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nY,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nZ{_o(e){}shutdown(){}}class n0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){for(let e of(b("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.ho))e(0)}lo(){for(let e of(b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.ho))e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let n1=null;function n2(){return null===n1?n1=0x10000000+Math.round(0x80000000*Math.random()):n1++,"0x"+n1.toString(16)}let n5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}let n4="WebChannelConnection";class n6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){let a=n2(),s=this.xo(e,t.toUriEncodedString());b("RestConnection",`Sending RPC '${e}' ${a}:`,s,n);let o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,s,o,n).then(t=>(b("RestConnection",`Received RPC '${e}' ${a}: `,t),t),t=>{throw x("RestConnection",`RPC '${e}' ${a} failed with error: `,t,"url: ",s,"request:",n),t})}Lo(e,t,n,r,i,a){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+g}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){let n=n5[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){let i=n2();return new Promise((a,s)=>{let o=new(0,h.XhrIo);o.setWithCredentials(!0),o.listenOnce(h.EventType.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case h.ErrorCode.NO_ERROR:let t=o.getResponseJson();b(n4,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case h.ErrorCode.TIMEOUT:b(n4,`RPC '${e}' ${i} timed out`),s(new T(S.DEADLINE_EXCEEDED,"Request time out"));break;case h.ErrorCode.HTTP_ERROR:let n=o.getStatus();if(b(n4,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=null==e?void 0:e.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(t)>=0?t:S.UNKNOWN}(t.status);s(new T(e,t.message))}else s(new T(S.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new T(S.UNAVAILABLE,"Connection failed."));break;default:_()}}finally{b(n4,`RPC '${e}' ${i} completed.`)}});let l=JSON.stringify(r);b(n4,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){let i=n2(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=(0,h.createWebChannelTransport)(),o=(0,h.getStatEventTarget)(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;let c=a.join("");b(n4,`Creating RPC '${e}' stream ${i}: ${c}`,l);let d=s.createWebChannel(c,l),f=!1,p=!1,m=new n3({Io:t=>{p?b(n4,`Not sending because RPC '${e}' stream ${i} is closed:`,t):(f||(b(n4,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),b(n4,`RPC '${e}' stream ${i} sending:`,t),d.send(t))},To:()=>d.close()}),g=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return g(d,h.WebChannel.EventType.OPEN,()=>{p||(b(n4,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(d,h.WebChannel.EventType.CLOSE,()=>{p||(p=!0,b(n4,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(d,h.WebChannel.EventType.ERROR,t=>{p||(p=!0,x(n4,`RPC '${e}' stream ${i} transport errored:`,t),m.So(new T(S.UNAVAILABLE,"The operation could not be completed")))}),g(d,h.WebChannel.EventType.MESSAGE,t=>{var n;if(!p){let a=t.data[0];a||_();let s=a.error||(null==(n=a[0])?void 0:n.error);if(s){b(n4,`RPC '${e}' stream ${i} received error:`,s);let t=s.status,n=function(e){let t=r[e];if(void 0!==t)return tX(t)}(t),a=s.message;void 0===n&&(n=S.INTERNAL,a="Unknown error status: "+t+" with message "+s.message),p=!0,m.So(new T(n,a)),d.close()}else b(n4,`RPC '${e}' stream ${i} received:`,a),m.bo(a)}}),g(o,h.Event.STAT_EVENT,t=>{t.stat===h.Stat.PROXY?b(n4,`RPC '${e}' stream ${i} detected buffering proxy`):t.stat===h.Stat.NOPROXY&&b(n4,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function n8(){return"undefined"!=typeof document?document:null}function n7(e){return new ni(e,!0)}class n9{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&b("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class re{constructor(e,t,n,r,i,a,s,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new n9(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===S.RESOURCE_EXHAUSTED?(w(t.toString()),w("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===S.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Yo===t&&this.P_(e,n)},t=>{e(()=>{let e=new T(S.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){let n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rt extends re{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=function(e,t){let n;if("targetChange"in t){var r,i;t.targetChange;let a="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:_(),s=t.targetChange.targetIds||[],o=(i=t.targetChange.resumeToken,e.useProto3Json?(void 0===i||"string"==typeof i||_(),eu.fromBase64String(i||"")):(void 0===i||i instanceof f||i instanceof Uint8Array||_(),eu.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause;n=new t6(a,s,o,l&&new T(void 0===l.code?S.UNKNOWN:tX(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=nf(e,r.document.name),a=nl(r.document.updateTime),s=r.document.createTime?nl(r.document.createTime):V.min(),o=new eL({mapValue:{fields:r.document.fields}}),l=eM.newFoundDocument(i,a,s,o);n=new t3(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=nf(e,r.document),a=r.readTime?nl(r.readTime):V.min(),s=eM.newNoDocument(i,a);n=new t3([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=nf(e,r.document);n=new t3([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return _();{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new tQ(r,i);n=new t4(e.targetId,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return V.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?V.min():t.readTime?nl(t.readTime):V.min()}(e);return this.listener.d_(t,n)}A_(e){let t={};t.database=nm(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if((n=e4(r)?{documents:{documents:[np(e,r.path)]}}:{query:function(e,t){var n,r;let i,a={structuredQuery:{}},s=t.path;null!==t.collectionGroup?(i=s,a.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=s.popLast(),a.structuredQuery.from=[{collectionId:s.lastSegment()}]),a.parent=np(e,i);let o=function(e){if(0!==e.length)return function e(t){return t instanceof eH?function(e){if("=="===e.op){if(eD(e.value))return{unaryFilter:{field:nv(e.field),op:"IS_NAN"}};if(eA(e.value))return{unaryFilter:{field:nv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eD(e.value))return{unaryFilter:{field:nv(e.field),op:"IS_NOT_NAN"}};if(eA(e.value))return{unaryFilter:{field:nv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nv(e.field),op:nn[e.op],value:e.value}}}(t):t instanceof eq?function(t){let n=t.getFilters().map(t=>e(t));return 1===n.length?n[0]:{compositeFilter:{op:nr[t.op],filters:n}}}(t):_()}(eq.create(e,"and"))}(t.filters);o&&(a.structuredQuery.where=o);let l=function(e){if(0!==e.length)return e.map(e=>({field:nv(e.field),direction:nt[e.dir]}))}(t.orderBy);l&&(a.structuredQuery.orderBy=l);let u=na(e,t.limit);return null!==u&&(a.structuredQuery.limit=u),t.startAt&&(a.structuredQuery.startAt={before:(n=t.startAt).inclusive,values:n.position}),t.endAt&&(a.structuredQuery.endAt={before:!(r=t.endAt).inclusive,values:r.position}),{_t:a,parent:i}}(e,r)._t}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=no(e,t.resumeToken);let r=na(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(V.min())>0){n.readTime=ns(e,t.snapshotVersion.toTimestamp());let r=na(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);let n=function(e,t){let n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){let t={};t.database=nm(this.serializer),t.removeTarget=e,this.a_(t)}}class rn extends re{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return e.streamToken||_(),this.lastStreamToken=e.streamToken,e.writeResults&&0!==e.writeResults.length&&_(),this.listener.f_()}onNext(e){var t,n;e.streamToken||_(),this.lastStreamToken=e.streamToken,this.t_.reset();let r=(t=e.writeResults,n=e.commitTime,t&&t.length>0?(void 0!==n||_(),t.map(e=>{let t;return(t=e.updateTime?nl(e.updateTime):nl(n)).isEqual(V.min())&&(t=nl(n)),new tP(t,e.transformResults||[])})):[]),i=nl(e.commitTime);return this.listener.g_(i,r)}p_(){let e={};e.database=nm(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>(function(e,t){var n;let r;if(t instanceof tF)r={update:ny(e,t.key,t.value)};else if(t instanceof tq)r={delete:nh(e,t.key)};else if(t instanceof tV)r={update:ny(e,t.key,t.data),updateMask:function(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof t$))return _();r={verify:nh(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let n=t.transform;if(n instanceof tE)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof t_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tC)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw _()})(0,e))),t.precondition.isNone||(r.currentDocument=void 0!==(n=t.precondition).updateTime?{updateTime:ns(e,n.updateTime.toTimestamp())}:void 0!==n.exists?{exists:n.exists}:_()),r})(this.serializer,e))};this.a_(t)}}class rr extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new T(S.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,nc(t,n),r,i,a)).catch(e=>{throw"FirebaseError"===e.name?(e.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new T(S.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,nc(t,n),r,a,s,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new T(S.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ri{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(w(t),this.D_=!1):b("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class ra{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{rp(this)&&(b("RemoteStore","Restarting streams for network reachability change."),await async function(e){e.L_.add(4),await ro(e),e.q_.set("Unknown"),e.L_.delete(4),await rs(e)}(this))})}),this.q_=new ri(n,r)}}async function rs(e){if(rp(e))for(let t of e.B_)await t(!0)}async function ro(e){for(let t of e.B_)await t(!1)}function rl(e,t){e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),rf(e)?rh(e):rA(e).r_()&&rc(e,t))}function ru(e,t){let n=rA(e);e.N_.delete(t),n.r_()&&rd(e,t),0===e.N_.size&&(n.r_()?n.o_():rp(e)&&e.q_.set("Unknown"))}function rc(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(V.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}rA(e).A_(t)}function rd(e,t){e.Q_.xe(t),rA(e).R_(t)}function rh(e){e.Q_=new t7({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),rA(e).start(),e.q_.v_()}function rf(e){return rp(e)&&!rA(e).n_()&&e.N_.size>0}function rp(e){return 0===e.L_.size}async function rm(e){e.q_.set("Online")}async function rg(e){e.N_.forEach((t,n)=>{rc(e,t)})}async function ry(e,t){e.Q_=void 0,rf(e)?(e.q_.M_(t),rh(e)):e.q_.set("Unknown")}async function rv(e,t,n){if(e.q_.set("Online"),t instanceof t6&&2===t.state&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){b("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await rb(e,n)}else if(t instanceof t3?e.Q_.Ke(t):t instanceof t4?e.Q_.He(t):e.Q_.We(t),!n.isEqual(V.min()))try{let t=await nK(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{let r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(eu.EMPTY_BYTE_STRING,r.snapshotVersion)),rd(e,t);let i=new nx(r.target,t,n,r.sequenceNumber);rc(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){b("RemoteStore","Failed to raise snapshot:",t),await rb(e,t)}}async function rb(e,t,n){if(!X(t))throw t;e.L_.add(1),await ro(e),e.q_.set("Offline"),n||(n=()=>nK(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{b("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await rs(e)})}function rw(e,t){return t().catch(n=>rb(e,n,t))}async function rx(e){var t;let n=rD(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;rp(t=e)&&t.O_.length<10;)try{let t=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}(e.localStore,r);if(null===t){0===e.O_.length&&n.o_();break}r=t.batchId,function(e,t){e.O_.push(t);let n=rD(e);n.r_()&&n.V_&&n.m_(t.mutations)}(e,t)}catch(t){await rb(e,t)}rk(e)&&rE(e)}function rk(e){return rp(e)&&!rD(e).n_()&&e.O_.length>0}function rE(e){rD(e).start()}async function r_(e){rD(e).p_()}async function rS(e){let t=rD(e);for(let n of e.O_)t.m_(n.mutations)}async function rT(e,t,n){let r=e.O_.shift(),i=tG.from(r,t,n);await rw(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await rx(e)}async function rN(e,t){t&&rD(e).V_&&await async function(e,t){var n;if(function(e){switch(e){default:return _();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}(n=t.code)&&n!==S.ABORTED){let n=e.O_.shift();rD(e).s_(),await rw(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await rx(e)}}(e,t),rk(e)&&rE(e)}async function rC(e,t){e.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");let n=rp(e);e.L_.add(3),await ro(e),n&&e.q_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),await rs(e)}async function rI(e,t){t?(e.L_.delete(2),await rs(e)):t||(e.L_.add(2),await ro(e),e.q_.set("Unknown"))}function rA(e){var t,n,r;return e.K_||(t=e.datastore,n=e.asyncQueue,r={Eo:rm.bind(null,e),Ro:rg.bind(null,e),mo:ry.bind(null,e),d_:rv.bind(null,e)},t.w_(),e.K_=new rt(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r),e.B_.push(async t=>{t?(e.K_.s_(),rf(e)?rh(e):e.q_.set("Unknown")):(await e.K_.stop(),e.Q_=void 0)})),e.K_}function rD(e){var t,n,r;return e.U_||(t=e.datastore,n=e.asyncQueue,r={Eo:()=>Promise.resolve(),Ro:r_.bind(null,e),mo:rN.bind(null,e),f_:rS.bind(null,e),g_:rT.bind(null,e)},t.w_(),e.U_=new rn(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r),e.B_.push(async t=>{t?(e.U_.s_(),await rx(e)):(await e.U_.stop(),e.O_.length>0&&(b("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}class rP{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new N,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){let a=new rP(e,t,Date.now()+n,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rR(e,t){if(w("AsyncQueue",`${t}: ${e}`),X(e))return new T(S.UNAVAILABLE,`${t}: ${e}`);throw e}class rj{constructor(e){this.comparator=e?(t,n)=>e(t,n)||$.comparator(t.key,n.key):(e,t)=>$.comparator(e.key,t.key),this.keyedMap=th(),this.sortedSet=new en(this.comparator)}static emptySet(e){return new rj(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rj)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let n=new rj;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class rO{constructor(){this.W_=new en($.comparator)}track(e){let t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):_():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class rL{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){let a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new rL(e,t,rj.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ti(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class rM{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class rU{constructor(){this.queries=rF(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){let n=e.queries;e.queries=rF(),n.forEach((e,n)=>{for(let e of n.j_)e.onError(t)})}(this,new T(S.ABORTED,"Firestore shutting down"))}}function rF(){return new tu(e=>ta(e),ti)}async function rV(e,t){let n=3,r=t.query,i=e.queries.get(r);i?!i.H_()&&t.J_()&&(n=2):(i=new rM,n=+!t.J_());try{switch(n){case 0:i.z_=await e.onListen(r,!0);break;case 1:i.z_=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(n){let e=rR(n,`Initialization of query '${ts(t.query)}' failed`);return void t.onError(e)}e.queries.set(r,i),i.j_.push(t),t.Z_(e.onlineState),i.z_&&t.X_(i.z_)&&rq(e)}async function rz(e,t){let n=t.query,r=3,i=e.queries.get(n);if(i){let e=i.j_.indexOf(t);e>=0&&(i.j_.splice(e,1),0===i.j_.length?r=+!t.J_():!i.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function rB(e,t){let n=!1;for(let r of t){let t=r.query,i=e.queries.get(t);if(i){for(let e of i.j_)e.X_(r)&&(n=!0);i.z_=r}}n&&rq(e)}function rH(e,t,n){let r=e.queries.get(t);if(r)for(let e of r.j_)e.onError(n);e.queries.delete(t)}function rq(e){e.Y_.forEach(e=>{e.next()})}(s=a||(a={})).ea="default",s.Cache="cache";class r${constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)3!==n.type&&t.push(n);e=new rL(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!(e.fromCache&&this.J_())||(!this.options._a||"Offline"===t)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=rL.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==a.Cache}}class rW{constructor(e){this.key=e}}class rG{constructor(e){this.key=e}}class rK{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ty(),this.mutatedKeys=ty(),this.Aa=tl(e),this.Ra=new rj(this.Aa)}get Va(){return this.Ta}ma(e,t){let n=t?t.fa:new rO,r=t?t.Ra:this.Ra,i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1,o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{let u=r.get(e),c=to(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.ga(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.Aa(c,o)>0||l&&0>this.Aa(c,l))&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(s=!0)),f&&(c?(a=a.add(c),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){let e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:a,fa:n,ns:s,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let a=e.fa.G_();a.sort((e,t)=>(function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _()}};return n(e)-n(t)})(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;let s=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return(this.Ea=o,0!==a.length||l)?{snapshot:new rL(this.query,e.Ra,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rO,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ty(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});let t=[];return e.forEach(e=>{this.da.has(e)||t.push(new rG(e))}),this.da.forEach(n=>{e.has(n)||t.push(new rW(n))}),t}ba(e){this.Ta=e.Ts,this.da=ty();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return rL.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class rQ{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class rX{constructor(e){this.key=e,this.va=!1}}class rY{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new tu(e=>ta(e),ti),this.Ma=new Map,this.xa=new Set,this.Oa=new en($.comparator),this.Na=new Map,this.La=new nj,this.Ba={},this.ka=new Map,this.qa=nN.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function rJ(e,t,n=!0){let r,i=ic(e),a=i.Fa.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.Da()):r=await r0(i,t,n,!0),r}async function rZ(e,t){let n=ic(e);await r0(n,t,!0,!1)}async function r0(e,t,n,r){var i,a;let s,o=await (i=e.localStore,a=tt(t),i.persistence.runTransaction("Allocate target","readwrite",e=>{let t;return i.Ur.getTargetData(e,a).next(n=>n?(t=n,Q.resolve(t)):i.Ur.allocateTargetId(e).next(n=>(t=new nx(a,n,"TargetPurposeListen",e.currentSequenceNumber),i.Ur.addTargetData(e,t).next(()=>t))))}).then(e=>{let t=i.os.get(e.targetId);return(null===t||e.snapshotVersion.compareTo(t.snapshotVersion)>0)&&(i.os=i.os.insert(e.targetId,e),i._s.set(a,e.targetId)),e})),l=o.targetId,u=e.sharedClientState.addLocalQueryTarget(l,n);return r&&(s=await r1(e,t,l,"current"===u,o.resumeToken)),e.isPrimaryClient&&n&&rl(e.remoteStore,o),s}async function r1(e,t,n,r,i){e.Ka=(t,n,r)=>(async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await nX(e.localStore,t.query,!1).then(({documents:e})=>t.view.ma(e,i)));let a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return ia(e,t.targetId,o.wa),o.snapshot})(e,t,n,r);let a=await nX(e.localStore,t,!0),s=new rK(t,a.Ts),o=s.ma(a.documents),l=t5.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(o,e.isPrimaryClient,l);ia(e,n,u.wa);let c=new rQ(t,n,s);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function r2(e,t,n){let r=e.Fa.get(t),i=e.Ma.get(r.targetId);if(i.length>1)return e.Ma.set(r.targetId,i.filter(e=>!ti(e,t))),void e.Fa.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||await nQ(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),n&&ru(e.remoteStore,r.targetId),ir(e,r.targetId)}).catch(K)):(ir(e,r.targetId),await nQ(e.localStore,r.targetId,!0))}async function r5(e,t){let n=e.Fa.get(t),r=e.Ma.get(n.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),ru(e.remoteStore,n.targetId))}async function r3(e,t,n){var r,i;let a=((r=e).remoteStore.remoteSyncer.applySuccessfulWrite=r7.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=r9.bind(null,r),r);try{let e,r=await function(e,t){let n,r,i=F.now(),a=t.reduce((e,t)=>e.add(t.key),ty());return e.persistence.runTransaction("Locally write mutations","readwrite",s=>{let o=tc,l=ty();return e.cs.getEntries(s,a).next(e=>{(o=e).forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>e.localDocuments.getOverlayedDocuments(s,o)).next(r=>{n=r;let a=[];for(let e of t){let t=function(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=tk(r.transform,e||null);null!=i&&(null===n&&(n=eL.empty()),n.set(r.field,i))}return n||null}(e,n.get(e.key).overlayedDocument);null!=t&&a.push(new tV(e.key,t,function e(t){let n=[];return ee(t.fields,(t,r)=>{let i=new q([t]);if(eP(r)){let t=e(r.mapValue).fields;if(0===t.length)n.push(i);else for(let e of t)n.push(i.child(e))}else n.push(i)}),new eo(n)}(t.value.mapValue),tR.exists(!0)))}return e.mutationQueue.addMutationBatch(s,i,a,t)}).next(t=>{r=t;let i=t.applyToLocalDocumentSet(n,l);return e.documentOverlayCache.saveOverlays(s,t.batchId,i)})}).then(()=>({batchId:r.batchId,changes:tf(n)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(r.batchId),i=r.batchId,(e=a.Ba[a.currentUser.toKey()])||(e=new en(M)),e=e.insert(i,n),a.Ba[a.currentUser.toKey()]=e,await io(a,r.changes),await rx(a.remoteStore)}catch(t){let e=rR(t,"Failed to persist write");n.reject(e)}}async function r4(e,t){try{let n=await function(e,t){let n=t.snapshotVersion,r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{var a,s,o;let l,u,c=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;let d=[];t.targetChanges.forEach((a,s)=>{var o;let l=r.get(s);if(!l)return;d.push(e.Ur.removeMatchingKeys(i,a.removedDocuments,s).next(()=>e.Ur.addMatchingKeys(i,a.addedDocuments,s)));let u=l.withSequenceNumber(i.currentSequenceNumber);null!==t.targetMismatches.get(s)?u=u.withResumeToken(eu.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):a.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(a.resumeToken,n)),r=r.insert(s,u),o=u,(0===l.resumeToken.approximateByteSize()||o.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size>0)&&d.push(e.Ur.updateTargetData(i,u))});let h=tc,f=ty();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(i,n))}),d.push((a=i,s=c,o=t.documentUpdates,l=ty(),u=ty(),o.forEach(e=>l=l.add(e)),s.getEntries(a,l).next(e=>{let t=tc;return o.forEach((n,r)=>{let i=e.get(n);r.isFoundDocument()!==i.isFoundDocument()&&(u=u.add(n)),r.isNoDocument()&&r.version.isEqual(V.min())?(s.removeEntry(n,r.readTime),t=t.insert(n,r)):!i.isValidDocument()||r.version.compareTo(i.version)>0||0===r.version.compareTo(i.version)&&i.hasPendingWrites?(s.addEntry(r),t=t.insert(n,r)):b("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",r.version)}),{Ps:t,Is:u}})).next(e=>{h=e.Ps,f=e.Is})),!n.isEqual(V.min())){let t=e.Ur.getLastRemoteSnapshotVersion(i).next(t=>e.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));d.push(t)}return Q.waitFor(d).next(()=>c.apply(i)).next(()=>e.localDocuments.getLocalViewOfDocuments(i,h,f)).next(()=>h)}).then(t=>(e.os=r,t))}(e.localStore,t);t.targetChanges.forEach((t,n)=>{let r=e.Na.get(n);r&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||_(),t.addedDocuments.size>0?r.va=!0:t.modifiedDocuments.size>0?r.va||_():t.removedDocuments.size>0&&(r.va||_(),r.va=!1))}),await io(e,n,t)}catch(e){await K(e)}}function r6(e,t,n){var r;if(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n){let n,i=[];e.Fa.forEach((e,n)=>{let r=n.view.Z_(t);r.snapshot&&i.push(r.snapshot)}),(r=e.eventManager).onlineState=t,n=!1,r.queries.forEach((e,r)=>{for(let e of r.j_)e.Z_(t)&&(n=!0)}),n&&rq(r),i.length&&e.Ca.d_(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function r8(e,t,n){e.sharedClientState.updateQueryState(t,"rejected",n);let r=e.Na.get(t),i=r&&r.key;if(i){let n=new en($.comparator);n=n.insert(i,eM.newNoDocument(i,V.min()));let r=ty().add(i),a=new t2(V.min(),new Map,new en(M),n,r);await r4(e,a),e.Oa=e.Oa.remove(i),e.Na.delete(t),is(e)}else await nQ(e.localStore,t,!1).then(()=>ir(e,t,n)).catch(K)}async function r7(e,t){var n;let r=t.batch.batchId;try{let i=await (n=e.localStore,n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return(function(e,t,n,r){let i=n.batch,a=i.keys(),s=Q.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{let a=n.docVersions.get(e);null!==a||_(),0>t.version.compareTo(a)&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))})(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ty();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))}));it(e,r,null),ie(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await io(e,i)}catch(e){await K(e)}}async function r9(e,t,n){var r;try{let i=await (r=e.localStore,r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(null!==t||_(),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))}));it(e,t,n),ie(e,t),e.sharedClientState.updateMutationState(t,"rejected",n),await io(e,i)}catch(e){await K(e)}}function ie(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function it(e,t,n){let r=e.Ba[e.currentUser.toKey()];if(r){let i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),e.Ba[e.currentUser.toKey()]=r}}function ir(e,t,n=null){for(let r of(e.sharedClientState.removeLocalQueryTarget(t),e.Ma.get(t)))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||ii(e,t)})}function ii(e,t){e.xa.delete(t.path.canonicalString());let n=e.Oa.get(t);null!==n&&(ru(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),is(e))}function ia(e,t,n){for(let r of n)r instanceof rW?(e.La.addReference(r.key,t),function(e,t){let n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(b("SyncEngine","New document in limbo: "+n),e.xa.add(r),is(e))}(e,r)):r instanceof rG?(b("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||ii(e,r.key)):_()}function is(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){let t=e.xa.values().next().value;e.xa.delete(t);let n=new $(B.fromString(t)),r=e.qa.next();e.Na.set(r,new rX(n)),e.Oa=e.Oa.insert(n,r),rl(e.remoteStore,new nx(tt(e8(n.path)),r,"TargetPurposeLimboResolution",Y.oe))}}async function io(e,t,n){let r=[],i=[],a=[];e.Fa.isEmpty()||(e.Fa.forEach((s,o)=>{a.push(e.Ka(o,t,n).then(t=>{var a;if((t||n)&&e.isPrimaryClient){let r=t?!t.fromCache:null==(a=null==n?void 0:n.targetChanges.get(o.targetId))?void 0:a.current;e.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(t){r.push(t);let e=nH.Wi(o.targetId,t);i.push(e)}}))}),await Promise.all(a),e.Ca.d_(r),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>Q.forEach(t,t=>Q.forEach(t.$i,r=>e.persistence.referenceDelegate.addReference(n,t.targetId,r)).next(()=>Q.forEach(t.Ui,r=>e.persistence.referenceDelegate.removeReference(n,t.targetId,r)))))}catch(e){if(!X(e))throw e;b("LocalStore","Failed to update sequence numbers: "+e)}for(let n of t){let t=n.targetId;if(!n.fromCache){let n=e.os.get(t),r=n.snapshotVersion,i=n.withLastLimboFreeSnapshotVersion(r);e.os=e.os.insert(t,i)}}}(e.localStore,i))}async function il(e,t){if(!e.currentUser.isEqual(t)){b("SyncEngine","User change. New user:",t.toKey());let n=await nG(e.localStore,t);e.currentUser=t,e.ka.forEach(e=>{e.forEach(e=>{e.reject(new T(S.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.ka.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await io(e,n.hs)}}function iu(e,t){let n=e.Na.get(t);if(n&&n.va)return ty().add(n.key);{let n=ty(),r=e.Ma.get(t);if(!r)return n;for(let t of r){let r=e.Fa.get(t);n=n.unionWith(r.view.Va)}return n}}function ic(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=r4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r8.bind(null,e),e.Ca.d_=rB.bind(null,e.eventManager),e.Ca.$a=rH.bind(null,e.eventManager),e}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=n7(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){var t,n;return t=this.persistence,n=new n$,new nW(t,n,e.initialUser,this.serializer)}Ga(e){return new nV(nB.Zr,this.serializer)}Wa(e){return new nJ}async terminate(){var e,t;null==(e=this.gcScheduler)||e.stop(),null==(t=this.indexBackfillerScheduler)||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class ih{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>r6(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=il.bind(null,this.syncEngine),await rI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new rU}createDatastore(e){var t;let n=n7(e.databaseInfo.databaseId),r=new n6(e.databaseInfo);return t=e.authCredentials,new rr(t,e.appCheckCredentials,r,n)}createRemoteStore(e){var t,n;return t=this.localStore,n=this.datastore,new ra(t,n,e.asyncQueue,e=>r6(this.syncEngine,e,0),n0.D()?new n0:new nZ)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){let o=new rY(e,t,n,r,i,a);return s&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){b("RemoteStore","RemoteStore shutting down."),e.L_.add(5),await ro(e),e.k_.shutdown(),e.q_.set("Unknown")}(this.remoteStore),null==(e=this.datastore)||e.terminate(),null==(t=this.eventManager)||t.terminate()}}ih.provider={build:()=>new ih};class ip{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):w("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class im{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=m.UNAUTHENTICATED,this.clientId=L.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{b("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(b("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new N;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=rR(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function ig(e,t){e.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await nG(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function iy(e,t){e.asyncQueue.verifyOperationInProgress();let n=await iv(e);b("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>rC(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>rC(t.remoteStore,n)),e._onlineComponents=t}async function iv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{await ig(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===S.FAILED_PRECONDITION||t.code===S.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;x("Error using user provided cache. Falling back to memory cache: "+t),await ig(e,new id)}}else b("FirestoreClient","Using default OfflineComponentProvider"),await ig(e,new id);return e._offlineComponents}async function ib(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),await iy(e,e._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),await iy(e,new ih))),e._onlineComponents}async function iw(e){let t=await ib(e),n=t.eventManager;return n.onListen=rJ.bind(null,t.syncEngine),n.onUnlisten=r2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=rZ.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=r5.bind(null,t.syncEngine),n}function ix(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}let ik=new Map;function iE(e,t,n){if(!n)throw new T(S.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function i_(e){if(!$.isDocumentKey(e))throw new T(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function iS(e){if($.isDocumentKey(e))throw new T(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function iT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":_()}function iN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new T(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=iT(e);throw new T(S.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class iC{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new T(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null==(t=e.ssl)||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new T(S.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ix(null!=(n=e.experimentalLongPollingOptions)?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new T(S.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new T(S.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new T(S.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,n;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new T(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new I;switch(e.type){case"firstParty":return new R(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new T(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=ik.get(e);t&&(b("ComponentProvider","Removing Datastore"),ik.delete(e),t.terminate())}(this),Promise.resolve()}}class iA{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new iA(this.firestore,e,this._query)}}class iD{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iP(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new iD(this.firestore,e,this._key)}}class iP extends iA{constructor(e,t,n){super(e,t,e8(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new iD(this.firestore,null,new $(e))}withConverter(e){return new iP(this.firestore,e,this._path)}}function iR(e,t,...n){if(e=(0,c.getModularInstance)(e),iE("collection","path",t),e instanceof iI){let r=B.fromString(t,...n);return iS(r),new iP(e,null,r)}{if(!(e instanceof iD||e instanceof iP))throw new T(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(B.fromString(t,...n));return iS(r),new iP(e.firestore,null,r)}}function ij(e,t,...n){if(e=(0,c.getModularInstance)(e),1==arguments.length&&(t=L.newId()),iE("doc","path",t),e instanceof iI){let r=B.fromString(t,...n);return i_(r),new iD(e,null,new $(r))}{if(!(e instanceof iD||e instanceof iP))throw new T(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(B.fromString(t,...n));return i_(r),new iD(e.firestore,e instanceof iP?e.converter:null,new $(r))}}class iO{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new n9(this,"async_queue_retry"),this.Vu=()=>{let e=n8();e&&b("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;let t=n8();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=n8();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new N;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!X(e))throw e;b("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(e=>{let t;throw this.Eu=e,this.du=!1,w("INTERNAL UNHANDLED ERROR: ",(t=e.message||"",e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t)),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=rP.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&_()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{for(let t of(this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.Tu))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function iL(e){if("object"!=typeof e||null===e)return!1;for(let t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}class iM extends iI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new iO,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new iO(e),this._firestoreClient=void 0,await e}}}function iU(e,t){let n="object"==typeof e?e:(0,o.getApp)(),r=(0,o._getProvider)(n,"firestore").getImmediate({identifier:"string"==typeof e?e:t||"(default)"});if(!r._initialized){let e=(0,c.getDefaultEmulatorHostnameAndPort)("firestore");e&&function(e,t,n,r={}){var i;let a=(e=iN(e,iI))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==a.host&&a.host!==s&&x("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=m.MOCK_USER;else{t=(0,c.createMockUserToken)(r.mockUserToken,null==(i=e._app)?void 0:i.options.projectId);let a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new T(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new m(a)}e._authCredentials=new A(new C(t,n))}}(r,...e)}return r}function iF(e){if(e._terminated)throw new T(S.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r,i,a;let s=e._freezeSettings(),o=(i=e._databaseId,a=(null==(t=e._app)?void 0:t.options.appId)||"",new ey(i,a,e._persistenceKey,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,ix(s.experimentalLongPollingOptions),s.useFetchStreams));e._componentsProvider||(null==(n=s.localCache)?void 0:n._offlineComponentProvider)&&(null==(r=s.localCache)?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new im(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){let t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}class iV{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iV(eu.fromBase64String(e))}catch(e){throw new T(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new iV(eu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class iz{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new T(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new q(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function iB(){return new iz("__name__")}class iH{constructor(e){this._methodName=e}}class iq{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new T(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new T(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return M(this._lat,e._lat)||M(this._long,e._long)}}class i${constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}let iW=/^__.*__$/;class iG{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new tV(e,this.data,this.fieldMask,t,this.fieldTransforms):new tF(e,this.data,t,this.fieldTransforms)}}class iK{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new tV(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iQ(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _()}}class iX{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new iX(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let n=null==(t=this.path)?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;let n=null==(t=this.path)?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return at(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(iQ(this.Cu)&&iW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class iY{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||n7(e)}Qu(e,t,n,r=!1){return new iX({Cu:e,methodName:t,qu:n,path:q.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iJ(e){let t=e._freezeSettings(),n=n7(e._databaseId);return new iY(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iZ(e,t,n,r,i,a={}){let s,o,l=e.Qu(a.merge||a.mergeFields?2:0,t,n,i);i8("Data must be an object, but it was:",l,r);let u=i4(r,l);if(a.merge)s=new eo(l.fieldMask),o=l.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=i7(t,r,n);if(!l.contains(i))throw new T(S.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);an(e,i)||e.push(i)}s=new eo(e),o=l.fieldTransforms.filter(e=>s.covers(e.field))}else s=null,o=l.fieldTransforms;return new iG(new eL(u),s,o)}class i0 extends iH{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof i0}}class i1 extends iH{_toFieldTransform(e){return new tD(e.path,new tE)}isEqual(e){return e instanceof i1}}function i2(e,t,n,r){let i=e.Qu(1,t,n);i8("Data must be an object, but it was:",i,r);let a=[],s=eL.empty();return ee(r,(e,r)=>{let o=ae(t,e,n);r=(0,c.getModularInstance)(r);let l=i.Nu(o);if(r instanceof i0)a.push(o);else{let e=i3(r,l);null!=e&&(a.push(o),s.set(o,e))}}),new iK(s,new eo(a),i.fieldTransforms)}function i5(e,t,n,r,i,a){let s=e.Qu(1,t,n),o=[i7(t,r,n)],l=[i];if(a.length%2!=0)throw new T(S.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)o.push(i7(t,a[e])),l.push(a[e+1]);let u=[],d=eL.empty();for(let e=o.length-1;e>=0;--e)if(!an(u,o[e])){let t=o[e],n=l[e];n=(0,c.getModularInstance)(n);let r=s.Nu(t);if(n instanceof i0)u.push(t);else{let e=i3(n,r);null!=e&&(u.push(t),d.set(t,e))}}return new iK(d,new eo(u),s.fieldTransforms)}function i3(e,t){if(i6(e=(0,c.getModularInstance)(e)))return i8("Unsupported field value:",t,e),i4(e,t);if(e instanceof iH)return function(e,t){if(!iQ(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");let n=[],r=0;for(let i of e){let e=i3(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}return function(e,t){var n,r,i;if(null===(e=(0,c.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return n=t.serializer,"number"==typeof(i=r=e)&&Number.isInteger(i)&&!J(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER?tw(r):tb(n,r);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let n=F.fromDate(e);return{timestampValue:ns(t.serializer,n)}}if(e instanceof F){let n=new F(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ns(t.serializer,n)}}if(e instanceof iq)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof iV)return{bytesValue:no(t.serializer,e._byteString)};if(e instanceof iD){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:nu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof i$)return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return tb(t.serializer,e)})}}}}};throw t.Bu(`Unsupported field value: ${iT(e)}`)}(e,t)}function i4(e,t){let n={};return et(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ee(e,(e,r)=>{let i=i3(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function i6(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof F||e instanceof iq||e instanceof iV||e instanceof iD||e instanceof iH||e instanceof i$)}function i8(e,t,n){if(!i6(n)||"object"!=typeof n||null===n||Object.getPrototypeOf(n)!==Object.prototype&&null!==Object.getPrototypeOf(n)){let r=iT(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function i7(e,t,n){if((t=(0,c.getModularInstance)(t))instanceof iz)return t._internalPath;if("string"==typeof t)return ae(e,t);throw at("Field path arguments must be of type string or ",e,!1,void 0,n)}let i9=RegExp("[~\\*/\\[\\]]");function ae(e,t,n){if(t.search(i9)>=0)throw at(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new iz(...t.split("."))._internalPath}catch(r){throw at(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function at(e,t,n,r,i){let a=r&&!r.isEmpty(),s=void 0!==i,o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new T(S.INVALID_ARGUMENT,o+e+l)}function an(e,t){return e.some(e=>e.isEqual(t))}class ar{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new iD(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new ai(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(aa("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ai extends ar{data(){return super.data()}}function aa(e,t){return"string"==typeof t?ae(e,t):t instanceof iz?t._internalPath:t._delegate._internalPath}function as(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new T(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ao{}class al extends ao{}function au(e,t,...n){let r=[];for(let i of(t instanceof ao&&r.push(t),function(e){let t=e.filter(e=>e instanceof ah).length,n=e.filter(e=>e instanceof ac).length;if(t>1||t>0&&n>0)throw new T(S.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r=r.concat(n)),r))e=i._apply(e);return e}class ac extends al{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ac(e,t,n)}_apply(e){let t=this._parse(e);return ay(e._query,t),new iA(e.firestore,e.converter,tn(e._query,t))}_parse(e){let t=iJ(e.firestore);return function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new T(S.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){ag(s,a);let t=[];for(let n of s)t.push(am(r,e,n));o={arrayValue:{values:t}}}else o=am(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ag(s,a),o=function(e,t,n,r=!1){return i3(n,e.Qu(r?4:3,t))}(n,t,s,"in"===a||"not-in"===a);return eH.create(i,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ad(e,t,n){let r=aa("where",e);return ac._create(r,t,n)}class ah extends ao{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ah(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:eq.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;for(let e of t.getFlattenedFilters())ay(n,e),n=tn(n,e)}(e._query,t),new iA(e.firestore,e.converter,tn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class af extends al{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new af(e,t)}_apply(e){let t=function(e,t,n){if(null!==e.startAt)throw new T(S.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new T(S.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ez(t,n)}(e._query,this._field,this._direction);return new iA(e.firestore,e.converter,function(e,t){let n=e.explicitOrderBy.concat([t]);return new e6(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function ap(e,t="asc"){let n=aa("orderBy",e);return af._create(n,t)}function am(e,t,n){if("string"==typeof(n=(0,c.getModularInstance)(n))){if(""===n)throw new T(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e9(t)&&-1!==n.indexOf("/"))throw new T(S.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(B.fromString(n));if(!$.isDocumentKey(r))throw new T(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eN(e,new $(r))}if(n instanceof iD)return eN(e,n._key);throw new T(S.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iT(n)}.`)}function ag(e,t){if(!Array.isArray(e)||0===e.length)throw new T(S.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ay(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new T(S.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new T(S.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class av{convertValue(e,t="none"){switch(ew(e)){case 0:return null;case 1:return e.booleanValue;case 2:return eh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ef(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let n={};return ee(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;return new i$(null==(r=null==(n=null==(t=e.fields)?void 0:t.value.arrayValue)?void 0:n.values)?void 0:r.map(e=>eh(e.doubleValue)))}convertGeoPoint(e){return new iq(eh(e.latitude),eh(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=em(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(eg(e));default:return null}}convertTimestamp(e){let t=ed(e);return new F(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=B.fromString(e);nw(n)||_();let r=new ev(n.get(1),n.get(3)),i=new $(n.popFirst(5));return r.isEqual(t)||w(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function ab(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}class aw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ax extends ar{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ak(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(aa("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ak extends ax{data(e={}){return super.data(e)}}class aE{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new aw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ak(this._firestore,this._userDataWriter,n.key,n,new aw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new T(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{let r=new ak(e._firestore,e._userDataWriter,n.doc.key,n.doc,new aw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let r=new ak(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(a=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _()}}(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function a_(e){e=iN(e,iD);let t=iN(e.firestore,iM);return(function(e,t,n={}){let r=new N;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let a=new ip({next:o=>{a.Za(),t.enqueueAndForget(()=>rz(e,s));let l=o.docs.has(n);!l&&o.fromCache?i.reject(new T(S.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new T(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new r$(e8(n.path),a,{includeMetadataChanges:!0,_a:!0});return rV(e,s)})(await iw(e),e.asyncQueue,t,n,r)),r.promise})(iF(t),e._key).then(n=>aR(t,e,n))}class aS extends av{constructor(e){super(),this.firestore=e}convertBytes(e){return new iV(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new iD(this.firestore,null,t)}}function aT(e){e=iN(e,iA);let t=iN(e.firestore,iM),n=iF(t),r=new aS(t);return as(e._query),(function(e,t,n={}){let r=new N;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let a=new ip({next:n=>{a.Za(),t.enqueueAndForget(()=>rz(e,s)),n.fromCache&&"server"===r.source?i.reject(new T(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new r$(n,a,{includeMetadataChanges:!0,_a:!0});return rV(e,s)})(await iw(e),e.asyncQueue,t,n,r)),r.promise})(n,e._query).then(n=>new aE(t,r,e,n))}function aN(e,t,n){e=iN(e,iD);let r=iN(e.firestore,iM),i=ab(e.converter,t,n);return aP(r,[iZ(iJ(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,tR.none())])}function aC(e,t,n,...r){e=iN(e,iD);let i=iN(e.firestore,iM),a=iJ(i);return aP(i,[("string"==typeof(t=(0,c.getModularInstance)(t))||t instanceof iz?i5(a,"updateDoc",e._key,t,n,r):i2(a,"updateDoc",e._key,t)).toMutation(e._key,tR.exists(!0))])}function aI(e){return aP(iN(e.firestore,iM),[new tq(e._key,tR.none())])}function aA(e,t){let n=iN(e.firestore,iM),r=ij(e),i=ab(e.converter,t);return aP(n,[iZ(iJ(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,tR.exists(!1))]).then(()=>r)}function aD(e,...t){let n,r,i;e=(0,c.getModularInstance)(e);let a={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof t[0]||iL(t[s])||(a=t[s],s++);let o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(iL(t[s])){let e=t[s];t[s]=null==(l=e.next)?void 0:l.bind(e),t[s+1]=null==(u=e.error)?void 0:u.bind(e),t[s+2]=null==(d=e.complete)?void 0:d.bind(e)}if(e instanceof iD)r=iN(e.firestore,iM),i=e8(e._key.path),n={next:n=>{t[s]&&t[s](aR(r,e,n))},error:t[s+1],complete:t[s+2]};else{let a=iN(e,iA);r=iN(a.firestore,iM),i=a._query;let o=new aS(r);n={next:e=>{t[s]&&t[s](new aE(r,o,a,e))},error:t[s+1],complete:t[s+2]},as(e._query)}var l,u,d,h=iF(r),f=i;let p=new ip(n),m=new r$(f,p,o);return h.asyncQueue.enqueueAndForget(async()=>rV(await iw(h),m)),()=>{p.Za(),h.asyncQueue.enqueueAndForget(async()=>rz(await iw(h),m))}}function aP(e,t){var n=iF(e);let r=new N;return n.asyncQueue.enqueueAndForget(async()=>r3(await ib(n).then(e=>e.syncEngine),t,r)),r.promise}function aR(e,t,n){let r=n.docs.get(t._key),i=new aS(e);return new ax(e,i,t._key,r,new aw(n.hasPendingWrites,n.fromCache),t.converter)}class aj{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=iJ(e)}set(e,t,n){this._verifyNotCommitted();let r=aO(e,this._firestore),i=ab(r.converter,t,n),a=iZ(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,tR.none())),this}update(e,t,n,...r){let i;this._verifyNotCommitted();let a=aO(e,this._firestore);return i="string"==typeof(t=(0,c.getModularInstance)(t))||t instanceof iz?i5(this._dataReader,"WriteBatch.update",a._key,t,n,r):i2(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(i.toMutation(a._key,tR.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=aO(e,this._firestore);return this._mutations=this._mutations.concat(new tq(t._key,tR.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new T(S.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function aO(e,t){if((e=(0,c.getModularInstance)(e)).firestore!==t)throw new T(S.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function aL(){return new i1("serverTimestamp")}function aM(e){return iF(e=iN(e,iM)),new aj(e,t=>aP(e,t))}new WeakMap,function(e=!0){g=o.SDK_VERSION,(0,o._registerComponent)(new(0,l.Component)("firestore",(t,{instanceIdentifier:n,options:r})=>{let i=t.getProvider("app").getImmediate(),a=new iM(new D(t.getProvider("auth-internal")),new O(t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new T(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ev(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(p,"4.7.3",void 0),(0,o.registerVersion)(p,"4.7.3","esm2017")}()}),E("7xvHX",function(t,n){e(t.exports,"_registerComponent",()=>y),e(t.exports,"_getProvider",()=>v),e(t.exports,"_removeServiceInstance",()=>b),e(t.exports,"_isFirebaseServerApp",()=>w),e(t.exports,"registerVersion",()=>N),e(t.exports,"SDK_VERSION",()=>_),e(t.exports,"initializeApp",()=>S),e(t.exports,"getApp",()=>T);var r=k("eryG9"),i=k("5Z2ef"),a=k("gMVVg"),s=k("iItpQ");class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let l="@firebase/app",u="0.10.13",c=new(0,i.Logger)("@firebase/app"),d="[DEFAULT]",h={[l]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,p=new Map,m=new Map;function g(e,t){try{e.container.addComponent(t)}catch(n){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function y(e){let t=e.name;if(m.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(m.set(t,e),f.values()))g(n,e);for(let t of p.values())g(t,e);return!0}function v(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function b(e,t,n=d){v(e,t).clearInstance(n)}function w(e){return void 0!==e.settings}let x=new(0,a.ErrorFactory)("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class E{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new(0,r.Component)("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw x.create("app-deleted",{appName:this._name})}}let _="10.14.1";function S(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let i=Object.assign({name:d,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!=typeof s||!s)throw x.create("bad-app-name",{appName:String(s)});if(n||(n=(0,a.getDefaultAppConfig)()),!n)throw x.create("no-options");let o=f.get(s);if(o)if((0,a.deepEqual)(n,o.options)&&(0,a.deepEqual)(i,o.config))return o;else throw x.create("duplicate-app",{appName:s});let l=new(0,r.ComponentContainer)(s);for(let e of m.values())l.addComponent(e);let u=new E(n,i,l);return f.set(s,u),u}function T(e=d){let t=f.get(e);if(!t&&e===d&&(0,a.getDefaultAppConfig)())return S();if(!t)throw x.create("no-app",{appName:e});return t}function N(e,t,n){var i;let a=null!=(i=h[e])?i:e;n&&(a+=`-${n}`);let s=a.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let e=[`Unable to register library "${a}" with version "${t}":`];s&&e.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),c.warn(e.join(" "));return}y(new(0,r.Component)(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}let C="firebase-heartbeat-store",I=null;function A(){return I||(I=(0,s.openDB)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(C)}catch(e){console.warn(e)}}}).catch(e=>{throw x.create("idb-open",{originalErrorMessage:e.message})})),I}async function D(e){try{let t=(await A()).transaction(C),n=await t.objectStore(C).get(R(e));return await t.done,n}catch(e){if(e instanceof a.FirebaseError)c.warn(e.message);else{let t=x.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});c.warn(t.message)}}}async function P(e,t){try{let n=(await A()).transaction(C,"readwrite"),r=n.objectStore(C);await r.put(t,R(e)),await n.done}catch(e){if(e instanceof a.FirebaseError)c.warn(e.message);else{let t=x.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});c.warn(t.message)}}}function R(e){return`${e.name}!${e.options.appId}`}class j{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new L(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=O();if((null==(e=this._heartbeatsCache)?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null==(t=this._heartbeatsCache)?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(e){c.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=O(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),M(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),M(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,a.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return c.warn(e),""}}}function O(){return new Date().toISOString().substring(0,10)}class L{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.isIndexedDBAvailable)()&&(0,a.validateIndexedDBOpenable)().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await D(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return P(this.app,{lastSentHeartbeatDate:null!=(t=e.lastSentHeartbeatDate)?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return P(this.app,{lastSentHeartbeatDate:null!=(t=e.lastSentHeartbeatDate)?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function M(e){return(0,a.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e})).length}y(new(0,r.Component)("platform-logger",e=>new o(e),"PRIVATE")),y(new(0,r.Component)("heartbeat",e=>new j(e),"PRIVATE")),N(l,u,""),N(l,u,"esm2017"),N("fire-js","")}),E("eryG9",function(t,n){e(t.exports,"Component",()=>i),e(t.exports,"ComponentContainer",()=>o);var r=k("gMVVg");class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let a="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new(0,r.Deferred);if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!=(t=null==e?void 0:e.optional)&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}if(r)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=a){return this.instances.has(e)}getOptions(e=a){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!=(n=this.onInitCallbacks.get(r))?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var n;let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===a?void 0:n,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=a){return this.component?this.component.multipleInstances?e:a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}}),E("gMVVg",function(t,n){e(t.exports,"base64urlEncodeWithoutPadding",()=>l),e(t.exports,"base64Decode",()=>u),e(t.exports,"getDefaultEmulatorHost",()=>d),e(t.exports,"getDefaultEmulatorHostnameAndPort",()=>h),e(t.exports,"getDefaultAppConfig",()=>f),e(t.exports,"getExperimentalSetting",()=>p),e(t.exports,"Deferred",()=>m),e(t.exports,"createMockUserToken",()=>g),e(t.exports,"getUA",()=>y),e(t.exports,"isMobileCordova",()=>v),e(t.exports,"isBrowser",()=>w),e(t.exports,"isWebWorker",()=>x),e(t.exports,"isCloudflareWorker",()=>k),e(t.exports,"isBrowserExtension",()=>E),e(t.exports,"isReactNative",()=>_),e(t.exports,"isIE",()=>S),e(t.exports,"isSafari",()=>T),e(t.exports,"isIndexedDBAvailable",()=>N),e(t.exports,"validateIndexedDBOpenable",()=>C),e(t.exports,"areCookiesEnabled",()=>I),e(t.exports,"FirebaseError",()=>A),e(t.exports,"ErrorFactory",()=>D),e(t.exports,"isEmpty",()=>R),e(t.exports,"deepEqual",()=>function e(t,n){if(t===n)return!0;let r=Object.keys(t),i=Object.keys(n);for(let a of r){if(!i.includes(a))return!1;let r=t[a],s=n[a];if(j(r)&&j(s)){if(!e(r,s))return!1}else if(r!==s)return!1}for(let e of i)if(!r.includes(e))return!1;return!0}),e(t.exports,"querystring",()=>O),e(t.exports,"querystringDecode",()=>L),e(t.exports,"extractQuerystring",()=>M),e(t.exports,"createSubscribe",()=>U),e(t.exports,"calculateBackoffMillis",()=>z),e(t.exports,"getModularInstance",()=>B);let r=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},i=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){let a=e[n++],s=((7&i)<<18|(63&a)<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{let a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,s=a?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|s>>4,d=(15&s)<<2|l>>6,h=63&l;!o&&(h=64,a||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):i(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0,o=++t<e.length?n[e.charAt(t)]:64,l=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==a||null==o||null==l)throw new s;let u=i<<2|a>>4;if(r.push(u),64!==o){let e=a<<4&240|o>>2;if(r.push(e),64!==l){let e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let o=function(e){let t=r(e);return a.encodeByteArray(t,!0)},l=function(e){return o(e).replace(/\./g,"")},u=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},c=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==b)return b;throw Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&u(e[1]);return t&&JSON.parse(t)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},d=e=>{var t,n;return null==(n=null==(t=c())?void 0:t.emulatorHosts)?void 0:n[e]},h=e=>{let t=d(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},f=()=>{var e;return null==(e=c())?void 0:e.config},p=e=>{var t;return null==(t=c())?void 0:t[`_${e}`]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(a)),""].join(".")}function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function w(){return"undefined"!=typeof window||x()}function x(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function k(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function E(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function S(){let e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T(){return!function(){var e;let t=null==(e=c())?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(b.process)}catch(e){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N(){try{return"object"==typeof indexedDB}catch(e){return!1}}function C(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null==(e=i.error)?void 0:e.message)||"")}}catch(e){t(e)}})}function I(){return"undefined"!=typeof navigator&&!!navigator.cookieEnabled}class A extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,A.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var n,r;let i=t[0]||{},a=`${this.service}/${e}`,s=this.errors[e],o=s?(n=s,r=i,n.replace(P,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",l=`${this.serviceName}: ${o} (${a}).`;return new A(a,l,i)}}let P=/\{\$([^}]+)}/g;function R(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function j(e){return null!==e&&"object"==typeof e}function O(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function L(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function M(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function U(e,t){let n=new F(e,t);return n.subscribe.bind(n)}class F{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V(){}function z(e,t=1e3,n=2){let r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function B(e){return e&&e._delegate?e._delegate:e}}),E("5Z2ef",function(t,n){var r,i;e(t.exports,"LogLevel",()=>r),e(t.exports,"Logger",()=>c),e(t.exports,"setLogLevel",()=>d),e(t.exports,"setUserLogHandler",()=>h);let a=[];(i=r||(r={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";let s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},o=r.INFO,l={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},u=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=l[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=u,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}function d(e){a.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(let n of a){let i=null;t&&t.level&&(i=s[t.level]),null===e?n.userLogHandler=null:n.userLogHandler=(t,n,...a)=>{let s=a.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");n>=(null!=i?i:t.logLevel)&&e({level:r[n].toLowerCase(),message:s,args:a,type:t.name})}}}}),E("iItpQ",function(t,n){e(t.exports,"openDB",()=>i);var r=k("jMRra");function i(e,t,{blocked:n,upgrade:a,blocking:s,terminated:o}={}){let l=indexedDB.open(e,t),u=(0,r.w)(l);return a&&l.addEventListener("upgradeneeded",e=>{a((0,r.w)(l.result),e.oldVersion,e.newVersion,(0,r.w)(l.transaction),e)}),n&&l.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),u.then(e=>{o&&e.addEventListener("close",()=>o()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),u}let a=["get","getKey","getAll","getAllKeys","count"],s=["put","add","delete","clear"],o=new Map;function l(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(o.get(t))return o.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=s.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||a.includes(n)))return;let l=async function(e,...t){let a=this.transaction(e,i?"readwrite":"readonly"),s=a.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&a.done]))[0]};return o.set(t,l),l}(0,r.r)(e=>({...e,get:(t,n,r)=>l(t,n)||e.get(t,n,r),has:(t,n)=>!!l(t,n)||e.has(t,n)}))}),E("jMRra",function(t,n){let r,i;e(t.exports,"w",()=>h),e(t.exports,"r",()=>d);let a=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakMap,c={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||o.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return h(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){c=e(c)}function h(e){if(e instanceof IDBRequest){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(h(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&a.set(t,e)}).catch(()=>{}),u.set(t,e),t}if(l.has(e))return l.get(e);let t=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(f(this),t),h(a.get(this))}:function(...t){return h(e.apply(f(this),t))}:function(t,...n){let r=e.call(f(this),t,...n);return o.set(r,t.sort?t.sort():[t]),h(r)};return e instanceof IDBTransaction&&function(e){if(s.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});s.set(e,t)}(e),(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(e,c):e}(e);return t!==e&&(l.set(e,t),u.set(t,e)),t}let f=e=>u.get(e)}),E("cozvr",function(t,n){e(t.exports,"Integer",()=>r),e(t.exports,"Md5",()=>i);var r,i,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==b?b:"undefined"!=typeof self?self:{},s={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}var t=function(){this.blockSize=-1};function n(){}function a(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+0xd76aa478|0;s=a+(i^(t=n+(s<<7|s>>>25))&(n^i))+r[1]+0xe8c7b756|0,s=i+(n^(a=t+(s<<12|s>>>20))&(t^n))+r[2]+0x242070db|0,s=n+(t^(i=a+(s<<17|s>>>15))&(a^t))+r[3]+0xc1bdceee|0,s=t+(a^(n=i+(s<<22|s>>>10))&(i^a))+r[4]+0xf57c0faf|0,s=a+(i^(t=n+(s<<7|s>>>25))&(n^i))+r[5]+0x4787c62a|0,s=i+(n^(a=t+(s<<12|s>>>20))&(t^n))+r[6]+0xa8304613|0,s=n+(t^(i=a+(s<<17|s>>>15))&(a^t))+r[7]+0xfd469501|0,s=t+(a^(n=i+(s<<22|s>>>10))&(i^a))+r[8]+0x698098d8|0,s=a+(i^(t=n+(s<<7|s>>>25))&(n^i))+r[9]+0x8b44f7af|0,s=i+(n^(a=t+(s<<12|s>>>20))&(t^n))+r[10]+0xffff5bb1|0,s=n+(t^(i=a+(s<<17|s>>>15))&(a^t))+r[11]+0x895cd7be|0,s=t+(a^(n=i+(s<<22|s>>>10))&(i^a))+r[12]+0x6b901122|0,s=a+(i^(t=n+(s<<7|s>>>25))&(n^i))+r[13]+0xfd987193|0,s=i+(n^(a=t+(s<<12|s>>>20))&(t^n))+r[14]+0xa679438e|0,s=n+(t^(i=a+(s<<17|s>>>15))&(a^t))+r[15]+0x49b40821|0,n=i+(s<<22|s>>>10),s=t+(i^a&(n^i))+r[1]+0xf61e2562|0,t=n+(s<<5|s>>>27),s=a+(n^i&(t^n))+r[6]+0xc040b340|0,a=t+(s<<9|s>>>23),s=i+(t^n&(a^t))+r[11]+0x265e5a51|0,i=a+(s<<14|s>>>18),s=n+(a^t&(i^a))+r[0]+0xe9b6c7aa|0,n=i+(s<<20|s>>>12),s=t+(i^a&(n^i))+r[5]+0xd62f105d|0,t=n+(s<<5|s>>>27),s=a+(n^i&(t^n))+r[10]+0x2441453|0,a=t+(s<<9|s>>>23),s=i+(t^n&(a^t))+r[15]+0xd8a1e681|0,i=a+(s<<14|s>>>18),s=n+(a^t&(i^a))+r[4]+0xe7d3fbc8|0,n=i+(s<<20|s>>>12),s=t+(i^a&(n^i))+r[9]+0x21e1cde6|0,t=n+(s<<5|s>>>27),s=a+(n^i&(t^n))+r[14]+0xc33707d6|0,a=t+(s<<9|s>>>23),s=i+(t^n&(a^t))+r[3]+0xf4d50d87|0,i=a+(s<<14|s>>>18),s=n+(a^t&(i^a))+r[8]+0x455a14ed|0,n=i+(s<<20|s>>>12),s=t+(i^a&(n^i))+r[13]+0xa9e3e905|0,t=n+(s<<5|s>>>27),s=a+(n^i&(t^n))+r[2]+0xfcefa3f8|0,a=t+(s<<9|s>>>23),s=i+(t^n&(a^t))+r[7]+0x676f02d9|0,i=a+(s<<14|s>>>18),s=n+(a^t&(i^a))+r[12]+0x8d2a4c8a|0,s=t+((n=i+(s<<20|s>>>12))^i^a)+r[5]+0xfffa3942|0,s=a+((t=n+(s<<4|s>>>28))^n^i)+r[8]+0x8771f681|0,s=i+((a=t+(s<<11|s>>>21))^t^n)+r[11]+0x6d9d6122|0,s=n+((i=a+(s<<16|s>>>16))^a^t)+r[14]+0xfde5380c|0,s=t+((n=i+(s<<23|s>>>9))^i^a)+r[1]+0xa4beea44|0,s=a+((t=n+(s<<4|s>>>28))^n^i)+r[4]+0x4bdecfa9|0,s=i+((a=t+(s<<11|s>>>21))^t^n)+r[7]+0xf6bb4b60|0,s=n+((i=a+(s<<16|s>>>16))^a^t)+r[10]+0xbebfbc70|0,s=t+((n=i+(s<<23|s>>>9))^i^a)+r[13]+0x289b7ec6|0,s=a+((t=n+(s<<4|s>>>28))^n^i)+r[0]+0xeaa127fa|0,s=i+((a=t+(s<<11|s>>>21))^t^n)+r[3]+0xd4ef3085|0,s=n+((i=a+(s<<16|s>>>16))^a^t)+r[6]+0x4881d05|0,s=t+((n=i+(s<<23|s>>>9))^i^a)+r[9]+0xd9d4d039|0,s=a+((t=n+(s<<4|s>>>28))^n^i)+r[12]+0xe6db99e5|0,s=i+((a=t+(s<<11|s>>>21))^t^n)+r[15]+0x1fa27cf8|0,s=n+((i=a+(s<<16|s>>>16))^a^t)+r[2]+0xc4ac5665|0,n=i+(s<<23|s>>>9),s=t+(i^(n|~a))+r[0]+0xf4292244|0,t=n+(s<<6|s>>>26),s=a+(n^(t|~i))+r[7]+0x432aff97|0,a=t+(s<<10|s>>>22),s=i+(t^(a|~n))+r[14]+0xab9423a7|0,i=a+(s<<15|s>>>17),s=n+(a^(i|~t))+r[5]+0xfc93a039|0,n=i+(s<<21|s>>>11),s=t+(i^(n|~a))+r[12]+0x655b59c3|0,t=n+(s<<6|s>>>26),s=a+(n^(t|~i))+r[3]+0x8f0ccc92|0,a=t+(s<<10|s>>>22),s=i+(t^(a|~n))+r[10]+0xffeff47d|0,i=a+(s<<15|s>>>17),s=n+(a^(i|~t))+r[1]+0x85845dd1|0,n=i+(s<<21|s>>>11),s=t+(i^(n|~a))+r[8]+0x6fa87e4f|0,t=n+(s<<6|s>>>26),s=a+(n^(t|~i))+r[15]+0xfe2ce6e0|0,a=t+(s<<10|s>>>22),s=i+(t^(a|~n))+r[6]+0xa3014314|0,i=a+(s<<15|s>>>17),s=n+(a^(i|~t))+r[13]+0x4e0811a1|0,n=i+(s<<21|s>>>11),s=t+(i^(n|~a))+r[4]+0xf7537e82|0,t=n+(s<<6|s>>>26),s=a+(n^(t|~i))+r[11]+0xbd3af235|0,a=t+(s<<10|s>>>22),s=i+(t^(a|~n))+r[2]+0x2ad7d2bb|0,i=a+(s<<15|s>>>17),s=n+(a^(i|~t))+r[9]+0xeb86d391|0,e.g[0]=e.g[0]+t|0,e.g[1]=e.g[1]+(i+(s<<21|s>>>11))|0,e.g[2]=e.g[2]+i|0,e.g[3]=e.g[3]+a|0}function o(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)},e.prototype.s=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},e.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)a(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){a(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){a(this,r),i=0;break}}this.h=i,this.o+=t},e.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var l,u={};function c(e){var t;return -128<=e&&128>e?(t=function(e){return new o([0|e],0>e?-1:0)},Object.prototype.hasOwnProperty.call(u,e)?u[e]:u[e]=t(e)):new o([0|e],0>e?-1:0)}function d(e){if(isNaN(e)||!isFinite(e))return h;if(0>e)return y(d(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=0x100000000;return new o(t,0)}var h=c(0),f=c(1),p=c(0x1000000);function m(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function g(e){return -1==e.h}function y(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}function v(e,t){return e.add(y(t))}function b(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function w(e,t){this.g=e,this.h=t}function x(e,t){if(m(t))throw Error("division by zero");if(m(e))return new w(h,h);if(g(e))return t=x(y(e),t),new w(y(t.g),y(t.h));if(g(t))return t=x(e,y(t)),new w(y(t.g),t.h);if(30<e.g.length){if(g(e)||g(t))throw Error("slowDivide_ only works with positive integers.");for(var n=f,r=t;0>=r.l(e);)n=k(n),r=k(r);var i=E(n,1),a=E(r,1);for(r=E(r,2),n=E(n,2);!m(r);){var s=a.add(r);0>=s.l(e)&&(i=i.add(n),a=s),r=E(r,1),n=E(n,1)}return t=v(e,i.j(t)),new w(i,t)}for(i=h;0<=e.l(t);){for(r=48>=(r=Math.ceil(Math.log(n=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))?1:Math.pow(2,r-48),s=(a=d(n)).j(t);g(s)||0<s.l(e);)n-=r,s=(a=d(n)).j(t);m(a)&&(a=f),i=i.add(a),e=v(e,s)}return new w(i,e)}function k(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function E(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}(l=o.prototype).m=function(){if(g(this))return-y(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:0x100000000+r)*t,t*=0x100000000}return e},l.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(m(this))return"0";if(g(this))return"-"+y(this).toString(e);for(var t=d(Math.pow(e,6)),n=this,r="";;){var i=x(n,t).g,a=((0<(n=v(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(m(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},l.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},l.l=function(e){return g(e=v(this,e))?-1:+!m(e)},l.abs=function(){return g(this)?y(this):this},l.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.i(i))+(65535&e.i(i)),s=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new o(n,-0x80000000&n[n.length-1]?-1:0)},l.j=function(e){if(m(this)||m(e))return h;if(g(this))return g(e)?y(this).j(y(e)):y(y(this).j(e));if(g(e))return y(this.j(y(e)));if(0>this.l(p)&&0>e.l(p))return d(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.i(r)>>>16,s=65535&this.i(r),l=e.i(i)>>>16,u=65535&e.i(i);n[2*r+2*i]+=s*u,b(n,2*r+2*i),n[2*r+2*i+1]+=a*u,b(n,2*r+2*i+1),n[2*r+2*i+1]+=s*l,b(n,2*r+2*i+1),n[2*r+2*i+2]+=a*l,b(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new o(n,0)},l.A=function(e){return x(this,e).h},l.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},l.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},l.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,i=s.Md5=e,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return y(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=d(Math.pow(n,8)),i=h,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),o=parseInt(t.substring(a,a+s),n);8>s?(s=d(Math.pow(n,s)),i=i.j(s).add(d(o))):i=(i=i.j(r)).add(d(o))}return i},r=s.Integer=o}).apply(void 0!==a?a:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),E("4rHck",function(t,n){e(t.exports,"XhrIo",()=>r),e(t.exports,"WebChannel",()=>i),e(t.exports,"EventType",()=>a),e(t.exports,"ErrorCode",()=>s),e(t.exports,"Stat",()=>o),e(t.exports,"Event",()=>l),e(t.exports,"getStatEventTarget",()=>u),e(t.exports,"createWebChannelTransport",()=>c);var r,i,a,s,o,l,u,c,d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==b?b:"undefined"!=typeof self?self:{},h={};(function(){var e,t,n,f="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},p=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof d&&d];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,t){if(t)e:{var n=p;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&f(n,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.values",function(e){return e||function(){var e,t,n,r,i;return e=this,t=function(e,t){return t},e instanceof String&&(e+=""),n=0,r=!1,(i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}})[Symbol.iterator]=function(){return i},i}});var m=m||{},g=this||self;function y(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function b(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function x(e,t,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function k(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function E(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function _(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(y(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function T(e){return/^[\s\xa0]*$/.test(e)}function N(){var e=g.navigator;return e&&(e=e.userAgent)?e:""}function C(e){return C[" "](e),e}C[" "]=function(){};var I=-1!=N().indexOf("Gecko")&&(-1==N().toLowerCase().indexOf("webkit")||-1!=N().indexOf("Edge"))&&-1==N().indexOf("Trident")&&-1==N().indexOf("MSIE")&&-1==N().indexOf("Edge");function A(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function D(e){let t={};for(let n in e)t[n]=e[n];return t}let P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<P.length;t++)n=P[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}var j=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new O,e=>e.reset());class O{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let L,M=!1,U=new class{constructor(){this.h=this.g=null}add(e,t){let n=j.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},F=()=>{let e=g.Promise.resolve(void 0);L=()=>{e.then(V)}};var V=()=>{let e;for(var t;e=null,U.g&&(e=U.g,U.g=U.g.next,U.g||(U.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){g.setTimeout(()=>{throw e},0)}(e)}j.j(t),100>j.h&&(j.h++,t.next=j.g,j.g=t)}M=!1};function z(){this.s=this.s,this.C=this.C}function B(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},B.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};g.addEventListener("test",e,t),g.removeEventListener("test",e,t)}catch(e){}return e}();function q(e,t){if(B.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(I){e:{try{C(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:$[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&q.aa.h.call(this)}}E(q,B);var $={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),G=0;function K(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++G,this.da=this.fa=!1}function Q(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function X(e){this.src=e,this.g={},this.h=0}function Y(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Q(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function J(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&!!n==a.capture&&a.ha==r)return i}return -1}X.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=J(e,t,r,i);return -1<s?(t=e[s],n||(t.fa=!1)):((t=new K(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Z="closure_lm_"+(1e6*Math.random()|0),ee={};function et(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i,o=ea(e);if(o||(e[Z]=o=new X(e)),(n=o.add(t,n,r,s,a)).proxy)return n;if(r=function e(t){return ei.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)H||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(er(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function en(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[W])Y(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(er(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ea(t))?(Y(n,e),0==n.h&&(n.src=null,t[Z]=null)):Q(e)}}}function er(e){return e in ee?ee[e]:ee[e]="on"+e}function ei(e,t){if(e.da)e=!0;else{t=new q(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&en(e),e=n.call(r,t)}return e}function ea(e){return(e=e[Z])instanceof X?e:null}var es="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(e){return"function"==typeof e?e:(e[es]||(e[es]=function(t){return e.handleEvent(t)}),e[es])}function el(){z.call(this),this.i=new X(this),this.M=this,this.F=null}function eu(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new B(t,e);else if(t instanceof B)t.target=t.target||e;else{var i=t;R(t=new B(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=ec(s,r,!0,t)&&i}if(i=ec(s=t.g=e,r,!0,t)&&i,i=ec(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ec(s=t.g=n[a],r,!1,t)&&i}function ec(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&Y(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function ed(e,t,n){if("function"==typeof e)n&&(e=x(e,n));else if(e&&"function"==typeof e.handleEvent)e=x(e.handleEvent,e);else throw Error("Invalid listener argument");return 0x7fffffff<Number(t)?-1:g.setTimeout(e,t||0)}E(el,z),el.prototype[W]=!0,el.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,a);else(i=v(i)?!!i.capture:!!i,r=eo(r),t&&t[W])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=J(s=t.g[n],r,i,a))&&(Q(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.g[n],t.h--))):t&&(t=ea(t))&&(n=t.g[n.toString()],t=-1,n&&(t=J(n,r,i,a)),(r=-1<t?n[t]:null)&&en(r))}(this,e,t,n,r)},el.prototype.N=function(){if(el.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Q(n[r]);delete t.g[e],t.h--}}this.F=null},el.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},el.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class eh extends z{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=ed(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ef(e){z.call(this),this.h=e,this.g={}}E(ef,z);var ep=[];function em(e){A(e.g,function(e,t){this.g.hasOwnProperty(t)&&en(e)},e),e.g={}}ef.prototype.N=function(){ef.aa.N.call(this),em(this)},ef.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eg=g.JSON.stringify,ey=g.JSON.parse,ev=class{stringify(e){return g.JSON.stringify(e,void 0)}parse(e){return g.JSON.parse(e,void 0)}};function eb(){}function ew(e){return e.h||(e.h=e.i())}function ex(){}eb.prototype.h=null;var ek={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function eE(){B.call(this,"d")}function e_(){B.call(this,"c")}E(eE,B),E(e_,B);var eS={},eT=null;function eN(){return eT=eT||new el}function eC(e){B.call(this,eS.La,e)}function eI(e){let t=eN();eu(t,new eC(t))}function eA(e,t){B.call(this,eS.STAT_EVENT,e),this.stat=t}function eD(e){let t=eN();eu(t,new eA(t,e))}function eP(e,t){B.call(this,eS.Ma,e),this.size=t}function eR(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){e()},t)}function ej(){this.g=!0}function eO(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}}return eg(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}eS.La="serverreachability",E(eC,B),eS.STAT_EVENT="statevent",E(eA,B),eS.Ma="timingevent",E(eP,B),ej.prototype.xa=function(){this.g=!1},ej.prototype.info=function(){};var eL={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eM={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eU(){}function eF(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ef(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eV}function eV(){this.i=null,this.g="",this.h=!1}E(eU,eb),eU.prototype.g=function(){return new XMLHttpRequest},eU.prototype.i=function(){return{}},t=new eU;var ez={},eB={};function eH(e,t,n){e.L=1,e.v=ti(e9(t)),e.m=n,e.P=!0,eq(e,null)}function eq(e,t){e.F=Date.now(),eW(e),e.A=e9(e.v);var n,r,i,a,s,o,l=e.A,u=e.R;Array.isArray(u)||(u=[String(u)]),ty(l.i,"t",u),e.C=0,l=e.j.J,e.h=new eV,e.g=t5(e.j,l?t:null,!e.m),0<e.O&&(e.M=new eh(x(e.Y,e,e.g),e.O)),t=e.U,l=e.g,u=e.ca;var c="readystatechange";Array.isArray(c)||(c&&(ep[0]=c.toString()),c=ep);for(var d=0;d<c.length;d++){var h=function e(t,n,r,i,a){if(i&&i.once)return function e(t,n,r,i,a){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,a);return null}return r=eo(r),t&&t[W]?t.L(n,r,v(i)?!!i.capture:!!i,a):et(t,n,r,!0,i,a)}(t,n,r,i,a);if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,a);return null}return r=eo(r),t&&t[W]?t.K(n,r,v(i)?!!i.capture:!!i,a):et(t,n,r,!1,i,a)}(l,c[d],u||t.handleEvent,!1,t.h||t);if(!h)break;t.g[h.key]=h}t=e.H?D(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),eI(),n=e.i,r=e.u,i=e.A,a=e.l,s=e.R,o=e.m,n.info(function(){if(n.g)if(o)for(var e="",t=o.split("&"),l=0;l<t.length;l++){var u=t[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");e=2<=d.length&&"type"==d[1]?e+(c+"=")+u+"&":e+(c+"=redacted&")}}else e=null;else e=o;return"XMLHTTP REQ ("+a+") [attempt "+s+"]: "+r+"\n"+i+"\n"+e})}function e$(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function eW(e){e.S=Date.now()+e.I,eG(e,e.I)}function eG(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eR(x(e.ba,e),t)}function eK(e){e.B&&(g.clearTimeout(e.B),e.B=null)}function eQ(e){0==e.j.G||e.J||tJ(e.j,e)}function eX(e){eK(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,em(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function eY(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||e2(n.h,e))){if(!e.K&&e2(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)tY(n),tz(n);else break e;tK(n),eD(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=eR(x(n.Za,n),6e3));if(1>=e1(n.h)&&n.ca){try{n.ca()}catch(e){}n.ca=void 0}}else t0(n,11)}else if((e.K||n.g==e)&&tY(n),!T(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let o=i[t];if(n.T=o[0],o=o[1],2==n.G)if("c"==o[0]){n.K=o[1],n.ia=o[2];let t=o[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));let i=o[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));let l=o[5];null!=l&&"number"==typeof l&&0<l&&(n.L=r=1.5*l,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(e5(a,a.h),a.h=null))}if(r.D){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,tr(r.I,r.D,e))}}if(n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms")),(r=n).qa=t2(r,r.J?r.ia:null,r.W),e.K){e3(r.h,e);var s=r.L;s&&(e.I=s),e.B&&(eK(e),eW(e)),r.g=e}else tG(r);0<n.i.length&&tH(n)}else"stop"!=o[0]&&"close"!=o[0]||t0(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?t0(n,7):tV(n):"noop"!=o[0]&&n.l&&n.l.ta(o),n.v=0)}}eI(4)}catch(e){}}eF.prototype.ca=function(e){e=e.target;let t=this.M;t&&3==tL(e)?t.j():this.Y(e)},eF.prototype.Y=function(e){try{if(e==this.g)e:{let v=tL(this.g);var t=this.g.Ba();let b=this.g.Z();if(!(3>v)&&(3!=v||this.g&&(this.h.h||this.g.oa()||tM(this.g)))){this.J||4!=v||7==t||(8==t||0>=b?eI(3):eI(2)),eK(this);var n=this.g.Z();this.X=n;t:if(e$(this)){var r=tM(this.g);e="";var i=r.length,a=4==tL(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eX(this),eQ(this);var s="";break t}this.h.i=new g.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,o=this.i,l=this.u,u=this.A,c=this.l,d=this.R,h=n,o.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+d+"]: "+l+"\n"+u+"\n"+v+" "+h}),this.o){if(this.T&&!this.K){t:{if(this.g){var o,l,u,c,d,h,f,p=this.g;if((f=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(f)){var m=f;break t}}m=null}if(n=m)eO(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eY(this,n);else{this.o=!1,this.s=3,eD(12),eX(this),eQ(this);break e}}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;)if((e=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?eB:isNaN(n=Number(t.substring(n,r)))?ez:(r+=1)+n>t.length?eB:(t=t.slice(r,r+n),e.C=r+n,t)}(this,s))==eB){4==v&&(this.s=4,eD(14),n=!1),eO(this.i,this.l,null,"[Incomplete Response]");break}else if(e==ez){this.s=4,eD(15),eO(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}else eO(this.i,this.l,e,null),eY(this,e);if(e$(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=v||0!=s.length||this.h.h||(this.s=1,eD(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var y=this.j;y.g==this&&y.ba&&!y.M&&(y.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),tQ(y),y.M=!0,eD(11))}}else eO(this.i,this.l,s,"[Invalid Chunked Response]"),eX(this),eQ(this)}else eO(this.i,this.l,s,null),eY(this,s);4==v&&eX(this),this.o&&!this.J&&(4==v?tJ(this.j,this):(this.o=!1,eW(this)))}else(function(e){let t={};e=(e.g&&2<=tL(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(T(e[r]))continue;var n=function(e){var t=1;e=e.split(":");let n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}(e[r]);let i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}var r=function(e){return e.join(", ")};for(let e in t)r.call(void 0,t[e],e,t)})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,eD(12)):(this.s=0,eD(13)),eX(this),eQ(this)}}}catch(e){}finally{}},eF.prototype.cancel=function(){this.J=!0,eX(this)},eF.prototype.ba=function(){var e,t;this.B=null;let n=Date.now();0<=n-this.S?(e=this.i,t=this.A,e.info(function(){return"TIMEOUT: "+t}),2!=this.L&&(eI(),eD(17)),eX(this),this.s=2,eQ(this)):eG(this,this.S-n)};var eJ=class{constructor(e,t){this.g=e,this.map=t}};function eZ(e){this.l=e||10,e=g.PerformanceNavigationTiming?0<(e=g.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function e0(e){return!!e.h||!!e.g&&e.g.size>=e.j}function e1(e){return e.h?1:e.g?e.g.size:0}function e2(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function e5(e,t){e.g?e.g.add(t):e.h=t}function e3(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function e4(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.D);return t}return _(e.i)}function e6(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(y(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(y(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(y(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}eZ.prototype.cancel=function(){if(this.i=e4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var e8=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e7(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof e7){this.h=e.h,te(this,e.j),this.o=e.o,this.g=e.g,tt(this,e.s),this.l=e.l;var t=e.i,n=new tf;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),tn(this,n),this.m=e.m}else e&&(t=String(e).match(e8))?(this.h=!1,te(this,t[1]||"",!0),this.o=ta(t[2]||""),this.g=ta(t[3]||"",!0),tt(this,t[4]),this.l=ta(t[5]||"",!0),tn(this,t[6]||"",!0),this.m=ta(t[7]||"")):(this.h=!1,this.i=new tf(null,this.h))}function e9(e){return new e7(e)}function te(e,t,n){e.j=n?ta(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tt(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function tn(e,t,n){var r,i;t instanceof tf?(e.i=t,r=e.i,(i=e.h)&&!r.j&&(tp(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tm(this,t),ty(this,n,e))},r)),r.j=i):(n||(t=ts(t,td)),e.i=new tf(t,e.h))}function tr(e,t,n){e.i.set(t,n)}function ti(e){return tr(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function ta(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ts(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,to),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function to(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}e7.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ts(t,tl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ts(t,tl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ts(n,"/"==n.charAt(0)?tc:tu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ts(n,th)),e.join("")};var tl=/[#\/\?@]/g,tu=/[#\?:]/g,tc=/[#\?]/g,td=/[#\?@]/g,th=/#/g;function tf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tm(e,t){tp(e),t=tv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tg(e,t){return tp(e),t=tv(e,t),e.g.has(t)}function ty(e,t,n){tm(e,t),0<n.length&&(e.i=null,e.g.set(tv(e,t),_(n)),e.h+=n.length)}function tv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tb(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function tw(){this.g=new ev}function tx(e){this.l=e.Ub||null,this.j=e.eb||!1}function tk(e,t){el.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function tE(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function t_(e){e.readyState=4,e.l=null,e.j=null,e.v=null,tS(e)}function tS(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tT(e){let t="";return A(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function tN(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tT(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):tr(e,t,n))}function tC(e){el.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=tf.prototype).add=function(e,t){tp(this),this.i=null,e=tv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},n.forEach=function(e,t){tp(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},n.na=function(){tp(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},n.V=function(e){tp(this);let t=[];if("string"==typeof e)tg(this,e)&&(t=t.concat(this.g.get(tv(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},n.set=function(e,t){return tp(this),this.i=null,tg(this,e=tv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},n.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let a=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},E(tx,eb),tx.prototype.g=function(){return new tk(this.l,this.j)},tx.prototype.i=(e={},function(){return e}),E(tk,el),(n=tk.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,tS(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||g).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,t_(this)),this.readyState=0},n.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tS(this)),this.g&&(this.readyState=3,tS(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==g.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tE(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?t_(this):tS(this),3==this.readyState&&tE(this)}},n.Ra=function(e){this.g&&(this.response=this.responseText=e,t_(this))},n.Qa=function(e){this.g&&(this.response=e,t_(this))},n.ga=function(){this.g&&t_(this)},n.setRequestHeader=function(e,t){this.u.append(e,t)},n.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),E(tC,el);var tI=/^https?$/i,tA=["POST","PUT"];function tD(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,tP(e),tj(e)}function tP(e){e.A||(e.A=!0,eu(e,"complete"),eu(e,"error"))}function tR(e){if(e.h&&void 0!==m&&(!e.v[1]||4!=tL(e)||2!=e.Z())){if(e.u&&4==tL(e))ed(e.Ea,0,e);else if(eu(e,"readystatechange"),4==tL(e)){e.h=!1;try{let s=e.Z();switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break;default:r=!1}if(!(t=r)){if(n=0===s){var i=String(e.D).match(e8)[1]||null;!i&&g.self&&g.self.location&&(i=g.self.location.protocol.slice(0,-1)),n=!tI.test(i?i.toLowerCase():"")}t=n}if(t)eu(e,"complete"),eu(e,"success");else{e.m=6;try{var a=2<tL(e)?e.g.statusText:""}catch(e){a=""}e.l=a+" ["+e.Z()+"]",tP(e)}}finally{tj(e)}}}}function tj(e,t){if(e.g){tO(e);let n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||eu(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function tO(e){e.I&&(g.clearTimeout(e.I),e.I=null)}function tL(e){return e.g?e.g.readyState:0}function tM(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tU(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tF(e){this.Aa=0,this.i=[],this.j=new ej,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tU("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tU("baseRetryDelayMs",5e3,e),this.cb=tU("retryDelaySeedMs",1e4,e),this.Wa=tU("forwardChannelMaxRetries",2,e),this.wa=tU("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new eZ(e&&e.concurrentRequestLimit),this.Da=new tw,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tV(e){if(tB(e),3==e.G){var t=e.U++,n=e9(e.I);if(tr(n,"SID",e.K),tr(n,"RID",t),tr(n,"TYPE","terminate"),t$(e,n),(t=new eF(e,e.j,t)).L=2,t.v=ti(e9(n)),n=!1,g.navigator&&g.navigator.sendBeacon)try{n=g.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&g.Image&&((new Image).src=t.v,n=!0),n||(t.g=t5(t.j,null),t.g.ea(t.v)),t.F=Date.now(),eW(t)}t1(e)}function tz(e){e.g&&(tQ(e),e.g.cancel(),e.g=null)}function tB(e){tz(e),e.u&&(g.clearTimeout(e.u),e.u=null),tY(e),e.h.cancel(),e.s&&("number"==typeof e.s&&g.clearTimeout(e.s),e.s=null)}function tH(e){if(!e0(e.h)&&!e.s){e.s=!0;var t=e.Ga;L||F(),M||(L(),M=!0),U.add(t,e),e.B=0}}function tq(e,t){var n;n=t?t.l:e.U++;let r=e9(e.I);tr(r,"SID",e.K),tr(r,"RID",n),tr(r,"AID",e.T),t$(e,r),e.m&&e.o&&tN(r,e.m,e.o),n=new eF(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tW(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),e5(e.h,n),eH(n,r,t)}function t$(e,t){e.H&&A(e.H,function(e,n){tr(t,n,e)}),e.l&&e6({},function(e,n){tr(t,n,e)})}function tW(e,t,n){n=Math.min(e.i.length,n);var r=e.l?x(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g,o=i[s].map;if(0>(n-=t))t=Math.max(0,i[s].g-100),a=!1;else try{!function(e,t,n){let r=n||"";try{e6(e,function(e,n){let i=e;v(e)&&(i=eg(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(o,e,"req"+n+"_")}catch(e){r&&r(o)}}if(a){r=e.join("&");break e}}}return t.D=e=e.i.splice(0,n),r}function tG(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;L||F(),M||(L(),M=!0),U.add(t,e),e.v=0}}function tK(e){return!e.g&&!e.u&&!(3<=e.v)&&(e.Y++,e.u=eR(x(e.Fa,e),tZ(e,e.v)),e.v++,!0)}function tQ(e){null!=e.A&&(g.clearTimeout(e.A),e.A=null)}function tX(e){e.g=new eF(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=e9(e.qa);tr(t,"RID","rpc"),tr(t,"SID",e.K),tr(t,"AID",e.T),tr(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&tr(t,"TO",e.ja),tr(t,"TYPE","xmlhttp"),t$(e,t),e.m&&e.o&&tN(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ti(e9(t)),n.m=null,n.P=!0,eq(n,e)}function tY(e){null!=e.C&&(g.clearTimeout(e.C),e.C=null)}function tJ(e,t){var n,r=null;if(e.g==t){tY(e),tQ(e),e.g=null;var i=2}else{if(!e2(e.h,t))return;r=t.D,e3(e.h,t),i=1}if(0!=e.G){if(t.o)if(1==i){r=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;eu(i=eN(),new eP(i,r)),tH(e)}else tG(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==i&&(n=t,!(e1(e.h)>=e.h.j-!!e.s)&&(e.s?(e.i=n.D.concat(e.i),!0):1!=e.G&&2!=e.G&&!(e.B>=(e.Va?0:e.Wa))&&(e.s=eR(x(e.Ga,e,n),tZ(e,e.B)),e.B++,!0)))||2==i&&tK(e)))switch(r&&0<r.length&&((t=e.h).i=t.i.concat(r)),a){case 1:t0(e,5);break;case 4:t0(e,10);break;case 3:t0(e,6);break;default:t0(e,2)}}}function tZ(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function t0(e,t){if(e.j.info("Error code "+t),2==t){var n=x(e.fb,e),r=e.Xa;let t=!r;r=new e7(r||"//www.google.com/images/cleardot.gif"),g.location&&"http"==g.location.protocol||te(r,"https"),ti(r),t?function(e,t){let n=new ej;if(g.Image){let r=new Image;r.onload=k(tb,n,"TestLoadImage: loaded",!0,t,r),r.onerror=k(tb,n,"TestLoadImage: error",!1,t,r),r.onabort=k(tb,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=k(tb,n,"TestLoadImage: timeout",!1,t,r),g.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){let n=new ej,r=new AbortController,i=setTimeout(()=>{r.abort(),tb(n,"TestPingServer: timeout",!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?tb(n,"TestPingServer: ok",!0,t):tb(n,"TestPingServer: server error",!1,t)}).catch(()=>{clearTimeout(i),tb(n,"TestPingServer: error",!1,t)})}(r.toString(),n)}else eD(2);e.G=0,e.l&&e.l.sa(t),t1(e),tB(e)}function t1(e){if(e.G=0,e.ka=[],e.l){let t=e4(e.h);(0!=t.length||0!=e.i.length)&&(S(e.ka,t),S(e.ka,e.i),e.h.i.length=0,_(e.i),e.i.length=0),e.l.ra()}}function t2(e,t,n){var r=n instanceof e7?e9(n):new e7(n);if(""!=r.g)t&&(r.g=t+"."+r.g),tt(r,r.s);else{var i=g.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new e7(null);r&&te(a,r),t&&(a.g=t),i&&tt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&tr(r,n,t),tr(r,"VER",e.la),t$(e,r),r}function t5(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tC(e.Ca&&!e.pa?new tx({eb:n}):e.pa)).Ha(e.J),t}function t3(){}function t4(){}function t6(e,t){el.call(this),this.g=new tF(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!T(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new t9(this)}function t8(e){eE.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function t7(){e_.call(this),this.status=1}function t9(e){this.g=e}(n=tC.prototype).Ha=function(e){this.J=e},n.ea=function(e,n,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);n=n?n.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():t.g(),this.v=this.o?ew(this.o):ew(t),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(n,String(e),!0),this.B=!1}catch(e){tD(this,e);return}if(e=r||"",r=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)r.set(a,i[a]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())r.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i));for(let[t,s]of(i=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),a=g.FormData&&e instanceof g.FormData,!(0<=Array.prototype.indexOf.call(tA,n,void 0))||i||a||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r))this.g.setRequestHeader(t,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tO(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){tD(this,e)}},n.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,eu(this,"complete"),eu(this,"abort"),tj(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tj(this,!0)),tC.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tR(this):this.bb())},n.bb=function(){tR(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<tL(this)?this.g.status:-1}catch(e){return -1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},n.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ey(t)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=tF.prototype).la=8,n.G=1,n.connect=function(e,t,n,r){eD(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=t2(this,null,this.W),tH(this)},n.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let i=new eF(this,this.j,e),a=this.o;if(this.S&&(a?R(a=D(a),this.S):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.map&&"string"==typeof(r=r.map.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tW(this,i,t),tr(n=e9(this.I),"RID",e),tr(n,"CVER",22),this.D&&tr(n,"X-HTTP-Session-Id",this.D),t$(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(tT(a)))+"&"+t:this.m&&tN(n,this.m,a)),e5(this.h,i),this.Ua&&tr(n,"TYPE","init"),this.P?(tr(n,"$req",t),tr(n,"SID","null"),i.T=!0,eH(i,n,null)):eH(i,n,t),this.G=2}}else 3==this.G&&(e?tq(this,e):0==this.i.length||e0(this.h)||tq(this))},n.Fa=function(){if(this.u=null,tX(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=eR(x(this.ab,this),e)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,eD(10),tz(this),tX(this))},n.Za=function(){null!=this.C&&(this.C=null,tz(this),tK(this),eD(19))},n.fb=function(e){e?(this.j.info("Successfully pinged google.com"),eD(2)):(this.j.info("Failed to ping google.com"),eD(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=t3.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},t4.prototype.g=function(e,t){return new t6(e,t)},E(t6,el),t6.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},t6.prototype.close=function(){tV(this.g)},t6.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=eg(e),e=n);t.i.push(new eJ(t.Ya++,e)),3==t.G&&tH(t)},t6.prototype.N=function(){this.g.l=null,delete this.j,tV(this.g),delete this.g,t6.aa.N.call(this)},E(t8,eE),E(t7,e_),E(t9,t3),t9.prototype.ua=function(){eu(this.g,"a")},t9.prototype.ta=function(e){eu(this.g,new t8(e))},t9.prototype.sa=function(e){eu(this.g,new t7)},t9.prototype.ra=function(){eu(this.g,"b")},t4.prototype.createWebChannel=t4.prototype.g,t6.prototype.send=t6.prototype.o,t6.prototype.open=t6.prototype.m,t6.prototype.close=t6.prototype.close,c=h.createWebChannelTransport=function(){return new t4},u=h.getStatEventTarget=function(){return eN()},l=h.Event=eS,o=h.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eL.NO_ERROR=0,eL.TIMEOUT=8,eL.HTTP_ERROR=6,s=h.ErrorCode=eL,eM.COMPLETE="complete",a=h.EventType=eM,ex.EventType=ek,ek.OPEN="a",ek.CLOSE="b",ek.ERROR="c",ek.MESSAGE="d",el.prototype.listen=el.prototype.K,i=h.WebChannel=ex,h.FetchXmlHttpFactory=tx,tC.prototype.listenOnce=tC.prototype.L,tC.prototype.getLastError=tC.prototype.Ka,tC.prototype.getLastErrorCode=tC.prototype.Ba,tC.prototype.getStatus=tC.prototype.Z,tC.prototype.getResponseJson=tC.prototype.Oa,tC.prototype.getResponseText=tC.prototype.oa,tC.prototype.send=tC.prototype.ea,tC.prototype.setWithCredentials=tC.prototype.Ha,r=h.XhrIo=tC}).apply(void 0!==d?d:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),E("6ZWSX",function(t,n){e(t.exports,"Buffer",()=>r,e=>r=e),e(t.exports,"INSPECT_MAX_BYTES",()=>i,e=>i=e);var r,i,a=k("kuxul"),s=k("9NvM5");let o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function l(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return h(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e){var r=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!u.isEncoding(i))throw TypeError("Unknown encoding: "+i);let n=0|g(r,i),a=l(n),s=a.write(r,i);return s!==n&&(a=a.slice(0,s)),a}if(ArrayBuffer.isView(e)){var a=e;if(V(a,Uint8Array)){let e=new Uint8Array(a);return p(e.buffer,e.byteOffset,e.byteLength)}return f(a)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let s=e.valueOf&&e.valueOf();if(null!=s&&s!==e)return u.from(s,t,n);let o=function(e){if(u.isBuffer(e)){let t=0|m(e.length),n=l(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?l(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return d(e),l(e<0?0:0|m(e))}function f(e){let t=e.length<0?0:0|m(e.length),n=l(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){let r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),u.prototype),r}function m(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(i)return r?-1:M(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=z[e[r]];return i}(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":var i,s,o;return i=this,s=t,o=n,0===s&&o===i.length?a.fromByteArray(i):a.fromByteArray(i.slice(s,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let r=e.slice(t,n),i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}(this,t,n);default:if(r)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){var a;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(a=n*=1)!=a&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length)if(i)return -1;else n=e.length-1;else if(n<0)if(!i)return -1;else n=0;if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,n);else return Uint8Array.prototype.lastIndexOf.call(e,t,n);return w(e,[t],n,r,i)}throw TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){let a,s=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;s=2,o/=2,l/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(a=n;a<o;a++)if(u(e,a)===u(t,-1===r?0:a-r)){if(-1===r&&(r=a),a-r+1===l)return r*s}else -1!==r&&(a-=a-r),r=-1}else for(n+l>o&&(n=o-l),a=n;a>=0;a--){let n=!0;for(let r=0;r<l;r++)if(u(e,a+r)!==u(t,r)){n=!1;break}if(n)return a}return -1}function x(e,t,n){n=Math.min(e.length,n);let r=[],i=t;for(;i<n;){let t=e[i],a=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,o,l;switch(s){case 1:t<128&&(a=t);break;case 2:(192&(n=e[i+1]))==128&&(l=(31&t)<<6|63&n)>127&&(a=l);break;case 3:n=e[i+1],r=e[i+2],(192&n)==128&&(192&r)==128&&(l=(15&t)<<12|(63&n)<<6|63&r)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:n=e[i+1],r=e[i+2],o=e[i+3],(192&n)==128&&(192&r)==128&&(192&o)==128&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&o)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}var a=r;let s=a.length;if(s<=4096)return String.fromCharCode.apply(String,a);let o="",l=0;for(;l<s;)o+=String.fromCharCode.apply(String,a.slice(l,l+=4096));return o}function E(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function _(e,t,n,r,i,a){if(!u.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function S(e,t,n,r,i){R(t,r,i,e,n,7);let a=Number(t&BigInt(0xffffffff));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function T(e,t,n,r,i){R(t,r,i,e,n,7);let a=Number(t&BigInt(0xffffffff));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function N(e,t,n,r,i,a){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function C(e,t,n,r,i){return t*=1,n>>>=0,i||N(e,t,n,4,34028234663852886e22,-34028234663852886e22),s.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,i){return t*=1,n>>>=0,i||N(e,t,n,8,17976931348623157e292,-17976931348623157e292),s.write(e,t,n,r,52,8),n+8}r=u,i=50,u.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return(d(e),e<=0)?l(e):void 0!==t?"string"==typeof n?l(e).fill(t,n):l(e).fill(t):l(e)},u.allocUnsafe=function(e){return h(e)},u.allocUnsafeSlow=function(e){return h(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(V(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:+(r<n)},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){let t=e[n];if(V(t,Uint8Array))i+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else if(u.isBuffer(t))t.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?x(this,0,e):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="",t=i;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(V(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;let a=i-r,s=n-t,o=Math.min(a,s),l=this.slice(r,i),c=e.slice(t,n);for(let e=0;e<o;++e)if(l[e]!==c[e]){a=l[e],s=c[e];break}return a<s?-1:+(s<a)},u.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){var i,a,s,o,l,u,c,d;if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-t;if((void 0===n||n>h)&&(n=h),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let f=!1;for(;;)switch(r){case"hex":return function(e,t,n,r){let i;n=Number(n)||0;let a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;let s=t.length;for(r>s/2&&(r=s/2),i=0;i<r;++i){var o;let r=parseInt(t.substr(2*i,2),16);if((o=r)!=o)break;e[n+i]=r}return i}(this,e,t,n);case"utf8":case"utf-8":return i=t,a=n,F(M(e,this.length-i),this,i,a);case"ascii":case"latin1":case"binary":return s=t,o=n,F(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,s,o);case"base64":return l=t,u=n,F(U(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,d=n,F(function(e,t){let n,r,i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i.push(n%256),i.push(r);return i}(e,this.length-c),this,c,d);default:if(f)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),f=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=B(function(e){j(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&O(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*n;return BigInt(r)+(BigInt(i)<<BigInt(32))}),u.prototype.readBigUInt64BE=B(function(e){j(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&O(e,this.length-8);let r=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);let r=this[e],i=1,a=0;for(;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);let r=t,i=1,a=this[e+--r];for(;r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return(e>>>=0,t||E(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=B(function(e){j(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&O(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),u.prototype.readBigInt64BE=B(function(e){j(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&O(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n)}),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),s.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),s.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),s.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),s.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;_(this,e,t,n,r,0)}let i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;_(this,e,t,n,r,0)}let i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e*=1,t>>>=0,n||_(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e*=1,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e*=1,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e*=1,t>>>=0,n||_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e*=1,t>>>=0,n||_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=B(function(e,t=0){return S(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=B(function(e,t=0){return T(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(e,t,n,r){if(e*=1,t>>>=0,!r){let r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}let i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e*=1,t>>>=0,!r){let r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}let i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e*=1,t>>>=0,n||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e*=1,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e*=1,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e*=1,t>>>=0,n||_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e*=1,t>>>=0,n||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=B(function(e,t=0){return S(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=B(function(e,t=0){return T(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(e,t,n){return C(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return C(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);let i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){let i;if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{let a=u.isBuffer(e)?e:u.from(e,r),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};let A={};function D(e,t,n){A[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function P(e){let t="",n=e.length,r=+("-"===e[0]);for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function R(e,t,n,r,i,a){if(e>n||e<t){let r,i="bigint"==typeof t?"n":"";throw r=a>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(a+1)*8}${i}`:`>= -(2${i} ** ${(a+1)*8-1}${i}) and < 2 ** ${(a+1)*8-1}${i}`:`>= ${t}${i} and <= ${n}${i}`,new A.ERR_OUT_OF_RANGE("value",r,e)}j(i,"offset"),(void 0===r[i]||void 0===r[i+a])&&O(i,r.length-(a+1))}function j(e,t){if("number"!=typeof e)throw new A.ERR_INVALID_ARG_TYPE(t,"number",e)}function O(e,t,n){if(Math.floor(e)!==e)throw j(e,n),new A.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new A.ERR_BUFFER_OUT_OF_BOUNDS;throw new A.ERR_OUT_OF_RANGE(n||"offset",`>= ${+!!n} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),D("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),D("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>0x100000000?i=P(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=P(i)),i+="n"),r+=` It must be ${t}. Received ${i}`},RangeError);let L=/[^+/0-9A-Za-z-_]/g;function M(e,t){let n;t=t||1/0;let r=e.length,i=null,a=[];for(let s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319||s+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return a}function U(e){return a.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let z=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function B(e){return"undefined"==typeof BigInt?H:e}function H(){throw Error("BigInt not supported")}}),E("kuxul",function(t,n){e(t.exports,"toByteArray",()=>r,e=>r=e),e(t.exports,"fromByteArray",()=>i,e=>i=e);for(var r=function(e){var t,n,r=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}(e),i=r[0],a=r[1],l=new o((i+a)*3/4-a),u=0,c=a>0?i-4:i;for(n=0;n<c;n+=4)t=s[e.charCodeAt(n)]<<18|s[e.charCodeAt(n+1)]<<12|s[e.charCodeAt(n+2)]<<6|s[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===a&&(t=s[e.charCodeAt(n)]<<2|s[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===a&&(t=s[e.charCodeAt(n)]<<10|s[e.charCodeAt(n+1)]<<4|s[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},i=function(e){for(var t,n=e.length,r=n%3,i=[],s=0,o=n-r;s<o;s+=16383)i.push(function(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(a[r>>18&63]+a[r>>12&63]+a[r>>6&63]+a[63&r]);return i.join("")}(e,s,s+16383>o?o:s+16383));return 1===r?i.push(a[(t=e[n-1])>>2]+a[t<<4&63]+"=="):2===r&&i.push(a[(t=(e[n-2]<<8)+e[n-1])>>10]+a[t>>4&63]+a[t<<2&63]+"="),i.join("")},a=[],s=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=l.length;u<c;++u)a[u]=l[u],s[l.charCodeAt(u)]=u;s[45]=62,s[95]=63}),E("9NvM5",function(t,n){var r,i;e(t.exports,"read",()=>r,e=>r=e),e(t.exports,"write",()=>i,e=>i=e),r=function(e,t,n,r,i){var a,s,o=8*i-r-1,l=(1<<o)-1,u=l>>1,c=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,a=f&(1<<-c)-1,f>>=-c,c+=o;c>0;a=256*a+e[t+d],d+=h,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=r;c>0;s=256*s+e[t+d],d+=h,c-=8);if(0===a)a=1-u;else{if(a===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),a-=u}return(f?-1:1)*s*Math.pow(2,a-r)},i=function(e,t,n,r,i,a){var s,o,l,u=8*a-i-1,c=(1<<u)-1,d=c>>1,h=5960464477539062e-23*(23===i),f=r?0:a-1,p=r?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=c?(o=0,s=c):s+d>=1?(o=(t*l-1)*Math.pow(2,i),s+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&o,f+=p,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[n+f]=255&s,f+=p,s/=256,u-=8);e[n+f-p]|=128*m}}),E("e0EYX",function(t,n){e(t.exports,"auth",()=>u),e(t.exports,"db",()=>c),e(t.exports,"storage",()=>d),k("fhN3L");var r=k("7xvHX");k("6AR8M");var i=k("2EDex");k("ilpIi");var a=k("9HrqM");k("fCOdq");var s=k("jceyq");k("7FrCY");var o=k("17EBg");let l=(0,r.initializeApp)({apiKey:"AIzaSyC5T9aUFtlxx7gcB_r8bXNAU-s1wMAKiy4",authDomain:"kasascore.firebaseapp.com",projectId:"kasascore",storageBucket:"kasascore.firebasestorage.app",messagingSenderId:"222718949539",appId:"1:222718949539:web:edc155634e990cbb2d6716",measurementId:"G-YL3R4E4VGK"});(0,o.getAnalytics)(l);let u=(0,i.o)(l),c=(0,a.getFirestore)(l),d=(0,s.getStorage)(l)}),E("fhN3L",function(t,n){e(t.exports,"initializeApp",()=>k("7xvHX").initializeApp),e(t.exports,"registerVersion",()=>k("7xvHX").registerVersion),(0,k("7xvHX").registerVersion)("firebase","10.14.1","app")}),E("6AR8M",function(t,n){e(t.exports,"createUserWithEmailAndPassword",()=>k("2EDex").aa),e(t.exports,"getAuth",()=>k("2EDex").o),e(t.exports,"GoogleAuthProvider",()=>k("2EDex").X),e(t.exports,"onAuthStateChanged",()=>k("2EDex").y),e(t.exports,"signInWithEmailAndPassword",()=>k("2EDex").ab),e(t.exports,"signInWithPopup",()=>k("2EDex").c),e(t.exports,"signOut",()=>k("2EDex").C),e(t.exports,"updatePassword",()=>k("2EDex").am),k("adBXR")}),E("adBXR",function(t,n){e(t.exports,"GoogleAuthProvider",()=>k("2EDex").X),e(t.exports,"createUserWithEmailAndPassword",()=>k("2EDex").aa),e(t.exports,"getAuth",()=>k("2EDex").o),e(t.exports,"onAuthStateChanged",()=>k("2EDex").y),e(t.exports,"signInWithEmailAndPassword",()=>k("2EDex").ab),e(t.exports,"signInWithPopup",()=>k("2EDex").c),e(t.exports,"signOut",()=>k("2EDex").C),e(t.exports,"updatePassword",()=>k("2EDex").am),k("2EDex"),k("7xvHX"),k("gMVVg"),k("5Z2ef"),k("eryG9")}),E("2EDex",function(t,n){e(t.exports,"X",()=>eY),e(t.exports,"aa",()=>te),e(t.exports,"ab",()=>tt),e(t.exports,"am",()=>tn),e(t.exports,"y",()=>ti),e(t.exports,"C",()=>ta),e(t.exports,"c",()=>tO),e(t.exports,"o",()=>nr);var r,i=k("7xvHX"),a=k("gMVVg"),s=k("5Z2ef"),o=k("7WQrb"),l=k("eryG9");function u(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let c=new(0,a.ErrorFactory)("auth","Firebase",u()),d=new(0,s.Logger)("@firebase/auth");function h(e,...t){d.logLevel<=s.LogLevel.ERROR&&d.error(`Auth (${i.SDK_VERSION}): ${e}`,...t)}function f(e,...t){throw y(e,...t)}function p(e,...t){return y(e,...t)}function m(e,t,n){let r=Object.assign(Object.assign({},u()),{[t]:n});return new(0,a.ErrorFactory)("auth","Firebase",r).create(t,{appName:e.name})}function g(e){return m(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return c.create(e,...t)}function v(e,t,...n){if(!e)throw y(t,...n)}function b(e){let t="INTERNAL ASSERTION FAILED: "+e;throw h(t),Error(t)}function w(){var e;return"undefined"!=typeof self&&(null==(e=self.location)?void 0:e.href)||""}function x(){var e;return"undefined"!=typeof self&&(null==(e=self.location)?void 0:e.protocol)||null}class E{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||b(n),this.isMobile=(0,a.isMobileCordova)()||(0,a.isReactNative)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===x()||"https:"===x()||(0,a.isBrowserExtension)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||b(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class S{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let T={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},N=new E(3e4,6e4);function C(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function I(e,t,n,r,i={}){return A(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});let o=(0,a.querystring)(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);let u=Object.assign({method:t,headers:l},i);return(0,a.isCloudflareWorker)()||(u.referrerPolicy="no-referrer"),S.fetch()(P(e,e.config.apiHost,n,o),u)})}async function A(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},T),t);try{let t=new R(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if("needConfirmation"in a)throw j(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw j(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===t)throw j(e,"email-already-in-use",a);if("USER_DISABLED"===t)throw j(e,"user-disabled",a);let s=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw m(e,s,n);f(e,s)}}catch(t){if(t instanceof a.FirebaseError)throw t;f(e,"network-request-failed",{message:String(t)})}}async function D(e,t,n,r,i={}){let a=await I(e,t,n,r,i);return"mfaPendingCredential"in a&&f(e,"multi-factor-auth-required",{_serverResponse:a}),a}function P(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?_(e.config,i):`${e.config.apiScheme}://${i}`}class R{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"network-request-failed")),N.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function j(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=p(e,t,r);return i.customData._tokenResponse=n,i}function O(e){return void 0!==e&&void 0!==e.enterprise}class L{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)switch(t.enforcementState){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function M(e,t){return I(e,"GET","/v2/recaptchaConfig",C(e,t))}async function U(e,t){return I(e,"POST","/v1/accounts:delete",t)}async function F(e,t){return I(e,"POST","/v1/accounts:lookup",t)}function V(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function z(e,t=!1){let n=(0,a.getModularInstance)(e),r=await n.getIdToken(t),i=H(r);v(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:V(B(i.auth_time)),issuedAtTime:V(B(i.iat)),expirationTime:V(B(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function B(e){return 1e3*Number(e)}function H(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,a.base64Decode)(n);if(!e)return h("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return h("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function q(e){let t=H(e);return v(t,"internal-error"),v(void 0!==t.exp,"internal-error"),v(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function $(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof a.FirebaseError&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class W{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!=(t=this.user.stsTokenManager.expirationTime)?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class G{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=V(this.lastLoginAt),this.creationTime=V(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function K(e){var t,n,r;let i=e.auth,a=await e.getIdToken(),s=await $(e,F(i,{idToken:a}));v(null==s?void 0:s.users.length,i,"internal-error");let o=s.users[0];e._notifyReloadListener(o);let l=(null==(t=o.providerUserInfo)?void 0:t.length)?X(o.providerUserInfo):[],u=(n=e.providerData,r=l,[...n.filter(e=>!r.some(t=>t.providerId===e.providerId)),...r]),c=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null==u?void 0:u.length);Object.assign(e,{uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new G(o.createdAt,o.lastLoginAt),isAnonymous:!!c&&d})}async function Q(e){let t=(0,a.getModularInstance)(e);await K(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function X(e){return e.map(e=>{var{providerId:t}=e,n=(0,o.__rest)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function Y(e,t){let n=await A(e,{},async()=>{let n=(0,a.querystring)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=P(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",S.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function J(e,t){return I(e,"POST","/v2/accounts:revokeToken",C(e,t))}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(void 0!==e.idToken,"internal-error"),v(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):q(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){v(0!==e.length,"internal-error");let t=q(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(v(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await Y(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Z;return n&&(v("string"==typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(v("string"==typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(v("number"==typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return b("not implemented")}}function ee(e,t){v("string"==typeof e||void 0===e,"internal-error",{appName:t})}class et{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,o.__rest)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new G(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await $(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return z(this,e)}reload(){return Q(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new et(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await K(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,i._isFirebaseServerApp)(this.auth.app))return Promise.reject(g(this.auth));let e=await this.getIdToken();return await $(this,U(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,u;let c=null!=(n=t.displayName)?n:void 0,d=null!=(r=t.email)?r:void 0,h=null!=(i=t.phoneNumber)?i:void 0,f=null!=(a=t.photoURL)?a:void 0,p=null!=(s=t.tenantId)?s:void 0,m=null!=(o=t._redirectEventId)?o:void 0,g=null!=(l=t.createdAt)?l:void 0,y=null!=(u=t.lastLoginAt)?u:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:k,stsTokenManager:E}=t;v(b&&E,e,"internal-error");let _=Z.fromJSON(this.name,E);v("string"==typeof b,e,"internal-error"),ee(c,e.name),ee(d,e.name),v("boolean"==typeof w,e,"internal-error"),v("boolean"==typeof x,e,"internal-error"),ee(h,e.name),ee(f,e.name),ee(p,e.name),ee(m,e.name),ee(g,e.name),ee(y,e.name);let S=new et({uid:b,auth:e,email:d,emailVerified:w,displayName:c,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:y});return k&&Array.isArray(k)&&(S.providerData=k.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){let r=new Z;r.updateFromServerResponse(t);let i=new et({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await K(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];v(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?X(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length),s=new Z;s.updateFromIdToken(n);let o=new et({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a});return Object.assign(o,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new G(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length)}),o}}let en=new Map;function er(e){var t,n;t="Expected a class definition",e instanceof Function||b(t);let r=en.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||b(n)):(r=new e,en.set(e,r)),r}class ei{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function ea(e,t,n){return`firebase:${e}:${t}:${n}`}ei.type="NONE";class es{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=ea(this.userKey,r.apiKey,i),this.fullPersistenceKey=ea("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?et._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new es(er(ei),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||er(ei),a=ea(n,e.config.apiKey,e.name),s=null;for(let n of t)try{let t=await n._get(a);if(t){let r=et._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(e){}}))),new es(i,e,n)}}function eo(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(ed(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(el(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ef(t))return"Blackberry";if(ep(t))return"Webos";if(eu(t))return"Safari";if((t.includes("chrome/")||ec(t))&&!t.includes("edge/"))return"Chrome";if(eh(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function el(e=(0,a.getUA)()){return/firefox\//i.test(e)}function eu(e=(0,a.getUA)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ec(e=(0,a.getUA)()){return/crios\//i.test(e)}function ed(e=(0,a.getUA)()){return/iemobile/i.test(e)}function eh(e=(0,a.getUA)()){return/android/i.test(e)}function ef(e=(0,a.getUA)()){return/blackberry/i.test(e)}function ep(e=(0,a.getUA)()){return/webos/i.test(e)}function em(e=(0,a.getUA)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function eg(e=(0,a.getUA)()){return em(e)||eh(e)||ep(e)||ef(e)||/windows phone/i.test(e)||ed(e)}function ey(e,t=[]){let n;switch(e){case"Browser":n=eo((0,a.getUA)());break;case"Worker":n=`${eo((0,a.getUA)())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.SDK_VERSION}/${r}`}class ev{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}async function eb(e,t={}){return I(e,"GET","/v2/passwordPolicy",C(e,t))}class ew{constructor(e){var t,n,r,i;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!=(t=a.minPasswordLength)?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!=(r=null==(n=e.allowedNonAlphanumericCharacters)?void 0:n.join(""))?r:"",this.forceUpgradeOnSignin=null!=(i=e.forceUpgradeOnSignin)&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null==(t=o.meetsMinPasswordLength)||t),o.isValid&&(o.isValid=null==(n=o.meetsMaxPasswordLength)||n),o.isValid&&(o.isValid=null==(r=o.containsLowercaseLetter)||r),o.isValid&&(o.isValid=null==(i=o.containsUppercaseLetter)||i),o.isValid&&(o.isValid=null==(a=o.containsNumericCharacter)||a),o.isValid&&(o.isValid=null==(s=o.containsNonAlphanumericCharacter)||s),o}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ex{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new ev(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=er(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted){if(this.persistenceManager=await es.create(this,e),!this._deleted){if(null==(n=this._popupRedirectResolver)?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null==(r=this.currentUser)?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await F(this,{idToken:e}),n=await et._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,i._isFirebaseServerApp)(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null==(t=this.redirectUser)?void 0:t._redirectEventId,i=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);(!n||n===i)&&(null==s?void 0:s.user)&&(r=s.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await K(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,i._isFirebaseServerApp)(this.app))return Promise.reject(g(this));let t=e?(0,a.getModularInstance)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,i._isFirebaseServerApp)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,i._isFirebaseServerApp)(this.app)?Promise.reject(g(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new ew(await eb(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new(0,a.ErrorFactory)("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await J(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null==(e=this._currentUser)?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&er(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await es.create(this,[er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null==(t=this._currentUser)?void 0:t._redirectEventId)===e)?this._currentUser:(null==(n=this.redirectUser)?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!=(t=null==(e=this.currentUser)?void 0:e.uid)?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),a=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ey(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null==(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null==(e=this.appCheckServiceProvider.getImmediate({optional:!0}))?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){d.logLevel<=s.LogLevel.WARN&&d.warn(`Auth (${i.SDK_VERSION}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function ek(e){return(0,a.getModularInstance)(e)}class eE{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,a.createSubscribe)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let e_={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eS(e){return`__${e}${Math.floor(1e6*Math.random())}`}class eT{constructor(e){this.type="recaptcha-enterprise",this.auth=ek(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{M(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new L(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;O(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&O(window.grecaptcha))r(n,e,i);else{var a;if("undefined"==typeof window)return void i(Error("RecaptchaVerifier is only supported in browser"));let t=e_.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(a=t,e_.loadJS(a)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function eN(e,t,n,r=!1){let i,a=new eT(e);try{i=await a.verify(n)}catch(e){i=await a.verify(n,!0)}let s=Object.assign({},t);return r?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function eC(e,t,n,r){var i;if(null==(i=e._getRecaptchaConfig())||!i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await eN(e,t,n,"getOobCode"===n);return r(e,i)}});{let i=await eN(e,t,n,"getOobCode"===n);return r(e,i)}}function eI(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eA(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class eD{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}async function eP(e,t){return I(e,"POST","/v1/accounts:update",t)}async function eR(e,t){return I(e,"POST","/v1/accounts:signUp",t)}async function ej(e,t){return D(e,"POST","/v1/accounts:signInWithPassword",C(e,t))}async function eO(e,t){return D(e,"POST","/v1/accounts:signInWithEmailLink",C(e,t))}async function eL(e,t){return D(e,"POST","/v1/accounts:signInWithEmailLink",C(e,t))}class eM extends eD{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new eM(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new eM(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);else if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return eC(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ej);case"emailLink":return eO(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return eC(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eR);case"emailLink":return eL(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function eU(e,t){return D(e,"POST","/v1/accounts:signInWithIdp",C(e,t))}class eF extends eD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new eF(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,o.__rest)(t,["providerId","signInMethod"]);if(!n||!r)return null;let a=new eF(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return eU(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,eU(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,eU(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,a.querystring)(t)}return e}}async function eV(e,t){return I(e,"POST","/v1/accounts:sendVerificationCode",C(e,t))}async function ez(e,t){return D(e,"POST","/v1/accounts:signInWithPhoneNumber",C(e,t))}async function eB(e,t){let n=await D(e,"POST","/v1/accounts:signInWithPhoneNumber",C(e,t));if(n.temporaryProof)throw j(e,"account-exists-with-different-credential",n);return n}let eH={USER_NOT_FOUND:"user-not-found"};async function eq(e,t){return D(e,"POST","/v1/accounts:signInWithPhoneNumber",C(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),eH)}class e$ extends eD{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new e$({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new e$({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return ez(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return eB(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return eq(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new e$({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class eW{constructor(e){var t,n,r,i,s,o;let l=(0,a.querystringDecode)((0,a.extractQuerystring)(e)),u=null!=(t=l.apiKey)?t:null,c=null!=(n=l.oobCode)?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!=(r=l.mode)?r:null);v(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!=(i=l.continueUrl)?i:null,this.languageCode=null!=(s=l.languageCode)?s:null,this.tenantId=null!=(o=l.tenantId)?o:null}static parseLink(e){let t=function(e){let t=(0,a.querystringDecode)((0,a.extractQuerystring)(e)).link,n=t?(0,a.querystringDecode)((0,a.extractQuerystring)(t)).deep_link_id:null,r=(0,a.querystringDecode)((0,a.extractQuerystring)(e)).deep_link_id;return(r?(0,a.querystringDecode)((0,a.extractQuerystring)(r)).link:null)||r||n||t||e}(e);try{return new eW(t)}catch(e){return null}}}class eG{constructor(){this.providerId=eG.PROVIDER_ID}static credential(e,t){return eM._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=eW.parseLink(t);return v(n,"argument-error"),eM._fromEmailAndCode(e,n.code,n.tenantId)}}eG.PROVIDER_ID="password",eG.EMAIL_PASSWORD_SIGN_IN_METHOD="password",eG.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eK{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eQ extends eK{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class eX extends eQ{constructor(){super("facebook.com")}static credential(e){return eF._fromParams({providerId:eX.PROVIDER_ID,signInMethod:eX.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eX.credentialFromTaggedObject(e)}static credentialFromError(e){return eX.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eX.credential(e.oauthAccessToken)}catch(e){return null}}}eX.FACEBOOK_SIGN_IN_METHOD="facebook.com",eX.PROVIDER_ID="facebook.com";class eY extends eQ{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eF._fromParams({providerId:eY.PROVIDER_ID,signInMethod:eY.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return eY.credentialFromTaggedObject(e)}static credentialFromError(e){return eY.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return eY.credential(t,n)}catch(e){return null}}}eY.GOOGLE_SIGN_IN_METHOD="google.com",eY.PROVIDER_ID="google.com";class eJ extends eQ{constructor(){super("github.com")}static credential(e){return eF._fromParams({providerId:eJ.PROVIDER_ID,signInMethod:eJ.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eJ.credentialFromTaggedObject(e)}static credentialFromError(e){return eJ.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eJ.credential(e.oauthAccessToken)}catch(e){return null}}}eJ.GITHUB_SIGN_IN_METHOD="github.com",eJ.PROVIDER_ID="github.com";class eZ extends eQ{constructor(){super("twitter.com")}static credential(e,t){return eF._fromParams({providerId:eZ.PROVIDER_ID,signInMethod:eZ.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return eZ.credentialFromTaggedObject(e)}static credentialFromError(e){return eZ.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return eZ.credential(t,n)}catch(e){return null}}}async function e0(e,t){return D(e,"POST","/v1/accounts:signUp",C(e,t))}eZ.TWITTER_SIGN_IN_METHOD="twitter.com",eZ.PROVIDER_ID="twitter.com";class e1{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new e1({user:await et._fromIdTokenResponse(e,n,r),providerId:e2(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new e1({user:e,providerId:e2(n),_tokenResponse:n,operationType:t})}}function e2(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class e5 extends a.FirebaseError{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,e5.prototype),this.customData={appName:e.name,tenantId:null!=(i=e.tenantId)?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new e5(e,t,n,r)}}function e3(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw e5._fromErrorAndOperation(e,n,t,r);throw n})}async function e4(e,t,n=!1){let r=await $(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return e1._forOperation(e,"link",r)}async function e6(e,t,n=!1){let{auth:r}=e;if((0,i._isFirebaseServerApp)(r.app))return Promise.reject(g(r));let a="reauthenticate";try{let i=await $(e,e3(r,a,t,e),n);v(i.idToken,r,"internal-error");let s=H(i.idToken);v(s,r,"internal-error");let{sub:o}=s;return v(e.uid===o,r,"user-mismatch"),e1._forOperation(e,a,i)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&f(r,"user-mismatch"),e}}async function e8(e,t,n=!1){if((0,i._isFirebaseServerApp)(e.app))return Promise.reject(g(e));let r="signIn",a=await e3(e,r,t),s=await e1._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(s.user),s}async function e7(e,t){return e8(ek(e),t)}async function e9(e){let t=ek(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function te(e,t,n){if((0,i._isFirebaseServerApp)(e.app))return Promise.reject(g(e));let r=ek(e),a=eC(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e0),s=await a.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&e9(e),t}),o=await e1._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function tt(e,t,n){return(0,i._isFirebaseServerApp)(e.app)?Promise.reject(g(e)):e7((0,a.getModularInstance)(e),eG.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&e9(e),t})}function tn(e,t){return tr((0,a.getModularInstance)(e),null,t)}async function tr(e,t,n){let{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);let a=await $(e,eP(r,i));await e._updateTokensIfNecessary(a,!0)}function ti(e,t,n,r){return(0,a.getModularInstance)(e).onAuthStateChanged(t,n,r)}function ta(e){return(0,a.getModularInstance)(e).signOut()}new WeakMap;let ts="__sak";class to{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(ts,"1"),this.storage.removeItem(ts),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class tl extends to{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,a.isIE)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tl.type="LOCAL";class tu extends to{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tu.type="SESSION";class tc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new tc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let a=Array.from(i).map(async t=>t(e.origin,r)),s=await Promise.all(a.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function td(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}tc.receivers=[];class th{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i,a="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!a)throw Error("connection_unavailable");return new Promise((s,o)=>{let l=td("",20);a.port1.start();let u=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:a,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),s(e.data.response);break;default:clearTimeout(u),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),a.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[a.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function tf(){return window}function tp(){return void 0!==tf().WorkerGlobalScope&&"function"==typeof tf().importScripts}async function tm(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}let tg="firebaseLocalStorageDb",ty="firebaseLocalStorage",tv="fbase_key";class tb{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tw(e,t){return e.transaction([ty],t?"readwrite":"readonly").objectStore(ty)}function tx(){let e=indexedDB.open(tg,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(ty,{keyPath:tv})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(ty)?t(n):(n.close(),await new tb(indexedDB.deleteDatabase(tg)).toPromise(),t(await tx()))})})}async function tk(e,t,n){return new tb(tw(e,!0).put({[tv]:t,value:n})).toPromise()}async function tE(e,t){let n=tw(e,!1).get(t),r=await new tb(n).toPromise();return void 0===r?null:r.value}function t_(e,t){return new tb(tw(e,!0).delete(t)).toPromise()}class tS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await tx()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tc._getInstance(tp()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tm(),!this.activeServiceWorker)return;this.sender=new th(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null==(e=n[0])?void 0:e.fulfilled)&&(null==(t=n[0])?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null==(t=null==navigator?void 0:navigator.serviceWorker)?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await tx();return await tk(e,ts,"1"),await t_(e,ts),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tk(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>tE(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>t_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new tb(tw(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}async function tT(e,t,n){var r,i,a;let s=await n.verify();try{let o;if(v("string"==typeof s,e,"argument-error"),v("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){let t=o.session;if("phoneNumber"in o)return v("enroll"===t.type,e,"internal-error"),(await (i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}},I(e,"POST","/v2/accounts/mfaEnrollment:start",C(e,i)))).phoneSessionInfo.sessionInfo;{v("signin"===t.type,e,"internal-error");let n=(null==(r=o.multiFactorHint)?void 0:r.uid)||o.multiFactorUid;return v(n,e,"missing-multi-factor-info"),(await (a={mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}},I(e,"POST","/v2/accounts/mfaSignIn:start",C(e,a)))).phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await eV(e,{phoneNumber:o.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}tS.type="LOCAL",eS("rcb"),new E(3e4,6e4);class tN{constructor(e){this.providerId=tN.PROVIDER_ID,this.auth=ek(e)}verifyPhoneNumber(e,t){return tT(this.auth,e,(0,a.getModularInstance)(t))}static credential(e,t){return e$._fromVerification(e,t)}static credentialFromResult(e){return tN.credentialFromTaggedObject(e)}static credentialFromError(e){return tN.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?e$._fromTokenResponse(t,n):null}}function tC(e,t){return t?er(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tN.PROVIDER_ID="phone",tN.PHONE_SIGN_IN_METHOD="phone";class tI extends eD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eU(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eU(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eU(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tA(e){return e8(e.auth,new tI(e),e.bypassAuthState)}function tD(e){let{auth:t,user:n}=e;return v(n,t,"internal-error"),e6(n,new tI(e),e.bypassAuthState)}async function tP(e){let{auth:t,user:n}=e;return v(n,t,"internal-error"),e4(n,new tI(e),e.bypassAuthState)}class tR{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tA;case"linkViaPopup":case"linkViaRedirect":return tP;case"reauthViaPopup":case"reauthViaRedirect":return tD;default:f(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||b(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||b(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}let tj=new E(2e3,1e4);async function tO(e,t,n){if((0,i._isFirebaseServerApp)(e.app))return Promise.reject(p(e,"operation-not-supported-in-this-environment"));let r=ek(e);if(!(t instanceof eK))throw eK.name!==t.constructor.name&&f(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`);let a=tC(r,n);return new tL(r,"signInViaPopup",t,a).executeNotNull()}class tL extends tR{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,tL.currentPopupAction&&tL.currentPopupAction.cancel(),tL.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||b(t);let n=td();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null==(e=this.authWindow)?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tL.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null==(n=null==(t=this.authWindow)?void 0:t.window)?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tj.get())};e()}}tL.currentPopupAction=null;let tM=new Map;class tU extends tR{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=tM.get(this.auth._key());if(!e){try{let t=await tF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}tM.set(this.auth._key(),e)}return this.bypassAuthState||tM.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type)return void this.resolve(null);if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tF(e,t){var n;let r=ea("pendingRedirect",(n=t).config.apiKey,n.name),i=er(e._redirectPersistence);if(!await i._isAvailable())return!1;let a=await i._get(r)==="true";return await i._remove(r),a}function tV(e,t){tM.set(e._key(),t)}async function tz(e,t,n=!1){if((0,i._isFirebaseServerApp)(e.app))return Promise.reject(g(e));let r=ek(e),a=tC(r,t),s=new tU(r,a,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class tB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tq(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tq(e)){let r=(null==(n=e.error.code)?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tH(e))}saveEventToCache(e){this.cachedEventUids.add(tH(e)),this.lastProcessedEventTime=Date.now()}}function tH(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tq({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}async function t$(e,t={}){return I(e,"GET","/v1/projects",t)}let tW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tG=/^https?/;async function tK(e){if(e.config.emulator)return;let{authorizedDomains:t}=await t$(e);for(let e of t)try{if(function(e){let t=w(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!tG.test(n))return!1;if(tW.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch(e){}f(e,"unauthorized-domain")}let tQ=new E(3e4,6e4);function tX(){let e=tf().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let tY=null,tJ=new E(5e3,15e3),tZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function t1(e){let t=await (tY=tY||new Promise((t,n)=>{var r,i,a,s;function o(){tX(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tX(),n(p(e,"network-request-failed"))},timeout:tQ.get()})}if(null==(i=null==(r=tf().gapi)?void 0:r.iframes)?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null==(a=tf().gapi)?void 0:a.load)o();else{let t=eS("iframefcb");return tf()[t]=()=>{gapi.load?o():n(p(e,"network-request-failed"))},(s=`${e_.gapiScript}?onload=${t}`,e_.loadJS(s)).catch(e=>n(e))}}).catch(e=>{throw tY=null,e})),n=tf().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;v(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?_(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:i.SDK_VERSION},s=t0.get(e.config.apiHost);s&&(r.eid=s);let o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${(0,a.querystring)(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tZ,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=p(e,"network-request-failed"),a=tf().setTimeout(()=>{r(i)},tJ.get());function s(){tf().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}let t2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class t5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let t3=encodeURIComponent("fac");async function t4(e,t,n,r,s,o){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");let l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:i.SDK_VERSION,eventId:s};if(t instanceof eK)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,a.isEmpty)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(o||{})))l[n]=r;if(t instanceof eQ){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}for(let t of(e.tenantId&&(l.tid=e.tenantId),Object.keys(l)))void 0===l[t]&&delete l[t];let u=await e._getAppCheckToken(),c=u?`#${t3}=${encodeURIComponent(u)}`:"";return`${function({config:e}){return e.emulator?_(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,a.querystring)(l).slice(1)}${c}`}let t6="webStorageSupport",t8=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tu,this._completeRedirectFn=tz,this._overrideRedirectResult=tV}async _openPopup(e,t,n,r){var i,s,o;s=null==(i=this.eventManagers[e._key()])?void 0:i.manager,o="_initialize() not called before _openPopup()",s||b(o);let l=await t4(e,t,n,w(),r);return function(e,t,n,r=500,i=600){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),l="",u=Object.assign(Object.assign({},t2),{width:r.toString(),height:i.toString(),top:s,left:o}),c=(0,a.getUA)().toLowerCase();n&&(l=ec(c)?"_blank":n),el(c)&&(t=t||"http://localhost",u.scrollbars="yes");let d=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,a.getUA)()){var t;return em(e)&&!!(null==(t=window.navigator)?void 0:t.standalone)}(c)&&"_self"!==l)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new t5(null);let h=window.open(t||"",l,d);v(h,e,"popup-blocked");try{h.focus()}catch(e){}return new t5(h)}(e,l,td())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await t4(e,t,n,w(),r),tf().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||b(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await t1(e),n=new tB(e);return t.register("authEvent",t=>(v(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(t6,{type:t6},n=>{var r;let i=null==(r=null==n?void 0:n[0])?void 0:r[t6];void 0!==i&&t(!!i),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tK(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eg()||eu()||em()}};var t7="@firebase/auth",t9="1.7.9";class ne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null==(e=this.auth.currentUser)?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let nt=(0,a.getExperimentalSetting)("authIdTokenMaxAge")||300,nn=null;function nr(e=(0,i.getApp)()){let t=(0,i._getProvider)(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=(0,i._getProvider)(e,"auth");if(n.isInitialized()){let e=n.getImmediate(),r=n.getOptions();if((0,a.deepEqual)(r,null!=t?t:{}))return e;f(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:t8,persistence:[tS,tl,tu]}),r=(0,a.getExperimentalSetting)("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t,r=(t=e.toString(),async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nt)return;let i=null==n?void 0:n.token;nn!==i&&(nn=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});(0,a.getModularInstance)(n).beforeAuthStateChanged(r,()=>r(n.currentUser)),(0,a.getModularInstance)(n).onIdTokenChanged(e=>r(e),void 0,void 0)}}let s=(0,a.getDefaultEmulatorHost)("auth");return s&&function(e,t,n){let r=ek(e);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=eI(t),{host:a,port:s}=function(e){let t=eI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:eA(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:eA(t)}}}(t),o=null===s?"":`:${s}`;r.config.emulator={url:`${i}//${a}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${s}`),n}e_={loadJS:e=>new Promise((t,n)=>{var r,i;let a=document.createElement("script");a.setAttribute("src",e),a.onload=t,a.onerror=e=>{let t=p("internal-error");t.customData=e,n(t)},a.type="text/javascript",a.charset="UTF-8",(null!=(i=null==(r=document.getElementsByTagName("head"))?void 0:r[0])?i:document).appendChild(a)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},r="Browser",(0,i._registerComponent)(new(0,l.Component)("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;v(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l=new ex(n,i,a,{apiKey:s,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ey(r)}),u=(null==t?void 0:t.persistence)||[],c=(Array.isArray(u)?u:[u]).map(er);return(null==t?void 0:t.errorMap)&&l._updateErrorMap(t.errorMap),l._initializeWithPersistence(c,null==t?void 0:t.popupRedirectResolver),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,i._registerComponent)(new(0,l.Component)("auth-internal",e=>new ne(ek(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.registerVersion)(t7,t9,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(r)),(0,i.registerVersion)(t7,t9,"esm2017")}),E("7WQrb",function(t,n){function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}e(t.exports,"__rest",()=>r),"function"==typeof SuppressedError&&SuppressedError}),E("fCOdq",function(t,n){e(t.exports,"getDownloadURL",()=>k("jceyq").getDownloadURL),e(t.exports,"getStorage",()=>k("jceyq").getStorage),e(t.exports,"ref",()=>k("jceyq").ref),e(t.exports,"uploadBytes",()=>k("jceyq").uploadBytes),k("jceyq")}),E("jceyq",function(t,n){e(t.exports,"uploadBytes",()=>ei),e(t.exports,"getDownloadURL",()=>ea),e(t.exports,"ref",()=>es),e(t.exports,"getStorage",()=>eo);var r,i,a,s,o=k("7xvHX"),l=k("gMVVg"),u=k("eryG9");let c="firebasestorage.googleapis.com",d="storageBucket";class h extends l.FirebaseError{constructor(e,t,n=0){super(f(e),`Firebase Storage: ${t} (${f(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,h.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return f(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function f(e){return"storage/"+e}function p(){return new h(a.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function m(e){return new h(a.INVALID_ARGUMENT,e)}function g(){return new h(a.APP_DELETED,"The Firebase app was deleted.")}function y(e,t){return new h(a.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function v(e){throw new h(a.INTERNAL_ERROR,"Internal error: "+e)}(r=a||(a={})).UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class b{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=b.makeFromUrl(e,t)}catch(t){return new b(e,"")}if(""===n.path)return n;throw new h(a.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null,r="([A-Za-z0-9.\\-_]+)",i=RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}let o=t.replace(/[.]/g,"\\."),l=RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),u=t===c?"(?:storage.googleapis.com|storage.cloud.google.com)":t,d=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:l,indices:{bucket:1,path:3},postModify:s},{regex:RegExp(`^https?://${u}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let t=0;t<d.length;t++){let r=d[t],i=r.regex.exec(e);if(i){let e=i[r.indices.bucket],t=i[r.indices.path];t||(t=""),n=new b(e,t),r.postModify(n);break}}if(null==n)throw new h(a.INVALID_URL,"Invalid URL '"+e+"'.");return n}}class w{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function x(e){return"string"==typeof e||e instanceof String}function E(e){return _()&&e instanceof Blob}function _(){return"undefined"!=typeof Blob}function S(e,t,n,r){if(r<t)throw m(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw m(`Invalid value for '${e}'. Expected ${n} or less.`)}function T(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function N(e){let t=encodeURIComponent,n="?";for(let r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}(i=s||(s={}))[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT";class C{constructor(e,t,n,r,i,a,s,o,l,u,c,d=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){let e=(e,t)=>{if(t)return void e(!1,new I(!1,null,!0));let n=this.connectionFactory_();this.pendingConnection_=n;let r=e=>{let t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;let t=n.getErrorCode()===s.NO_ERROR,i=n.getStatus();if(!t||function(e,t){let n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}(i,this.additionalRetryCodes_)&&this.retry)return void e(!1,new I(!1,null,n.getErrorCode()===s.ABORT));e(!0,new I(-1!==this.successCodes_.indexOf(i),n))})},t=(e,t)=>{let n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{let e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(e){r(e)}else if(null!==i){let e=p();e.serverResponse=i.getErrorText(),r(this.errorCallback_?this.errorCallback_(i,e):e)}else r(t.canceled?this.appDelete_?g():new h(a.CANCELED,"User canceled the upload/download."):new h(a.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?t(!1,new I(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,a=null,s=!1,o=0,l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function c(t){i=setTimeout(()=>{i=null,e(h,2===o)},t)}function d(){a&&clearTimeout(a)}function h(e,...t){let n;if(l)return void d();if(e||2===o||s){d(),u.call(null,e,...t);return}r<64&&(r*=2),1===o?(o=2,n=0):n=(r+Math.random())*1e3,c(n)}let f=!1;function p(e){f||(f=!0,d(),!l&&(null!==i?(e||(o=2),clearTimeout(i),c(0)):e||(o=1)))}return c(0),a=setTimeout(()=>{s=!0,p(!0)},n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class I{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function A(...e){let t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){let n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(_())return new Blob(e);throw new h(a.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}let D="base64",P="base64url",R="data_url";class j{constructor(e,t){this.data=e,this.contentType=t||null}}function O(e){let t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):(64512&r)==55296?n<e.length-1&&(64512&e.charCodeAt(n+1))==56320?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):(64512&r)==56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function L(e,t){let n;switch(e){case D:{let n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw y(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case P:{let n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw y(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}}try{n=function(e){if("undefined"==typeof atob)throw new h(a.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(e)}(t)}catch(t){if(t.message.includes("polyfill"))throw t;throw y(e,"Invalid character found")}let r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class M{constructor(e){var t,n;this.base64=!1,this.contentType=null;let r=e.match(/^data:([^,]+)?,/);if(null===r)throw y(R,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=r[1]||null;null!=i&&(this.base64=(n=";base64",(t=i).length>=n.length&&t.substring(t.length-n.length)===n),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class U{constructor(e,t){let n=0,r="";E(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(!E(this.data_))return new U(new Uint8Array(this.data_.buffer,e,t-e),!0);{var n,r,i;let a=(n=this.data_,r=e,i=t,n.webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===a?null:new U(a)}}static getBlob(...e){if(_()){let t=e.map(e=>e instanceof U?e.data_:e);return new U(A.apply(null,t))}{let t=e.map(e=>x(e)?function(e,t){return new j(O(t))}("raw",e).data:e.data_),n=0;t.forEach(e=>{n+=e.byteLength});let r=new Uint8Array(n),i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new U(r,!0)}}uploadData(){return this.data_}}function F(e){var t;let n;try{n=JSON.parse(e)}catch(e){return null}return"object"!=typeof(t=n)||Array.isArray(t)?null:n}function V(e){let t=e.lastIndexOf("/",e.length-2);return -1===t?e:e.slice(t+1)}function z(e,t){return t}class B{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||z}}let H=null;function q(){if(H)return H;let e=[];e.push(new B("bucket")),e.push(new B("generation")),e.push(new B("metageneration")),e.push(new B("name","fullPath",!0));let t=new B("name");t.xform=function(e,t){return!x(t)||t.length<2?t:V(t)},e.push(t);let n=new B("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new B("timeCreated")),e.push(new B("updated")),e.push(new B("md5Hash",null,!0)),e.push(new B("cacheControl",null,!0)),e.push(new B("contentDisposition",null,!0)),e.push(new B("contentEncoding",null,!0)),e.push(new B("contentLanguage",null,!0)),e.push(new B("contentType",null,!0)),e.push(new B("metadata","customMetadata",!0)),H=e}function $(e,t,n){let r=F(t);return null===r?null:function(e,t,n){let r={};r.type="file";let i=n.length;for(let e=0;e<i;e++){let i=n[e];r[i.local]=i.xform(r,t[i.server])}return Object.defineProperty(r,"ref",{get:function(){let t=new b(r.bucket,r.fullPath);return e._makeStorageReference(t)}}),r}(e,r,n)}class W{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function G(e){if(!e)throw p()}function K(e){return function(t,n){var r,i;let s;return 401===t.getStatus()?s=t.getErrorText().includes("Firebase App Check token is invalid")?new h(a.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new h(a.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(r=e.bucket,s=new h(a.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,s=new h(a.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):s=n,s.status=t.getStatus(),s.serverResponse=n.serverResponse,s}}class Q{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=s.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=s.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=s.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw v("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(let e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw v("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw v("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return -1}}getResponse(){if(!this.sent_)throw v("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw v("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class X extends Q{initXhr(){this.xhr_.responseType="text"}}function Y(){return new X}class J{constructor(e,t){this._service=e,t instanceof b?this._location=t:this._location=b.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new J(e,t)}get root(){let e=new b(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V(this._location.path)}get storage(){return this._service}get parent(){let e=function(e){if(0===e.length)return null;let t=e.lastIndexOf("/");return -1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;let t=new b(this._location.bucket,e);return new J(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw new h(a.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function Z(e,t){let n=null==t?void 0:t[d];return null==n?null:b.makeFromBucketSpec(n,e)}class ee{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=c,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=r?this._bucket=b.makeFromBucketSpec(r,this._host):this._bucket=Z(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=b.makeFromBucketSpec(this._url,e):this._bucket=Z(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){S("time",0,1/0,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){S("time",0,1/0,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new J(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new w(g());{let a=function(e,t,n,r,i,a,s=!0){let o=N(e.urlParams),l=e.url+o,u=Object.assign({},e.headers);return t&&(u["X-Firebase-GMPID"]=t),null!==n&&n.length>0&&(u.Authorization="Firebase "+n),u["X-Firebase-Storage-Version"]="webjs/"+(null!=a?a:"AppManager"),null!==r&&(u["X-Firebase-AppCheck"]=r),new C(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){let[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}let et="@firebase/storage",en="0.13.2",er="storage";function ei(e,t,n){var r=e=(0,l.getModularInstance)(e);r._throwIfRoot("uploadBytes");let i=function(e,t,n,r,i){let s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+l;let u=function(e,t,n){let r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=t&&t.type()||"application/octet-stream"),r}(t,r,i),c="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+function(e,t){let n={},r=t.length;for(let i=0;i<r;i++){let r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}(u,n)+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",d=U.getBlob(c,r,"\r\n--"+l+"--");if(null===d)throw new h(a.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.");let f={name:u.fullPath},p=T(s,e.host,e._protocol),m=e.maxUploadRetryTime,g=new W(p,"POST",function(t,r){let i=$(e,r,n);return G(null!==i),i},m);return g.urlParams=f,g.headers=o,g.body=d.uploadData(),g.errorHandler=K(t),g}(r.storage,r._location,q(),new U(t,!0),n);return r.storage.makeRequestWithTokens(i,Y).then(e=>({metadata:e,ref:r}))}function ea(e){var t=e=(0,l.getModularInstance)(e);t._throwIfRoot("getDownloadURL");let n=function(e,t,n){let r=T(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new W(r,"GET",function(t,r){let i=$(e,r,n);return G(null!==i),function(e,t,n,r){let i=F(t);if(null===i||!x(i.downloadTokens))return null;let a=i.downloadTokens;if(0===a.length)return null;let s=encodeURIComponent;return a.split(",").map(t=>{let i=e.bucket,a=e.fullPath;return T("/b/"+s(i)+"/o/"+s(a),n,r)+N({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)},i);return s.errorHandler=function(e){let t=K(e);return function(n,r){var i;let s=t(n,r);return 404===n.getStatus()&&(i=e.path,s=new h(a.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),s.serverResponse=r.serverResponse,s}}(t),s}(t.storage,t._location,q());return t.storage.makeRequestWithTokens(n,Y).then(e=>{if(null===e)throw new h(a.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function es(e,t){var n=e=(0,l.getModularInstance)(e);if(!(t&&/^[A-Za-z]+:\/\//.test(t)))return function e(t,n){if(t instanceof ee){if(null==t._bucket)throw new h(a.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+d+"' property when initializing the app?");let r=new J(t,t._bucket);return null!=n?e(r,n):r}if(void 0===n)return t;let r=function(e,t){let n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(t._location.path,n),i=new b(t._location.bucket,r);return new J(t.storage,i)}(n,t);if(n instanceof ee)return new J(n,t);throw m("To use ref(service, url), the first argument must be a Storage instance.")}function eo(e=(0,o.getApp)(),t){e=(0,l.getModularInstance)(e);let n=(0,o._getProvider)(e,er).getImmediate({identifier:t}),r=(0,l.getDefaultEmulatorHostnameAndPort)("storage");return r&&function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";let{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:(0,l.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(0,o._registerComponent)(new(0,u.Component)(er,function(e,{instanceIdentifier:t}){let n=e.getProvider("app").getImmediate();return new ee(n,e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t,o.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(et,en,""),(0,o.registerVersion)(et,en,"esm2017")}),E("7FrCY",function(t,n){e(t.exports,"getAnalytics",()=>k("17EBg").getAnalytics),k("17EBg")}),E("17EBg",function(t,n){let r,i,a,s;e(t.exports,"getAnalytics",()=>j);var o=k("7xvHX"),l=k("5Z2ef"),u=k("gMVVg"),c=k("eryG9");k("2Ey2D");let d="analytics",h="https://www.googletagmanager.com/gtag/js",f=new(0,l.Logger)("@firebase/analytics"),p=new(0,u.ErrorFactory)("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function m(e){if(!e.startsWith(h)){let t=p.create("invalid-gtag-resource",{gtagURL:e});return f.warn(t.message),""}return e}function g(e){return Promise.all(e.map(e=>e.catch(e=>e)))}async function y(e,t,n,r,i,a){let s=r[i];try{if(s)await t[s];else{let e=(await g(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(e){f.error(e)}e("config",i,a)}async function v(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);let r=await g(n);for(let n of e){let e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(i)a.push(i);else{a=[];break}}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(e){f.error(e)}}let b=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};async function w(e){var t;let{appId:n,apiKey:r}=e,i={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":r})},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(a,i);if(200!==s.status&&304!==s.status){let e="";try{let n=await s.json();(null==(t=n.error)?void 0:t.message)&&(e=n.error.message)}catch(e){}throw p.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}async function x(e,t=b,n){let{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw p.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw p.create("no-api-key")}let s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new _;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),E({appId:r,apiKey:i,measurementId:a},s,o,t)}async function E(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=b){var a,s,o;let{appId:l,measurementId:c}=e;try{await (s=r,o=t,new Promise((e,t)=>{let n=setTimeout(e,Math.max(o-Date.now(),0));s.addEventListener(()=>{clearTimeout(n),t(p.create("fetch-throttle",{throttleEndTimeMillis:o}))})}))}catch(e){if(c)return f.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null==e?void 0:e.message}]`),{appId:l,measurementId:c};throw e}try{let t=await w(e);return i.deleteThrottleMetadata(l),t}catch(o){if(!function(e){if(!(e instanceof u.FirebaseError)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(o)){if(i.deleteThrottleMetadata(l),c)return f.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null==o?void 0:o.message}]`),{appId:l,measurementId:c};throw o}let t=503===Number(null==(a=null==o?void 0:o.customData)?void 0:a.httpStatus)?(0,u.calculateBackoffMillis)(n,i.intervalMillis,30):(0,u.calculateBackoffMillis)(n,i.intervalMillis),s={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return i.setThrottleMetadata(l,s),f.debug(`Calling attemptFetch again in ${t} millis`),E(e,s,r,i)}}class _{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function S(e,t,n,r,i){if(i&&i.global)return void e("event",n,r);{let i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}async function T(){if(!(0,u.isIndexedDBAvailable)())return f.warn(p.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await (0,u.validateIndexedDBOpenable)()}catch(e){return f.warn(p.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}async function N(e,t,n,a,s,o,l){var u;let c=x(e);c.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&f.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>f.error(e)),t.push(c);let d=T().then(e=>e?a.getId():void 0),[p,g]=await Promise.all([c,d]);!function(e){for(let t of Object.values(window.document.getElementsByTagName("script")))if(t.src&&t.src.includes(h)&&t.src.includes(e))return t;return null}(o)&&function(e,t){var n;let r,i=(n={createScriptURL:m},window.trustedTypes&&(r=window.trustedTypes.createPolicy("firebase-js-sdk-policy",n)),r),a=document.createElement("script"),s=`${h}?l=${e}&id=${t}`;a.src=i?null==i?void 0:i.createScriptURL(s):s,a.async=!0,document.head.appendChild(a)}(o,p.measurementId),i&&(s("consent","default",i),i=void 0),s("js",new Date);let y=null!=(u=null==l?void 0:l.config)?u:{};return y.origin="firebase",y.update=!0,null!=g&&(y.firebase_id=g),s("config",p.measurementId,y),r&&(s("set",r),r=void 0),p.measurementId}class C{constructor(e){this.app=e}_delete(){return delete I[this.app.options.appId],Promise.resolve()}}let I={},A=[],D={},P="dataLayer",R=!1;function j(e=(0,o.getApp)()){e=(0,u.getModularInstance)(e);let t=(0,o._getProvider)(e,d);return t.isInitialized()?t.getImmediate():function(e,t={}){let n=(0,o._getProvider)(e,d);if(n.isInitialized()){let e=n.getImmediate();if((0,u.deepEqual)(t,n.getOptions()))return e;throw p.create("already-initialized")}return n.initialize({options:t})}(e)}let O="@firebase/analytics",L="0.10.8";(0,o._registerComponent)(new(0,c.Component)(d,(e,{options:t})=>(function(e,t,n){let r=[];if((0,u.isBrowserExtension)()&&r.push("This is a browser extension environment."),(0,u.areCookiesEnabled)()||r.push("Cookies are not available."),r.length>0){let e=r.map((e,t)=>`(${t+1}) ${e}`).join(" "),t=p.create("invalid-analytics-context",{errorInfo:e});f.warn(t.message)}let i=e.options.appId;if(!i)throw p.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)f.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw p.create("no-api-key");if(null!=I[i])throw p.create("already-exists",{id:i});if(!R){var o,l;let e,t;e=[],Array.isArray(window[P])?e=window[P]:window[P]=e;let{wrappedGtag:n,gtagCore:r}=(o="gtag",t=function(){window[P].push(arguments)},window[o]&&"function"==typeof window[o]&&(t=window[o]),window[o]=(l=t,async function(e,...t){try{if("event"===e){let[e,n]=t;await v(l,I,A,e,n)}else if("config"===e){let[e,n]=t;await y(l,I,A,D,e,n)}else if("consent"===e){let[e,n]=t;l("consent",e,n)}else if("get"===e){let[e,n,r]=t;l("get",e,n,r)}else if("set"===e){let[e]=t;l("set",e)}else l(e,...t)}catch(e){f.error(e)}}),{gtagCore:t,wrappedGtag:window[o]});s=n,a=r,R=!0}return I[i]=N(e,A,D,t,a,P,n),new C(e)})(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,o._registerComponent)(new(0,c.Component)("analytics-internal",function(e){try{let t=e.getProvider(d).getImmediate();return{logEvent:(e,n,r)=>{var i;return i=t,void(i=(0,u.getModularInstance)(i),S(s,I[i.app.options.appId],e,n,r).catch(e=>f.error(e)))}}}catch(e){throw p.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),(0,o.registerVersion)(O,L),(0,o.registerVersion)(O,L,"esm2017")}),E("2Ey2D",function(e,t){var n=k("7xvHX"),r=k("eryG9"),i=k("gMVVg"),a=k("iItpQ");let s="@firebase/installations",o="0.6.9",l=`w:${o}`,u="FIS_v2",c=new(0,i.ErrorFactory)("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function d(e){return e instanceof i.FirebaseError&&e.code.includes("request-failed")}function h({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function f(e){return{token:e.token,requestStatus:2,expiresIn:Number(e.expiresIn.replace("s","000")),creationTime:Date.now()}}async function p(e,t){let n=(await t.json()).error;return c.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function m({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function g(e){let t=await e();return t.status>=500&&t.status<600?e():t}async function y({appConfig:e,heartbeatServiceProvider:t},{fid:n}){let r=h(e),i=m(e),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}let s={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:u,appId:e.appId,sdkVersion:l})},o=await g(()=>fetch(r,s));if(o.ok){let e=await o.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:f(e.authToken)}}throw await p("Create Installation",o)}function v(e){return new Promise(t=>{setTimeout(t,e)})}let b=/^[cdef][\w-]{21}$/;function w(e){return`${e.appName}!${e.appId}`}let x=new Map;function E(e,t){let n=w(e);_(n,t),function(e,t){let n=(!S&&"BroadcastChannel"in self&&((S=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{_(e.data.key,e.data.fid)}),S);n&&n.postMessage({key:e,fid:t}),0===x.size&&S&&(S.close(),S=null)}(n,t)}function _(e,t){let n=x.get(e);if(n)for(let e of n)e(t)}let S=null,T="firebase-installations-store",N=null;function C(){return N||(N=(0,a.openDB)("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(T)}})),N}async function I(e,t){let n=w(e),r=(await C()).transaction(T,"readwrite"),i=r.objectStore(T),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||E(e,t.fid),t}async function A(e){let t=w(e),n=(await C()).transaction(T,"readwrite");await n.objectStore(T).delete(t),await n.done}async function D(e,t){let n=w(e),r=(await C()).transaction(T,"readwrite"),i=r.objectStore(T),a=await i.get(n),s=t(a);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,s&&(!a||a.fid!==s.fid)&&E(e,s.fid),s}async function P(e){let t,n=await D(e.appConfig,n=>{let r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(c.create("app-offline"))};let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=R(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:j(e)}:{installationEntry:t}}(e,L(n||{fid:function(){try{var e;let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return b.test(n)?n:""}catch(e){return""}}(),registrationStatus:0}));return t=r.registrationPromise,r.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function R(e,t){try{let n=await y(e,t);return I(e.appConfig,n)}catch(n){throw d(n)&&409===n.customData.serverCode?await A(e.appConfig):await I(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function j(e){let t=await O(e.appConfig);for(;1===t.registrationStatus;)await v(100),t=await O(e.appConfig);if(0===t.registrationStatus){let{installationEntry:t,registrationPromise:n}=await P(e);return n||t}return t}function O(e){return D(e,e=>{if(!e)throw c.create("installation-not-found");return L(e)})}function L(e){var t;return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}async function M({appConfig:e,heartbeatServiceProvider:t},n){let r=function(e,{fid:t}){return`${h(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){var n;let r=m(e);return r.append("Authorization",(n=t,`${u} ${n}`)),r}(e,n),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}let s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:l,appId:e.appId}})},o=await g(()=>fetch(r,s));if(o.ok)return f(await o.json());throw await p("Generate Auth Token",o)}async function U(e,t=!1){let n,r=await D(e.appConfig,r=>{var i;if(!B(r))throw c.create("not-registered");let a=r.authToken;if(!t&&2===(i=a).requestStatus&&!function(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i))return r;if(1===a.requestStatus)return n=F(e,t),r;{if(!navigator.onLine)throw c.create("app-offline");let t=function(e){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=z(e,t),t}});return n?await n:r.authToken}async function F(e,t){let n=await V(e.appConfig);for(;1===n.authToken.requestStatus;)await v(100),n=await V(e.appConfig);let r=n.authToken;return 0===r.requestStatus?U(e,t):r}function V(e){return D(e,e=>{var t;if(!B(e))throw c.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function z(e,t){try{let n=await M(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await I(e.appConfig,r),n}catch(n){if(d(n)&&(401===n.customData.serverCode||404===n.customData.serverCode))await A(e.appConfig);else{let n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await I(e.appConfig,n)}throw n}}function B(e){return void 0!==e&&2===e.registrationStatus}async function H(e){let{installationEntry:t,registrationPromise:n}=await P(e);return n?n.catch(console.error):U(e).catch(console.error),t.fid}async function q(e,t=!1){return await $(e),(await U(e,t)).token}async function $(e){let{registrationPromise:t}=await P(e);t&&await t}function W(e){return c.create("missing-app-config-values",{valueName:e})}let G="installations";(0,n._registerComponent)(new(0,r.Component)(G,e=>{let t=e.getProvider("app").getImmediate(),r=function(e){if(!e||!e.options)throw W("App Configuration");if(!e.name)throw W("App Name");for(let t of["projectId","apiKey","appId"])if(!e.options[t])throw W(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),i=(0,n._getProvider)(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},"PUBLIC")),(0,n._registerComponent)(new(0,r.Component)("installations-internal",e=>{let t=e.getProvider("app").getImmediate(),r=(0,n._getProvider)(t,G).getImmediate();return{getId:()=>H(r),getToken:e=>q(r,e)}},"PRIVATE")),(0,n.registerVersion)(s,o),(0,n.registerVersion)(s,o,"esm2017")});var _={};_=k("8rWe0");var S=k("acw62"),T={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),T=k("iWoMt");var S=(k("acw62"),k("acw62")),N=((t={}).PENDING="Pendiente",t.IN_PROGRESS="En proceso",t.COMPLETED="Completada",t.NOT_DONE="No realizada",t),C=((n={}).NONE="Nunca",n.DAILY="Diaria",n.WEEKLY="Semanal",n.MONTHLY="Mensual",n),I=((r={}).DASHBOARD="dashboard",r.STATS="stats",r.SETTINGS="settings",r.SUBSCRIPTION="subscription",r.SUCCESS="success",r),A=((i={}).HOMES="homes",i.MEMBERS="members",i.TASKS="tasks",i),S=k("acw62"),D=k("e0EYX");k("6AR8M");var P=k("2EDex");k("6AR8M");var P=k("2EDex"),D=k("e0EYX");const R=new(0,P.X),j=async()=>{try{let e=(await (0,P.c)(D.auth,R)).user,t={id:e.uid,name:e.displayName||"Usuario",email:e.email||"",avatar:e.photoURL||`https://i.pravatar.cc/150?u=${e.email}`,color:"#3b82f6",plan:"free"};return{success:!0,message:"¡Inicio de sesión con Google exitoso!",user:t}}catch(t){console.error("Error al iniciar sesión con Google:",t);let e="Error al iniciar sesión con Google";if(t.code)switch(t.code){case"auth/popup-closed-by-user":e="Has cerrado la ventana de inicio de sesión. Por favor, inténtalo de nuevo.";break;case"auth/popup-blocked":e="El navegador ha bloqueado la ventana emergente. Por favor, permite ventanas emergentes e inténtalo de nuevo.";break;case"auth/cancelled-popup-request":e="La solicitud de inicio de sesión fue cancelada. Por favor, inténtalo de nuevo.";break;case"auth/account-exists-with-different-credential":e="Ya existe una cuenta con este correo electrónico pero con otro método de inicio de sesión.";break;case"auth/network-request-failed":e="Error de conexión. Por favor, verifica tu conexión a internet e inténtalo de nuevo.";break;default:e="No se pudo iniciar sesión con Google. Por favor, inténtalo de nuevo más tarde."}return{success:!1,message:e}}};k("ilpIi");var O=k("9HrqM");k("fCOdq");var L=k("jceyq");const M=[C.NONE,C.DAILY,C.WEEKLY,C.MONTHLY];N.PENDING,N.IN_PROGRESS,N.COMPLETED,N.NOT_DONE;const U=["#3b82f6","#ec4899","#22c55e","#f97316","#8b5cf6","#f43f5e","#14b8a6","#eab308"],F=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),V=e=>{let t=e.getDay(),n=new Date(e);return n.setDate(e.getDate()+((0===t?-6:1)-t)),n.setHours(0,0,0,0),n},z=(e,t)=>{let n=new Date(e);return n.setDate(n.getDate()+7*t),n};var B=k("g8dzF");const H=new class{async googleLogin(){try{let e=await j();if(e.success&&e.user){let t=(0,O.doc)(D.db,"users",e.user.id);return(await (0,O.getDoc)(t)).exists()?await (0,O.updateDoc)(t,{avatar:e.user.avatar,name:e.user.name,lastLoginAt:(0,O.serverTimestamp)()}):await (0,O.setDoc)(t,{name:e.user.name,email:e.user.email.toLowerCase(),avatar:e.user.avatar,color:e.user.color,plan:"free",createdAt:(0,O.serverTimestamp)()}),{success:!0,message:"Login con Google exitoso."}}return{success:!1,message:e.message}}catch(e){return console.error("Error en googleLogin:",e),{success:!1,message:e.message||"Error al iniciar sesión con Google"}}}onAuthStateChange(e){let t=null,n=(0,P.y)(D.auth,async n=>{if(t&&(t(),t=null),n){let r=(0,O.doc)(D.db,"users",n.uid);t=(0,O.onSnapshot)(r,t=>{t.exists()?e({id:n.uid,...t.data()}):(console.error("Usuario autenticado pero no existe en Firestore"),e(null))})}else e(null)});return()=>{t&&t(),n()}}async register(e,t,n){try{let r=(await (0,P.aa)(D.auth,t,n)).user;try{let n=(0,O.collection)(D.db,"users"),i=(await (0,O.getDocs)(n)).size,a={name:e,email:t.toLowerCase(),avatar:"/user.svg",color:U[i%U.length],plan:"free"};await (0,O.setDoc)((0,O.doc)(D.db,"users",r.uid),a)}catch(e){return await r.delete(),console.error("Error creando documento Firestore tras registro:",e),{success:!1,message:"Error creando perfil de usuario. Inténtalo de nuevo."}}return{success:!0,message:"¡Registro exitoso! Ahora puedes iniciar sesión."}}catch(e){if(console.error("Error en registro:",e),"auth/email-already-in-use"===e.code)return{success:!1,message:"El correo electrónico ya está en uso."};return{success:!1,message:`Error en el registro: ${e.message}`}}}async login(e,t){try{return await (0,P.ab)(D.auth,e,t),{success:!0,message:"Login exitoso."}}catch(t){console.error("Error en login:",t);let e="Error en el inicio de sesión.";switch(t.code){case"auth/user-not-found":e="Usuario no encontrado.";break;case"auth/wrong-password":e="Contraseña incorrecta.";break;case"auth/invalid-email":e="Correo inválido.";break;case"auth/too-many-requests":e="Demasiados intentos. Intenta más tarde.";break;case"auth/invalid-credential":e="Credenciales inválidas. El usuario no existe o la contraseña es incorrecta.";break;default:e=`Error: ${t.message}`}return{success:!1,message:e}}}async logout(){await (0,P.C)(D.auth)}async updateCurrentUser(e){if(!D.auth.currentUser)return{success:!1,message:"No hay usuario logueado."};let{password:t,...n}=e;try{if(Object.keys(n).length>0){let e=(0,O.doc)(D.db,"users",D.auth.currentUser.uid);await (0,O.updateDoc)(e,n)}return t&&await (0,P.am)(D.auth.currentUser,t),{success:!0,message:"Perfil actualizado."}}catch(e){return console.error("Error updating profile:",e),{success:!1,message:"Error al actualizar el perfil."}}}async uploadAvatar(e,t){let n=(0,L.ref)(D.storage,`avatars/${e}/${t.name}`);await (0,L.uploadBytes)(n,t);let r=await (0,L.getDownloadURL)(n);return await this.updateCurrentUser({avatar:r}),r}subscribeToUserData(e,t){let n={homes:[],tasks:[],invitations:[],users:[]},r=()=>{},i=()=>{},a=()=>{},s=()=>{},o=(0,O.query)((0,O.collection)(D.db,"homes"),(0,O.where)("memberIds","array-contains",e));r=(0,O.onSnapshot)(o,e=>{n.homes=e.docs.map(e=>({id:e.id,...e.data()})),i&&i(),a&&a();let r=n.homes.map(e=>e.id);if(r.length>0){let e=(0,O.query)((0,O.collection)(D.db,"tasks"),(0,O.where)("homeId","in",r));i=(0,O.onSnapshot)(e,e=>{n.tasks=e.docs.map(e=>({id:e.id,...e.data()})),t(n)});let s=[...new Set(n.homes.flatMap(e=>e.memberIds))];if(s.length>0){let e=(0,O.query)((0,O.collection)(D.db,"users"),(0,O.where)((0,O.documentId)(),"in",s));a=(0,O.onSnapshot)(e,e=>{n.users=e.docs.map(e=>({id:e.id,...e.data()})),t(n)})}else n.users=[]}else n.tasks=[],n.users=[];t(n)});let l=(0,O.query)((0,O.collection)(D.db,"users"),(0,O.where)((0,O.documentId)(),"==",e));return(0,O.getDocs)(l).then(e=>{let r=e.docs[0]?.data();if(r&&r.email){let e=(0,O.query)((0,O.collection)(D.db,"invitations"),(0,O.where)("inviteeEmail","==",r.email));s=(0,O.onSnapshot)(e,e=>{n.invitations=e.docs.map(e=>({id:e.id,...e.data()})),t(n)})}}),()=>{r(),i(),a(),s()}}async addTask(e){if(!D.auth.currentUser)return;let t={...e,assignedTo:e.assignedTo??null,status:N.PENDING,createdBy:D.auth.currentUser.uid,createdAt:new Date().toISOString()};await (0,O.addDoc)((0,O.collection)(D.db,"tasks"),t)}async updateTask(e,t){let n=(0,O.doc)(D.db,"tasks",e),r=await (0,O.getDoc)(n);if(r.exists()){let e=r.data().status===N.COMPLETED,i={...t};e&&t.status&&t.status!==N.COMPLETED&&(delete i.completedBy,delete i.completedAt),await (0,O.updateDoc)(n,i)}}async deleteTask(e){await (0,O.deleteDoc)((0,O.doc)(D.db,"tasks",e))}async completeTask(e,t){let n=(0,O.doc)(D.db,"tasks",e),r=await (0,O.getDoc)(n);if(!r.exists())return;let i=r.data();console.log("Tarea antes de completar:",i);let a=(0,O.writeBatch)(D.db);if(a.update(n,{status:N.COMPLETED,completedBy:t,completedAt:new Date().toISOString()}),i.periodicity!==C.NONE){let e=new Date(i.dueDate),t=null;switch(i.periodicity){case C.DAILY:t=new Date(e.setDate(e.getDate()+1));break;case C.WEEKLY:t=new Date(e.setDate(e.getDate()+7));break;case C.MONTHLY:t=new Date(e.setMonth(e.getMonth()+1))}if(t){let e={title:i.title,description:i.description,emoji:i.emoji,points:i.points,periodicity:i.periodicity,homeId:i.homeId,dueDate:t.toISOString(),assignedTo:i.assignedTo??null,status:N.PENDING,createdBy:i.createdBy},n=(0,O.doc)((0,O.collection)(D.db,"tasks"));a.set(n,{...e,createdAt:(0,O.serverTimestamp)()})}}await a.commit(),console.log("Tarea completada y batch commit realizado")}getStats(e,t,n,r){return t?e.filter(e=>e.homeId===t&&e.completedBy===n&&e.status===N.COMPLETED&&e.completedAt).filter(e=>{let t=new Date(e.completedAt);if("weekly"===r){let e=new Date,n=new Date(e),r=(e.getDay()+6)%7;n.setDate(e.getDate()-r),n.setHours(0,0,0,0);let i=new Date(n);return i.setDate(n.getDate()+6),i.setHours(23,59,59,999),t>=n&&t<=i}if("monthly"===r){let e=new Date;return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}let n=new Date;return t.getFullYear()===n.getFullYear()}).reduce((e,t)=>(e.tasksCompleted+=1,e.pointsEarned+=t.points,e),{tasksCompleted:0,pointsEarned:0}):{tasksCompleted:0,pointsEarned:0}}async createHome(e,t){let n=(0,O.doc)((0,O.collection)(D.db,"homes")),r={name:e,adminIds:[t.id],memberIds:[t.id]};await (0,O.setDoc)(n,r)}async updateHome(e,t){await (0,O.updateDoc)((0,O.doc)(D.db,"homes",e),t)}async sendHomeInvitation(e,t,n){let r=(0,O.query)((0,O.collection)(D.db,"users"),(0,O.where)("email","==",e.toLowerCase())),i=await (0,O.getDocs)(r);if(i.empty)return{success:!1,message:"Usuario no encontrado. Asegúrate de que el correo esté registrado."};let a=i.docs[0],s={id:a.id,...a.data()};if(s.id===n.id)return{success:!1,message:"No puedes invitarte a ti mismo."};if(t.memberIds.includes(s.id))return{success:!1,message:"Este usuario ya es miembro de la casa."};let o=(0,O.query)((0,O.collection)(D.db,"invitations"),(0,O.where)("homeId","==",t.id),(0,O.where)("inviteeEmail","==",e.toLowerCase()));if(!(await (0,O.getDocs)(o)).empty)return{success:!1,message:"Ya se ha enviado una invitación a este usuario para esta casa."};let l={homeId:t.id,homeName:t.name,invitedBy:n.id,inviteeEmail:e.toLowerCase(),status:"pending"};return await (0,O.addDoc)((0,O.collection)(D.db,"invitations"),l),{success:!0,message:`\xa1Invitaci\xf3n enviada a ${s.name}!`}}async respondToInvitation(e,t,n){let r=(0,O.doc)(D.db,"invitations",e),i=await (0,O.getDoc)(r);if(i.exists()&&i.data().inviteeEmail===n.email){if(t){let e=i.data().homeId,t=(0,O.doc)(D.db,"homes",e),r=await (0,O.getDoc)(t);if(r.exists()){let e=r.data();e.memberIds.includes(n.id)||await (0,O.updateDoc)(t,{memberIds:[...e.memberIds,n.id]})}}await (0,O.deleteDoc)(r)}}async leaveHome(e,t){try{let n=(0,O.doc)(D.db,"homes",e),r=await (0,O.getDoc)(n);if(!r.exists())return{success:!1,message:"La casa no existe."};let i=r.data();if(i.adminIds.includes(t)&&1===i.adminIds.length&&i.memberIds.length>1)return{success:!1,message:"Eres el único administrador. Asigna otro administrador antes de salir."};let a=i.memberIds.filter(e=>e!==t),s=i.adminIds.filter(e=>e!==t);if(0===a.length)return await (0,O.deleteDoc)(n),{success:!0,message:"Has salido de la casa y ha sido eliminada por no tener miembros."};return await (0,O.updateDoc)(n,{memberIds:a,adminIds:s}),{success:!0,message:"Has salido de la casa correctamente."}}catch(e){return console.error("Error al salir de la casa:",e),{success:!1,message:"Error al salir de la casa."}}}async removeUserFromHome(e,t){let n=(0,O.doc)(D.db,"homes",e),r=await (0,O.getDoc)(n);if(!r.exists())return;let i=r.data();if(i.adminIds.includes(t)&&1===i.adminIds.length&&i.memberIds.length>1)throw Error("No puedes eliminar al único administrador si hay más miembros.");let a=i.memberIds.filter(e=>e!==t),s=i.adminIds.filter(e=>e!==t);if(0===a.length)return void await (0,O.deleteDoc)(n);await (0,O.updateDoc)(n,{memberIds:a,adminIds:s});let o=(0,O.query)((0,O.collection)(D.db,"tasks"),(0,O.where)("homeId","==",e),(0,O.where)("assignedTo","==",t)),l=await (0,O.getDocs)(o),u=(0,O.writeBatch)(D.db);l.forEach(e=>{u.update((0,O.doc)(D.db,"tasks",e.id),{assignedTo:null})}),await u.commit();try{let n=(0,O.doc)(D.db,"users",t);if(!(await (0,O.getDoc)(n)).exists())return;let{notificationService:r}=await Promise.resolve(k("g8dzF"));await r.sendNotification({userId:t,type:"home_removal",title:"Has sido eliminado de un hogar",message:`Has sido eliminado del hogar "${i.name}"`,metadata:{homeId:e,homeName:i.name},read:!1}),console.log(`Notificaci\xf3n enviada al usuario ${t} por eliminaci\xf3n del hogar ${e}`)}catch(e){console.error("Error al enviar notificación de eliminación de hogar:",e)}}togglePremium(e){return new Promise(async t=>{let n=(0,O.doc)(D.db,"users",e),r=await (0,O.getDoc)(n);if(r.exists()){let e="free"===r.data().plan?"premium":"free";await (0,O.updateDoc)(n,{plan:e})}t()})}async getNotifications(e){try{return await B.notificationService.getNotificationsForUser(e)}catch(e){return console.error("Error al obtener notificaciones:",e),[]}}async markNotificationAsRead(e){try{await B.notificationService.markAsRead(e)}catch(e){console.error("Error al marcar notificación como leída:",e)}}subscribeToNotifications(e,t){try{return B.notificationService.subscribeToUserNotifications(e,t)}catch(e){return console.error("Error al suscribirse a notificaciones:",e),()=>{}}}};var B=k("g8dzF");const q=()=>{let[e,t]=(0,S.useState)([]),[n,r]=(0,S.useState)([]),[i,a]=(0,S.useState)([]),[s,o]=(0,S.useState)([]),[l,u]=(0,S.useState)([]),[c,d]=function(e,t){let[n,r]=(0,S.useState)(()=>{if("undefined"==typeof window)return null;try{let t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return console.error(e),t}});return(0,S.useEffect)(()=>{let i=i=>{if(i.key===e)try{let e=i.newValue?JSON.parse(i.newValue):t;JSON.stringify(e)!==JSON.stringify(n)&&r(e)}catch(e){console.error("Error parsing localStorage change",e)}};return window.addEventListener("storage",i),()=>{window.removeEventListener("storage",i)}},[e,t]),[n,t=>{try{let i=t instanceof Function?t(n):t;JSON.stringify(i)!==JSON.stringify(n)&&(r(i),"undefined"!=typeof window&&window.localStorage.setItem(e,JSON.stringify(i)))}catch(e){console.error(e)}}]}("hogarzen-current-home",null),[h,f]=(0,S.useState)("loading"),[p,m]=(0,S.useState)(null);(0,S.useEffect)(()=>{f("loading");let e=H.onAuthStateChange(e=>{e?(m(e),f("logged-in")):(m(null),f("logged-out"),d(null))});return()=>e()},[]),(0,S.useEffect)(()=>{if(!p){r([]),a([]),o([]),t([]),u([]);return}let e=null;if(H.subscribeToNotifications)e=H.subscribeToNotifications(p.id,e=>{u(e)});else if(B.notificationService.subscribeToUserNotifications)e=B.notificationService.subscribeToUserNotifications(p.id,e=>{u(e)});else if(H.getNotifications){(async()=>{try{if(H.getNotifications){let e=await H.getNotifications(p.id);u(e)}else console.warn("La función getNotifications no está disponible")}catch(e){console.error("Error al cargar notificaciones iniciales:",e)}})();let t=setInterval(async()=>{try{if(H.getNotifications){let e=await H.getNotifications(p.id);u(e)}else console.warn("La función notificationInterval no está disponible")}catch(e){console.error("Error al actualizar notificaciones:",e)}},5e3);e=()=>clearInterval(t)}let n=H.subscribeToUserData(p.id,e=>{if(r(e.homes),a(e.tasks),o(e.invitations),t(e.users),null===c&&e.homes.length>0){let t=e.homes[0].id;t!==c&&d(t)}else if(c&&!e.homes.some(e=>e.id===c)){let t=e.homes[0]?.id||null;t!==c&&d(t)}});return()=>{n(),e&&e()}},[p]);let g=(0,S.useMemo)(()=>n,[n]),y=(0,S.useMemo)(()=>{let e=n.find(e=>e.id===c);if(e){let t=i.filter(t=>t.homeId===e.id&&(t.status===N.PENDING||t.status===N.IN_PROGRESS));return{...e,activeTaskCount:t.length}}},[c,n,i]),v=(0,S.useMemo)(()=>y?e.filter(e=>y.memberIds.includes(e.id)):[],[y,e]),b=(0,S.useMemo)(()=>c?i.filter(e=>e.homeId===c):[],[i,c]),w=(0,S.useMemo)(()=>s.filter(e=>"pending"===e.status),[s]),x=(0,S.useMemo)(()=>l.filter(e=>!e.read),[l]),k=async()=>{try{return await H.googleLogin()}catch(e){return console.error("Error en googleLogin:",e),{success:!1,message:e.message||"Error al iniciar sesión con Google"}}},E=async e=>{p&&await H.createHome(e,p)},_=async(e,t)=>p&&y?H.sendHomeInvitation(e,y,p):{success:!1,message:"Error interno"},T=async(e,t)=>{p&&await H.respondToInvitation(e,t,p)},C=(0,S.useCallback)((e,t)=>H.getStats(i,c,e,t),[i,c]),I=async()=>{H.togglePremium&&p&&await H.togglePremium(p.id)};return{authStatus:h,currentUser:p,currentHome:y,userHomes:g,tasks:i,tasksForCurrentHome:b,users:e,membersOfCurrentHome:v,pendingInvitations:w,login:(e,t)=>H.login(e,t),register:(e,t,n)=>H.register(e,t,n),googleLogin:k,logout:()=>H.logout(),updateCurrentUser:e=>H.updateCurrentUser(e),uploadAvatar:e=>{if(!p)throw Error("No user logged in");return H.uploadAvatar(p.id,e)},addTask:e=>H.addTask(e),updateTask:(e,t)=>H.updateTask(e,t),deleteTask:e=>H.deleteTask(e),completeTask:(e,t)=>H.completeTask(e,t),getStats:C,createHome:E,updateHome:(e,t)=>H.updateHome(e,t),sendHomeInvitation:_,respondToInvitation:T,setCurrentHomeId:d,notifications:l,unreadNotifications:x,markNotificationAsRead:async e=>{try{H.markNotificationAsRead?await H.markNotificationAsRead(e):await B.notificationService.markAsRead(e),u(t=>t.map(t=>t.id===e?{...t,read:!0}:t))}catch(e){console.error("Error al marcar notificación como leída:",e)}},togglePremium:H.togglePremium?I:void 0,leaveHome:(e,t)=>H.leaveHome(e,t),removeUserFromHome:(e,t)=>H.removeUserFromHome?H.removeUserFromHome(e,t):Promise.resolve()}},$=(e,t,n)=>{let r=e?.plan||"free",i="premium"===r;return{plan:r,isPremium:i,checkLimit:e=>{if(i)return{isLimited:!1};switch(e){case A.HOMES:if(t.length>=1)return{isLimited:!0,message:"El plan gratuito permite solo 1 casa. ¡Mejora a premium para crear casas ilimitadas!"};break;case A.MEMBERS:if(n&&n.memberIds.length>=2)return{isLimited:!0,message:"El plan gratuito permite hasta 2 miembros por casa. ¡Invita a más personas con el plan premium!"};break;case A.TASKS:if(n&&(n.activeTaskCount||0)>=20)return{isLimited:!0,message:"Has alcanzado el límite de 20 tareas activas. ¡Mejora a premium para tener tareas ilimitadas!"}}return{isLimited:!1}}}};k("acw62"),k("acw62");const W=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),G=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),K=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0z"})}),Q=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591M12 12a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})}),X=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25c0 5.385 4.365 9.75 9.75 9.75 2.138 0 4.124-.589 5.752-1.599z"})}),Y=({className:e})=>(0,_.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:[(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.24-.438.613-.43.992a6.759 6.759 0 0 1 0 1.905c-.008.379.137.752.43.992l1.004.827a1.125 1.125 0 0 1 .26 1.431l-1.296 2.247a1.125 1.125 0 0 1-1.37.49l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.6 6.6 0 0 1-.22.128c-.332.183-.582.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.37-.49l-1.296-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.759 6.759 0 0 1 0-1.905c.008-.379-.137-.752-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.431l1.296-2.247a1.125 1.125 0 0 1 1.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.213-1.281Z"}),(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),J=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),Z=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),ee=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})}),et=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})}),en=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),er=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),ei=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),ea=({className:e})=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:e||"w-6 h-6",children:(0,_.jsx)("path",{fillRule:"evenodd",d:"M12 2.25a9.75 9.75 0 1 0 0 19.5 9.75 9.75 0 0 0 0-19.5Zm4.53 7.28a.75.75 0 0 1 0 1.06l-5.25 5.25a.75.75 0 0 1-1.06 0l-2.25-2.25a.75.75 0 0 1 1.06-1.06l1.72 1.72 4.72-4.72a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})});var S=(k("acw62"),k("acw62"));const es=()=>{let[e,t]=(0,S.useState)("web");return(0,S.useEffect)(()=>{t((()=>{let e=navigator.userAgent.toLowerCase(),t=/android/.test(e),n=/iphone|ipad|ipod/.test(e);if(window.Capacitor){if(t)return"android";if(n)return"ios"}return"web"})())},[]),{platform:e,isNative:"web"!==e,isWeb:"web"===e}};var eo=({className:e=""})=>{let{platform:t}=es(),[n,r]=(0,S.useState)(null),[i,a]=(0,S.useState)(!1);(0,S.useEffect)(()=>{let e=e=>{e.preventDefault(),r(e)};return window.addEventListener("beforeinstallprompt",e),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]);let s=async()=>{if("android"===t&&n){n.prompt();let{outcome:e}=await n.userChoice;r(null),console.log(`User ${e} the A2HS prompt`)}else"ios"===t&&a(!0)};return(0,_.jsxs)("div",{className:`flex items-center gap-2 ${e}`,children:[(0,_.jsxs)("button",{onClick:s,className:"flex items-center justify-center gap-1 bg-green-600 hover:bg-green-700 text-white font-medium py-1 px-3 rounded-lg text-sm transition-transform duration-200 hover:scale-105","aria-label":"Instalar en Android",children:[(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_.jsx)("path",{d:"M17.523 15.3414c-.5511 0-.9993-.4486-.9993-.9997s.4483-.9993.9993-.9993c.5511 0 .9993.4483.9993.9993.0001.5511-.4482.9997-.9993.9997m-11.046 0c-.5511 0-.9993-.4486-.9993-.9997s.4482-.9993.9993-.9993c.5511 0 .9993.4483.9993.9993 0 .5511-.4483.9997-.9993.9997m11.4045-6.02l1.9973-3.4592a.416.416 0 00-.1521-.5676.416.416 0 00-.5676.1521l-2.0223 3.503C15.5902 8.2439 13.8533 7.8508 12 7.8508s-3.5902.3931-5.1367 1.0729L4.841 5.4207a.4161.4161 0 00-.5677-.1521.4157.4157 0 00-.1521.5676l1.9973 3.4592C2.6889 11.1867.3432 14.6589 0 18.761h24c-.3435-4.1021-2.6892-7.5743-6.1185-9.4396"})}),(0,_.jsx)("span",{children:"Android"})]}),(0,_.jsxs)("button",{onClick:()=>a(!0),className:"flex items-center justify-center gap-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-1 px-3 rounded-lg text-sm transition-transform duration-200 hover:scale-105","aria-label":"Instalar en iOS",children:[(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_.jsx)("path",{d:"M16.462 8.583c-.307 0-1.085.674-2.081.674-.997 0-1.798-.674-2.106-.674-1.419 0-3.333 2.76-3.333 5.461 0 2.701 2.135 7.046 3.554 7.046.673 0 1.419-.674 2.39-.674.949 0 1.491.674 2.164.674 1.419 0 3.333-3.986 3.333-6.686-.025 0-2.341-.842-2.341-3.554 0-2.39 1.995-3.277 2.045-3.277-.05-.125-1.344-2.736-3.625-2.736zM16.307 3c.05 1.545-1.142 3.089-2.561 3.089-1.394 0-2.786-1.545-2.736-3.089 0-1.545 1.242-3.089 2.736-3.089 1.444 0 2.511 1.545 2.561 3.089z"})}),(0,_.jsx)("span",{children:"iOS"})]}),i&&(0,_.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,_.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 max-w-sm w-full shadow-xl transform translate-y-28",children:[(0,_.jsx)("h3",{className:"text-lg font-bold mb-4 text-slate-900 dark:text-white",children:"Instalar en iOS"}),(0,_.jsxs)("ol",{className:"list-decimal pl-5 mb-4 text-slate-700 dark:text-slate-300 space-y-3",children:[(0,_.jsxs)("li",{children:["Toca el icono de compartir en Safari"," ",(0,_.jsx)("span",{className:"inline-block",children:"⎙"})]}),(0,_.jsx)("li",{children:'Desplázate hacia abajo y toca "Añadir a pantalla de inicio"'}),(0,_.jsx)("li",{children:'Toca "Añadir" en la esquina superior derecha'})]}),(0,_.jsx)("div",{className:"flex justify-end mt-4",children:(0,_.jsx)("button",{onClick:()=>a(!1),className:"bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg",children:"Entendido"})})]})})]})},el=({currentUser:e,currentHome:t,userHomes:n,onHomeChange:r,currentView:i,onViewChange:a,onNewTaskClick:s,onLogout:o,theme:l,onToggleTheme:u,onNotificationsClick:c,unreadNotifications:d})=>(0,_.jsxs)("header",{className:"bg-white/80 dark:bg-slate-900/80 shadow-md backdrop-blur-sm sticky top-0 z-20",children:[(0,_.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,_.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,_.jsx)("h1",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:"HouseZen"}),(0,_.jsxs)("nav",{className:"hidden md:flex items-center space-x-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[(0,_.jsxs)("button",{onClick:()=>t&&a(I.DASHBOARD),disabled:!t,className:`px-3 py-1 text-sm font-medium rounded-md transition-colors relative ${i===I.DASHBOARD?"bg-white dark:bg-slate-800 text-primary-600 dark:text-primary-400 shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"} ${!t?"opacity-50 cursor-not-allowed":""}`,title:t?"":"Selecciona o crea una casa para acceder a tareas",onMouseEnter:e=>{if(!t){let t=document.createElement("div");t.className="custom-tooltip",t.innerHTML="<div class='bg-slate-800 text-white text-xs rounded py-1 px-3 shadow-lg relative'>Selecciona o crea una casa para acceder a tareas<div class='absolute left-1/2 -bottom-2 w-3 h-3 bg-slate-800 rotate-45 -translate-x-1/2'></div></div>",t.style.position="absolute",t.style.top=`${e.currentTarget.offsetTop+e.currentTarget.offsetHeight+8}px`,t.style.left=`${e.currentTarget.offsetLeft+e.currentTarget.offsetWidth/2}px`,t.style.transform="translateX(-50%)",t.style.zIndex="9999",e.currentTarget.parentElement?.appendChild(t),e.currentTarget.onmouseleave=()=>{t.remove()}}},children:[(0,_.jsx)(K,{className:"w-5 h-5 inline mr-1"}),"Tareas"]}),(0,_.jsxs)("button",{onClick:()=>t&&a(I.STATS),disabled:!t,className:`px-3 py-1 text-sm font-medium rounded-md transition-colors relative ${i===I.STATS?"bg-white dark:bg-slate-800 text-primary-600 dark:text-primary-400 shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"} ${!t?"opacity-50 cursor-not-allowed":""}`,title:t?"":"Selecciona o crea una casa para acceder a estadísticas",onMouseEnter:e=>{if(!t){let t=document.createElement("div");t.className="custom-tooltip",t.innerHTML=`<div class='bg-slate-800 text-white text-xs rounded py-1 px-3 shadow-lg relative'>Selecciona o crea una casa para acceder a estad\xedsticas<div class='absolute left-1/2 -bottom-2 w-3 h-3 bg-slate-800 rotate-45 -translate-x-1/2'></div></div>`,t.style.position="absolute",t.style.top=`${e.currentTarget.offsetTop+e.currentTarget.offsetHeight+8}px`,t.style.left=`${e.currentTarget.offsetLeft+e.currentTarget.offsetWidth/2}px`,t.style.transform="translateX(-50%)",t.style.zIndex="9999",e.currentTarget.parentElement?.appendChild(t),e.currentTarget.onmouseleave=()=>{t.remove()}}},children:[(0,_.jsx)(G,{className:"w-5 h-5 inline mr-1"}),"Estadísticas"]})]})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[t&&(0,_.jsxs)("button",{onClick:s,className:"hidden sm:flex items-center justify-center gap-2 bg-primary-600 hover:bg-primary-700 text-white font-bold py-2 px-4 rounded-lg transition-transform duration-200 hover:scale-105",children:[(0,_.jsx)(W,{className:"w-5 h-5"}),(0,_.jsx)("span",{children:"Nueva Tarea"})]}),n.length>0&&(0,_.jsxs)("div",{className:"relative group",children:[(0,_.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-primary-500",children:(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125h3.75c.621 0 1.125-.504 1.125-1.125V15.75c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125v4.125c0 .621.504 1.125 1.125 1.125h3.75c.621 0 1.125-.504 1.125-1.125V9.75"})})}),(0,_.jsx)("select",{id:"home-select",value:t?.id||"",onChange:e=>r(e.target.value),className:"pl-8 pr-6 py-2 bg-white dark:bg-slate-800 border border-primary-200 dark:border-primary-700 rounded-lg text-sm font-semibold focus:ring-2 focus:ring-primary-500 focus:border-primary-500 cursor-pointer shadow-sm transition-all duration-150 max-w-[160px] sm:max-w-xs group-hover:ring-2 group-hover:ring-primary-400",children:n.map(e=>(0,_.jsx)("option",{value:e.id,className:e.id===t?.id?"bg-primary-100 dark:bg-primary-900 font-bold":"",children:e.name},e.id))})]}),(0,_.jsx)("div",{className:"flex items-center space-x-2",children:(0,_.jsx)("img",{className:"h-9 w-9 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700",src:e.avatar||"/user.svg",alt:e.name,onError:e=>{let t=e.target;t.onerror=null,t.src="/user.svg"}})}),(0,_.jsx)(eo,{className:"hidden sm:flex"}),(0,_.jsxs)("button",{onClick:c,className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 relative","aria-label":"Notificaciones",children:[(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),d>0&&(0,_.jsx)("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:d>9?"9+":d})]}),(0,_.jsx)("button",{onClick:()=>a(I.SETTINGS),className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700","aria-label":"Ajustes",children:(0,_.jsx)(Y,{className:"h-6 w-6"})}),(0,_.jsx)("button",{onClick:u,className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700","aria-label":"Cambiar tema",children:"light"===l?(0,_.jsx)(X,{className:"h-6 w-6"}):(0,_.jsx)(Q,{className:"h-6 w-6"})}),(0,_.jsx)("button",{onClick:o,className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700","aria-label":"Cerrar sesión",children:(0,_.jsx)(ee,{className:"h-6 w-6"})})]})]})}),(0,_.jsx)("div",{className:"md:hidden h-16"})," ",(0,_.jsxs)("nav",{className:"md:hidden flex items-center justify-around p-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-t border-slate-200 dark:border-slate-700 fixed bottom-0 left-0 right-0 z-20",children:[(0,_.jsxs)("button",{disabled:!t,onClick:()=>t&&a(I.DASHBOARD),className:`flex-1 flex flex-col items-center py-1 text-xs font-medium rounded-md relative ${i===I.DASHBOARD?"text-primary-600":"text-slate-600"} ${!t?"opacity-50 cursor-not-allowed":""}`,title:t?"":"Debes crear o ser invitado a una casa",children:[(0,_.jsx)(K,{className:"w-6 h-6"}),"Tareas",!t&&(0,_.jsx)("span",{className:"absolute left-1/2 -bottom-7 -translate-x-1/2 bg-slate-800 text-white text-xs rounded py-1 px-2 z-10",children:"Debes crear o ser invitado a una casa"})]}),t&&(0,_.jsxs)("button",{onClick:s,className:"flex-1 flex flex-col items-center py-1 text-xs font-medium text-primary-600",children:[(0,_.jsx)("div",{className:"bg-primary-600 text-white rounded-full p-2 -mt-6 shadow-lg border-4 border-slate-50 dark:border-slate-900",children:(0,_.jsx)(W,{className:"w-6 h-6"})}),(0,_.jsx)("span",{className:"mt-1",children:"Añadir"})]}),(0,_.jsxs)("button",{disabled:!t,onClick:()=>t&&a(I.STATS),className:`flex-1 flex flex-col items-center py-1 text-xs font-medium rounded-md relative ${i===I.STATS?"text-primary-600":"text-slate-600"} ${!t?"opacity-50 cursor-not-allowed":""}`,title:t?"":"Debes crear o ser invitado a una casa",children:[(0,_.jsx)(G,{className:"w-6 h-6"}),"Stats",!t&&(0,_.jsx)("span",{className:"absolute left-1/2 -bottom-7 -translate-x-1/2 bg-slate-800 text-white text-xs rounded py-1 px-2 z-10",children:"Debes crear o ser invitado a una casa"})]}),(0,_.jsx)("div",{className:"flex-1 flex flex-col items-center py-1 text-xs font-medium",children:(0,_.jsx)(eo,{className:"scale-75"})})]})]}),S=k("acw62");k("acw62");var eu=({task:e,users:t,onEdit:n,onDelete:r,onComplete:i,onUpdateStatus:a,onDragStart:s})=>{let o=e.completedBy?t.find(t=>t.id===e.completedBy):null,l=e.assignedTo?t.find(t=>t.id===e.assignedTo):null,u=(e=>{let t=new Date;return e.getTime()<t.getTime()})(new Date(e.dueDate))&&e.status!==N.COMPLETED;return(0,_.jsxs)("div",{draggable:!0,onDragStart:s,className:"bg-white dark:bg-slate-900/70 p-3 rounded-lg shadow-sm border-l-4 transition-all duration-200 hover:scale-[1.03] transform-gpu cursor-grab active:cursor-grabbing active:opacity-50 overflow-hidden",style:{borderColor:l?l.color:"#9ca3af"},children:[(0,_.jsxs)("div",{className:"flex justify-between items-start",children:[(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,_.jsxs)("div",{className:"max-w-[calc(100%-40px)]",children:[(0,_.jsx)("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm truncate",children:e.title}),(0,_.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2",children:e.description})]})]}),(0,_.jsxs)("span",{className:"flex-shrink-0 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded-full ml-1",children:[e.points," pts"]})]}),(0,_.jsxs)("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400 space-y-1",children:[(0,_.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_.jsx)("span",{className:"text-xs",children:"Fecha:"}),(0,_.jsx)("span",{className:`font-medium text-xs ${u?"text-red-500":"text-slate-700 dark:text-slate-300"}`,children:(e=>{let t=e.getDate(),n=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"][e.getMonth()],r=e.getHours(),i=e.getMinutes().toString().padStart(2,"0");return`${t} ${n}, ${r%12||12}:${i} ${r>=12?"p.m.":"a.m."}`})(new Date(e.dueDate))})]}),"Nunca"!==e.periodicity&&(0,_.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_.jsx)("span",{className:"text-xs",children:"Repetición:"}),(0,_.jsx)("span",{className:"font-medium text-xs text-slate-700 dark:text-slate-300",children:e.periodicity})]}),e.status!==N.COMPLETED&&l&&(0,_.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_.jsx)("span",{className:"text-xs",children:"Asignada a:"}),(0,_.jsxs)("div",{className:"flex items-center gap-1",children:[(0,_.jsx)("img",{src:l.avatar,alt:l.name,className:"w-4 h-4 rounded-full"}),(0,_.jsx)("span",{className:"font-medium text-xs text-slate-700 dark:text-slate-300 truncate max-w-[100px]",children:l.name})]})]}),e.status===N.COMPLETED&&e.completedBy&&(0,_.jsxs)("div",{className:"flex justify-between items-center pt-1 border-t border-slate-200 dark:border-slate-700",children:[(0,_.jsx)("span",{className:"text-xs",children:"Completada por:"}),(0,_.jsxs)("div",{className:"flex items-center gap-1",children:[(0,_.jsx)("img",{src:o?.avatar||"/user.svg",alt:o?.name||"Usuario",className:"w-4 h-4 rounded-full"}),(0,_.jsxs)("span",{className:"font-medium text-xs text-slate-700 dark:text-slate-300 truncate max-w-[100px]",children:[o?.name||"Usuario",!o&&(0,_.jsx)("span",{className:"ml-1 text-xs italic text-amber-600 dark:text-amber-400",children:"(ya no)"})]})]})]})]}),(0,_.jsx)("div",{className:"mt-3 flex space-x-2",children:(()=>{switch(e.status){case N.PENDING:return(0,_.jsx)("button",{onClick:()=>a(N.IN_PROGRESS),className:"w-full bg-blue-500 hover:bg-blue-600 text-white text-xs font-bold py-1.5 px-3 rounded-md transition-colors",children:"Empezar"});case N.IN_PROGRESS:return(0,_.jsx)("button",{onClick:i,className:"w-full bg-green-500 hover:bg-green-600 text-white text-xs font-bold py-1.5 px-3 rounded-md transition-colors",children:"Completar"});case N.NOT_DONE:return(0,_.jsx)("button",{onClick:()=>a(N.PENDING),className:"w-full bg-gray-500 hover:bg-gray-600 text-white text-xs font-bold py-1.5 px-3 rounded-md transition-colors",children:"Reactivar"});default:return null}})()}),e.status!==N.COMPLETED&&(0,_.jsxs)("div",{className:"mt-2 flex space-x-2",children:[(0,_.jsxs)("button",{onClick:n,className:"flex-1 bg-blue-100 hover:bg-blue-200 text-blue-700 text-xs font-medium py-1 px-2 rounded-md transition-colors flex items-center justify-center",children:[(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),(0,_.jsxs)("button",{onClick:r,className:"flex-1 bg-red-100 hover:bg-red-200 text-red-700 text-xs font-medium py-1 px-2 rounded-md transition-colors flex items-center justify-center",children:[(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})]})]})};const ec=[N.PENDING,N.IN_PROGRESS,N.NOT_DONE,N.COMPLETED],ed=({selectedDate:e,onDateChange:t,tasks:n,users:r,isPremium:i})=>{let[a,s]=(0,S.useState)(V(e)),o=(0,S.useMemo)(()=>((e,t)=>{let n=new Date(e);return n.setDate(n.getDate()-t),n})(new Date,7),[]),l=((e,t)=>{let n=[],r=new Date(e);for(;r<=t;)n.push(new Date(r)),r.setDate(r.getDate()+1);return n})(a,(e=>{let t=V(e),n=new Date(t);return n.setDate(t.getDate()+6),n.setHours(23,59,59,999),n})(a));return(0,_.jsxs)("div",{className:"bg-white dark:bg-slate-800/50 p-2 rounded-xl shadow-sm mb-6 flex items-center justify-between",children:[(0,_.jsx)("button",{onClick:()=>s(z(a,-1)),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:(0,_.jsx)(J,{className:"w-5 h-5"})}),(0,_.jsx)("div",{className:"flex-grow overflow-x-auto whitespace-nowrap flex justify-center items-center gap-1 sm:gap-2 px-2",children:l.map(a=>{let s=F(a,e),l=!i&&a<o&&!F(a,o);return(0,_.jsxs)("button",{onClick:()=>t(a),disabled:l,className:`p-2 min-w-[70px] rounded-lg text-center transition-colors ${s?"bg-primary-600 text-white shadow":"hover:bg-slate-100 dark:hover:bg-slate-700"} ${l?"opacity-50 cursor-not-allowed":""}`,children:[(0,_.jsx)("p",{className:"text-xs capitalize",children:a.toLocaleDateString("es-ES",{weekday:"short"})}),(0,_.jsx)("p",{className:"font-bold text-lg",children:a.getDate().toString()}),(0,_.jsx)("div",{className:"h-4",children:(e=>{let t=n.filter(t=>F(new Date(t.dueDate),e));if(0===t.length)return null;let i=t.filter(e=>e.status!==N.COMPLETED);if(0===i.length)return(0,_.jsx)("span",{className:"text-lg",children:"✅"});let a=i.filter(e=>!e.assignedTo),s=[...new Set(i.map(e=>e.assignedTo).filter(Boolean).map(e=>r.find(t=>t.id===e)?.color).filter(e=>!!e))];return(0,_.jsxs)("div",{className:"flex justify-center items-center gap-1 h-2 mt-1",children:[s.map(e=>(0,_.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e}},e)),a.length>0&&(0,_.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-400"})]})})(a)})]},a.toString())})}),(0,_.jsx)("button",{onClick:()=>s(z(a,1)),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:(0,_.jsx)(Z,{className:"w-5 h-5"})})]})};var eh=({tasks:e,users:t,currentUser:n,allTasks:r,onEditTask:i,onDeleteTask:a,onCompleteTask:s,onUpdateTaskStatus:o,isPremium:l})=>{let[u,c]=(0,S.useState)(new Date),[d,h]=(0,S.useState)(null),f=(0,S.useMemo)(()=>e.filter(e=>F(new Date(e.dueDate),u)),[e,u]),p=(0,S.useMemo)(()=>ec.reduce((e,t)=>(e[t]=f.filter(e=>e.status===t).sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()),e),{}),[f]),m=e=>{e.preventDefault(),h(null)};return(0,_.jsxs)("div",{children:[(0,_.jsx)(ed,{selectedDate:u,onDateChange:c,tasks:r,users:t,isPremium:l}),(0,_.jsxs)("h2",{className:"text-xl font-bold mb-4 text-slate-700 dark:text-slate-200",children:["Tareas para el ",u.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})]}),(0,_.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ec.map(n=>(0,_.jsxs)("div",{onDragOver:e=>{e.preventDefault(),h(n)},onDragLeave:m,onDrop:t=>((t,n)=>{t.preventDefault(),h(null);let r=t.dataTransfer.getData("taskId"),i=e.find(e=>e.id===r);i&&i.status!==n&&(n===N.COMPLETED?s(r):i.status===N.COMPLETED?o(r,{status:n,completedBy:void 0,completedAt:void 0}):o(r,{status:n}))})(t,n),className:`bg-slate-100/50 dark:bg-slate-800/50 rounded-xl p-4 flex flex-col transition-all duration-300 ${d===n?"ring-2 ring-primary-500 bg-primary-50 dark:bg-primary-900/20":""}`,children:[(0,_.jsxs)("div",{className:`text-sm font-bold mb-4 px-3 py-1 rounded-full self-start ${(e=>{switch(e){case N.PENDING:return"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300";case N.IN_PROGRESS:return"bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300";case N.NOT_DONE:return"bg-gray-100 dark:bg-gray-700/50 text-gray-800 dark:text-gray-300";case N.COMPLETED:return"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300"}})(n)}`,children:[n," (",p[n].length,")"]}),(0,_.jsx)("div",{className:"space-y-4 overflow-y-auto min-h-[150px] flex-grow overflow-hidden",children:p[n].length>0?p[n].map(e=>(0,_.jsx)(eu,{task:e,users:t,onEdit:()=>i(e),onDelete:()=>a(e.id),onComplete:()=>s(e.id),onUpdateStatus:t=>o(e.id,{status:t}),onDragStart:t=>{let n;return n=e.id,t.dataTransfer.setData("taskId",n)}},e.id)):(0,_.jsx)("div",{className:"text-center pt-10 text-slate-500 dark:text-slate-400 text-sm",children:(0,_.jsx)("p",{children:"No hay tareas en este estado."})})})]},n))})]})},S=k("acw62");const ef=()=>(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 inline-block ml-1",children:(0,_.jsx)("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})}),ep=({colorClass:e})=>(0,_.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-8 h-8 ${e}`,children:[(0,_.jsx)("path",{fillRule:"evenodd",d:"M11.624 2.12a.75.75 0 0 1 .752 0l2.036.958a.75.75 0 0 0 .684.053l2.434-.926a.75.75 0 0 1 .91.688l-.29 2.504a.75.75 0 0 0 .423.73l2.28.912a.75.75 0 0 1 .374.998l-1.462 2.193a.75.75 0 0 0 .097.835l1.83 1.83a.75.75 0 0 1-.53 1.28l-2.432-.54a.75.75 0 0 0-.74.19l-1.63 1.956a.75.75 0 0 1-1.012 0l-1.63-1.956a.75.75 0 0 0-.74-.19l-2.432.54a.75.75 0 0 1-.53-1.28l1.83-1.83a.75.75 0 0 0 .097-.835L2.53 11.002a.75.75 0 0 1 .374-.998l2.28-.912a.75.75 0 0 0 .423-.73l-.29-2.504a.75.75 0 0 1 .91-.688l2.434.926a.75.75 0 0 0 .684-.053l2.036-.958ZM12 6.375a5.625 5.625 0 1 0 0 11.25 5.625 5.625 0 0 0 0-11.25Z",clipRule:"evenodd"}),(0,_.jsx)("path",{d:"M12.75 18.165a.75.75 0 0 0-1.5 0V21a.75.75 0 0 0 1.5 0v-2.835Z"}),(0,_.jsx)("path",{d:"M8.25 21a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z"})]});var em=({users:e,getStats:t,currentHome:n,isPremium:r})=>{let[i,a]=(0,S.useState)("weekly"),s=(0,S.useMemo)(()=>{if(!n)return[];let r=new Set;return n.memberIds.forEach(e=>r.add(e)),e.forEach(e=>{let n=t(e.id,i);(n.tasksCompleted>0||n.pointsEarned>0)&&r.add(e.id)}),Array.from(r).map(r=>{let a=e.find(e=>e.id===r),s=n.memberIds.includes(r);return{id:r,name:a?.name||"Usuario",avatar:a?.avatar||"/user.svg",color:a?.color||"#cccccc",isCurrentMember:s,stats:t(r,i)}}).filter(e=>e.stats.tasksCompleted>0||e.stats.pointsEarned>0).sort((e,t)=>{let n=e.stats.pointsEarned,r=t.stats.pointsEarned;return r!==n?r-n:t.stats.tasksCompleted-e.stats.tasksCompleted})},[e,t,i,n]),o=["text-yellow-400","text-slate-400","text-yellow-600"];return(0,_.jsxs)("div",{className:"space-y-8",children:[(0,_.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,_.jsxs)("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:["Estadísticas de ",n?.name||""]}),(0,_.jsxs)("div",{className:"bg-slate-200 dark:bg-slate-700 p-1 rounded-lg flex space-x-1",children:[(0,_.jsx)("button",{onClick:()=>a("weekly"),className:`px-4 py-1.5 text-sm font-semibold rounded-md transition-all ${"weekly"===i?"bg-white dark:bg-slate-800 shadow-sm text-primary-600 dark:text-primary-400":"text-slate-600 dark:text-slate-300"}`,children:"Semana"}),["monthly","annually"].map(e=>(0,_.jsxs)("div",{className:"relative group",children:[(0,_.jsxs)("button",{onClick:()=>r&&a(e),disabled:!r,className:`px-4 py-1.5 text-sm font-semibold rounded-md transition-all capitalize ${i===e?"bg-white dark:bg-slate-800 shadow-sm text-primary-600 dark:text-primary-400":"text-slate-600 dark:text-slate-300"} ${!r?"cursor-not-allowed opacity-60":""}`,children:["monthly"===e?"Mes":"Año"," ",!r&&(0,_.jsx)(ef,{})]}),!r&&(0,_.jsx)("div",{className:"absolute bottom-full mb-2 hidden group-hover:block w-max bg-slate-800 text-white text-xs rounded py-1 px-2 z-10",children:"Desbloquea con Premium"})]},e))]})]}),(0,_.jsx)("div",{className:"space-y-4",children:s.length>0?s.map((e,t)=>(0,_.jsxs)("div",{className:"bg-white dark:bg-slate-800/50 p-4 rounded-xl shadow-md flex items-center space-x-4 transition-transform duration-300 hover:scale-[1.02] hover:shadow-lg",children:[(0,_.jsx)("div",{className:"flex items-center justify-center w-12 h-12 text-2xl font-bold",children:t<3?(0,_.jsx)(ep,{colorClass:o[t]}):(0,_.jsx)("span",{className:"text-slate-400 dark:text-slate-500",children:t+1})}),(0,_.jsx)("img",{src:e.avatar||"/user.svg",alt:e.name,className:"w-16 h-16 rounded-full object-cover border-4 border-slate-200 dark:border-slate-700",onError:e=>{let t=e.target;t.onerror=null,t.src="/user.svg"}}),(0,_.jsxs)("div",{className:"flex-grow",children:[(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:e.name}),!e.isCurrentMember&&(0,_.jsx)("span",{className:"text-xs font-medium px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-400 rounded-full",children:"Ya no en la casa"})]}),(0,_.jsxs)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[e.stats.tasksCompleted," tareas completadas"]})]}),(0,_.jsxs)("div",{className:"text-right",children:[(0,_.jsx)("p",{className:"text-3xl font-bold text-primary-500 dark:text-primary-400",children:e.stats.pointsEarned}),(0,_.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"puntos"})]})]},e.id)):(0,_.jsxs)("div",{className:"text-center py-20 text-slate-500 dark:text-slate-400",children:[(0,_.jsx)("p",{children:"No hay datos de tareas completadas para este período."}),(0,_.jsx)("p",{className:"text-sm mt-2",children:"¡Completa algunas tareas para empezar a ver las estadísticas!"})]})})]})},S=k("acw62"),eg=({currentUser:e,userHomes:t,users:n,createHome:r,updateHome:i,updateCurrentUser:a,uploadAvatar:s,sendHomeInvitation:o,pendingInvitations:l,respondToInvitation:u,onViewChange:c,onLimitReached:d,togglePremium:h,leaveHome:f,setCurrentHomeId:p,removeUserFromHome:m})=>{let{checkLimit:g,isPremium:y}=$(e,t,t.find(e=>"some-id"===e.id)),{isNative:v}=es(),[b,w]=(0,S.useState)(null),[x,k]=(0,S.useState)({}),[E,T]=(0,S.useState)(e?.name||""),[N,C]=(0,S.useState)(e?.avatar||"/user.svg"),[D,P]=(0,S.useState)(e?.color||U[0]),[R,j]=(0,S.useState)(""),[O,L]=(0,S.useState)(""),[M,F]=(0,S.useState)(null),[V,z]=(0,S.useState)(""),[B,H]=(0,S.useState)(null),[q,W]=(0,S.useState)(""),[G,K]=(0,S.useState)(""),[Q,X]=(0,S.useState)(null),[Y,J]=(0,S.useState)(null),[Z,ee]=(0,S.useState)(null),[ea,eo]=(0,S.useState)(null),[el,eu]=(0,S.useState)(null),[ec,ed]=(0,S.useState)(null);(0,S.useEffect)(()=>{e&&e.name!==E&&document.activeElement?.id!=="userName"&&T(e.name),e&&e.avatar!==N&&"/user.svg"!==N&&C(e.avatar||"/user.svg"),e&&D===U[0]&&e.color&&P(e.color),t.length>0&&!Q&&X(t[0].id)},[e,t,Q,E,N]);let eh=(e,t)=>{w({type:e,text:t}),setTimeout(()=>w(null),4e3)},ef=async e=>{e.preventDefault(),k({...x,profile:!0});try{if(R&&R!==O){eh("error","Las contraseñas no coinciden."),k({...x,profile:!1});return}let e=N;if(M)try{e=await s(M)}catch(e){console.error("Error al subir avatar:",e),eh("error","Error al subir la imagen."),k({...x,profile:!1});return}let t={name:E,avatar:e,color:D};R&&(t.password=R);let n=await a(t);eh(n.success?"success":"error",n.message),n.success&&(j(""),L(""),F(null))}catch(e){console.error("Error al actualizar perfil:",e),eh("error","Error al actualizar el perfil.")}finally{k({...x,profile:!1})}},ep=async e=>{e.preventDefault();let t=g(A.HOMES);if(t.isLimited)return void d(t.message);V.trim()&&(k({...x,createHome:!0}),await r(V.trim()),eh("success",`\xa1Casa "${V.trim()}" creada!`),z(""),k({...x,createHome:!1}))},em=async e=>{q.trim()&&(k({...x,[`home_${e}`]:!0}),await i(e,{name:q.trim()}),eh("success","Nombre de la casa actualizado."),H(null),W(""),k({...x,[`home_${e}`]:!1}))},eg=async e=>{e.preventDefault(),t.find(e=>e.id===Q);let n=g(A.MEMBERS);if(n.isLimited)return void d(n.message);if(G.trim()&&Q){k({...x,invite:!0});let e=await o(G.trim(),Q);e.success?(eu({type:"success",text:e.message}),K("")):eu({type:"error",text:e.message}),k({...x,invite:!1})}},ey=async(e,n)=>{if(n){let e=g(A.HOMES);if(e.isLimited)return void d(e.message)}await u(e,n),n&&(setTimeout(()=>{t.length>0&&(p(t[t.length-1].id),c(I.DASHBOARD))},500),window.location.reload()),eh("success",`Invitaci\xf3n ${n?"aceptada":"rechazada"}.`)};if(!e)return null;let ev=async(e,t)=>{let r=n.find(e=>e.id===t);r&&eo({homeId:e,user:r})},eb=async()=>{if(ea){k({...x,[`remove_${ea.user.id}`]:!0});try{let e=t.find(e=>e.id===ea.homeId)?.name||"la casa";await m(ea.homeId,ea.user.id),eh("success",`${ea.user.name} ha sido eliminado de ${e}.`),ed({userName:ea.user.name,homeName:e}),console.log(`Se ha notificado a ${ea.user.name} que ha sido eliminado de ${e}`)}catch(e){eh("error",e.message||"Error al eliminar usuario.")}finally{k({...x,[`remove_${ea.user.id}`]:!1}),eo(null)}}},ew=async t=>{e&&ee(t)},ex=async()=>{if(e&&Z){k({...x,[`leave_${Z}`]:!0});try{let t=await f(Z,e.id);eh(t.success?"success":"error",t.message)}catch(e){eh("error","Error al salir de la casa.")}finally{k({...x,[`leave_${Z}`]:!1}),J(null),ee(null)}}};return(0,_.jsxs)("div",{className:"space-y-10",children:[(0,_.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_.jsx)("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Ajustes"}),(0,_.jsx)("button",{onClick:()=>c(I.SUBSCRIPTION),className:"font-semibold text-white bg-gradient-to-r from-secondary-500 to-primary-500 hover:from-secondary-600 hover:to-primary-600 px-4 py-2 rounded-lg shadow-lg transition-transform hover:scale-105",children:"✨ Hacerse Premium"})]}),b&&(0,_.jsx)("div",{className:`p-4 rounded-md text-sm mb-6 ${"success"===b.type?"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-200":"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-200"}`,children:b.text}),(0,_.jsxs)("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-xl shadow-md",children:[(0,_.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Mi Perfil"}),(0,_.jsxs)("form",{onSubmit:ef,className:"space-y-4",children:[(0,_.jsxs)("div",{className:"flex items-center gap-4",children:[(0,_.jsx)("img",{src:N,alt:"Avatar",className:"w-20 h-20 rounded-full object-cover bg-slate-100 dark:bg-slate-700 border-2 border-slate-200 dark:border-slate-600"}),(0,_.jsxs)("div",{className:"flex-grow space-y-2",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 block",children:"Nombre"}),(0,_.jsx)("input",{type:"text",id:"userName",value:E,onChange:e=>T(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 rounded mt-1"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 block",children:"Avatar"}),(0,_.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,_.jsx)("img",{src:N,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-600"}),y?(0,_.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){F(t);let e=new FileReader;e.onloadend=()=>C(e.result),e.readAsDataURL(t)}},className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100 dark:file:bg-slate-700 dark:file:text-slate-200"}):(0,_.jsxs)("div",{className:"flex items-center gap-1 text-sm text-amber-600 dark:text-amber-400",children:[(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:(0,_.jsx)("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})}),(0,_.jsx)("span",{children:"Función premium"})]})]}),(0,_.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:y?"Recomendado: imagen cuadrada en formato PNG o JPG.":"Actualiza a premium para personalizar tu avatar."})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 block",children:"Color en tus casas"}),y?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:U.map((r,i)=>{let a=t.some(t=>n.filter(n=>t.memberIds.includes(n.id)&&n.id!==e.id).some(e=>e.color===r));return(0,_.jsx)("button",{type:"button",onClick:()=>P(r),className:`w-8 h-8 rounded-full transition-transform 
                                                            ${D===r?"ring-2 ring-offset-2 ring-primary-500 scale-110":"hover:scale-110"}
                                                            ${a?"opacity-30":""}`,style:{backgroundColor:r},"aria-label":`Color ${i+1}`,title:a?"Este color ya está siendo usado por otro miembro en alguna de tus casas":`Color ${i+1}`},i)})}),(0,_.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Los colores marcados con menor opacidad ya están siendo utilizados por otros miembros en tus casas, pero puedes seleccionarlos si lo deseas."})]}):(0,_.jsxs)("div",{className:"mt-1",children:[(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)("div",{className:"w-8 h-8 rounded-full",style:{backgroundColor:D}}),(0,_.jsxs)("div",{className:"flex items-center gap-1 text-sm text-amber-600 dark:text-amber-400",children:[(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:(0,_.jsx)("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})}),(0,_.jsx)("span",{children:"Función premium"})]})]}),(0,_.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Actualiza a premium para personalizar tu color en las casas."})]})]})]})]}),(0,_.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 block",children:"Nueva Contraseña"}),(0,_.jsx)("input",{type:"password",value:R,onChange:e=>j(e.target.value),placeholder:"Dejar en blanco para no cambiar",className:"w-full p-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 rounded mt-1"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 block",children:"Confirmar Contraseña"}),(0,_.jsx)("input",{type:"password",value:O,onChange:e=>L(e.target.value),className:"w-full p-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 rounded mt-1"})]})]}),(0,_.jsx)("div",{className:"flex justify-end",children:(0,_.jsx)("button",{type:"submit",disabled:x.profile,className:"py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-md font-bold disabled:bg-primary-300",children:x.profile?"Guardando...":"Guardar Cambios"})})]})]}),l.length>0&&(0,_.jsxs)("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-xl shadow-md",children:[(0,_.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,_.jsx)(et,{className:"w-6 h-6 text-primary-500"}),"Invitaciones Pendientes"]}),(0,_.jsx)("div",{className:"space-y-3",children:l.map(e=>{let t;return(0,_.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[(0,_.jsx)("div",{children:(0,_.jsxs)("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:[(0,_.jsx)("span",{className:"font-bold",children:(t=e.invitedBy,n.find(e=>e.id===t)?.name||"Alguien")})," te ha invitado a unirte a ",(0,_.jsx)("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:e.homeName}),"."]})}),(0,_.jsxs)("div",{className:"flex gap-2",children:[(0,_.jsx)("button",{onClick:()=>ey(e.id,!0),className:"p-2 bg-green-500 hover:bg-green-600 text-white rounded-full",children:(0,_.jsx)(en,{className:"w-5 h-5"})}),(0,_.jsx)("button",{onClick:()=>ey(e.id,!1),className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-full",children:(0,_.jsx)(er,{className:"w-5 h-5"})})]})]},e.id)})})]}),(0,_.jsxs)("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-xl shadow-md",children:[(0,_.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Mis Casas"}),(0,_.jsx)("div",{className:"space-y-4 mb-6",children:t.map(t=>(0,_.jsxs)("div",{className:"p-4 border border-slate-200 dark:border-slate-700 rounded-lg",children:[(0,_.jsx)("div",{className:"flex justify-between items-start",children:B===t.id?(0,_.jsxs)("div",{className:"flex-grow flex gap-2 items-center",children:[(0,_.jsx)("input",{type:"text",value:q,onChange:e=>W(e.target.value),className:"w-full p-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 rounded"}),(0,_.jsx)("button",{onClick:()=>em(t.id),disabled:x[`home_${t.id}`],className:"p-2 bg-green-500 text-white rounded-md disabled:bg-green-300",children:(0,_.jsx)(en,{className:"w-5 h-5"})}),(0,_.jsx)("button",{onClick:()=>H(null),className:"p-2 bg-red-500 text-white rounded-md",children:(0,_.jsx)(er,{className:"w-5 h-5"})})]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h4",{className:"font-bold text-lg text-primary-600 dark:text-primary-400",children:t.name}),(0,_.jsx)("button",{onClick:()=>{H(t.id),W(t.name)},className:"text-slate-500 hover:text-primary-600 dark:text-slate-400 dark:hover:text-primary-400",children:(0,_.jsx)(ei,{className:"w-5 h-5"})})]})}),(0,_.jsx)("p",{className:"text-sm font-semibold mt-2 mb-1",children:"Miembros:"}),(0,_.jsx)("div",{className:"flex flex-wrap gap-2",children:n.filter(e=>t.memberIds.includes(e.id)).map(n=>(0,_.jsxs)("div",{className:"flex items-center gap-2 bg-slate-200 dark:bg-slate-700 px-2 py-1 rounded-full",style:{borderLeft:`4px solid ${n.color}`},children:[(0,_.jsx)("img",{src:n.avatar||"/user.svg",alt:n.name,className:"w-6 h-6 rounded-full bg-white p-1 object-cover",onError:e=>{let t=e.target;t.onerror=null,t.src="/user.svg"}}),(0,_.jsx)("span",{className:"text-sm",children:n.name}),t.adminIds.includes(e.id)&&n.id!==e.id&&(0,_.jsx)("button",{onClick:()=>ev(t.id,n.id),disabled:x[`remove_${n.id}`],className:"ml-1 px-2 py-1 bg-red-500 hover:bg-red-600 text-white text-xs rounded-full disabled:bg-red-300",title:"Eliminar usuario de la casa",children:"×"})]},n.id))}),(0,_.jsx)("div",{className:"flex justify-end mt-4",children:(0,_.jsx)("button",{onClick:()=>{J(t.id),ew(t.id)},disabled:x[`leave_${t.id}`],className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-md font-bold disabled:bg-red-300",children:x[`leave_${t.id}`]?"Saliendo...":"Salir de la casa"})})]},t.id))}),(0,_.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:[(0,_.jsxs)("form",{onSubmit:ep,className:"space-y-3",children:[(0,_.jsx)("h4",{className:"font-semibold",children:"Crear una nueva casa"}),(0,_.jsx)("input",{type:"text",value:V,onChange:e=>z(e.target.value),placeholder:"Nombre de la casa",className:"w-full p-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 rounded"}),(0,_.jsx)("button",{type:"submit",disabled:x.createHome,className:"w-full py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-md font-bold disabled:bg-primary-300",children:x.createHome?"Creando...":"Crear Casa"})]}),(0,_.jsxs)("form",{onSubmit:eg,className:"space-y-3",children:[(0,_.jsx)("h4",{className:"font-semibold",children:"Invitar miembro a una casa"}),(0,_.jsxs)("select",{value:Q||"",onChange:e=>X(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 rounded",children:[(0,_.jsx)("option",{value:"",disabled:!0,children:"Selecciona una casa"}),t.map(e=>(0,_.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,_.jsx)("input",{type:"email",value:G,onChange:e=>K(e.target.value),placeholder:"Email del usuario a invitar",className:"w-full p-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 rounded"}),(0,_.jsx)("button",{type:"submit",disabled:!Q||x.invite,className:"w-full py-2 px-4 bg-secondary-500 hover:bg-secondary-600 text-white rounded-md font-bold disabled:bg-slate-400",children:x.invite?"Enviando...":"Enviar Invitación"})]})]}),!t.length&&!l.length&&(0,_.jsxs)("div",{className:"text-center py-10 text-slate-500 dark:text-slate-400",children:[(0,_.jsx)("p",{children:"Aún no perteneces a ninguna casa."}),(0,_.jsx)("p",{className:"text-sm mt-2",children:"¡Crea una para empezar a añadir tareas e invitar a miembros!"})]})]}),v&&(0,_.jsx)("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-xl shadow-md text-center",children:(0,_.jsx)("button",{className:"font-semibold text-primary-600 dark:text-primary-400",children:"¿Te gusta la app? ¡Ayúdanos con una reseña! ⭐"})}),!1,Z&&(0,_.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,_.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 max-w-sm w-full",children:[(0,_.jsx)("h3",{className:"text-lg font-bold mb-2 text-slate-900 dark:text-white",children:"¿Seguro que quieres salir de la casa?"}),(0,_.jsx)("p",{className:"mb-4 text-slate-600 dark:text-slate-300",children:"Perderás acceso a todas las tareas y miembros de esta casa."}),(0,_.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,_.jsx)("button",{onClick:()=>ee(null),className:"px-4 py-2 rounded bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold",children:"Cancelar"}),(0,_.jsx)("button",{onClick:ex,className:"px-4 py-2 rounded bg-red-600 text-white font-bold hover:bg-red-700 disabled:bg-red-300",disabled:x[`leave_${Z}`],children:x[`leave_${Z}`]?"Saliendo...":"Salir"})]})]})}),ea&&(0,_.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,_.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 max-w-sm w-full",children:[(0,_.jsxs)("h3",{className:"text-lg font-bold mb-2 text-slate-900 dark:text-white",children:["¿Seguro que quieres eliminar a ",(0,_.jsx)("span",{className:"text-red-600",children:ea.user.name})," de la casa?"]}),(0,_.jsx)("p",{className:"mb-4 text-slate-600 dark:text-slate-300",children:"Esta acción no se puede deshacer."}),(0,_.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,_.jsx)("button",{onClick:()=>eo(null),className:"px-4 py-2 rounded bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold",children:"Cancelar"}),(0,_.jsx)("button",{onClick:eb,className:"px-4 py-2 rounded bg-red-600 text-white font-bold hover:bg-red-700 disabled:bg-red-300",disabled:x[`remove_${ea.user.id}`],children:x[`remove_${ea.user.id}`]?"Eliminando...":"Eliminar"})]})]})}),el&&(0,_.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,_.jsxs)("div",{className:`bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 max-w-sm w-full border-l-4 ${"success"===el.type?"border-green-500":"border-red-500"}`,children:[(0,_.jsx)("h3",{className:`text-lg font-bold mb-2 ${"success"===el.type?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:"success"===el.type?"Invitación enviada":"Error"}),(0,_.jsx)("p",{className:"mb-4 text-slate-600 dark:text-slate-300",children:el.text}),(0,_.jsx)("div",{className:"flex justify-end",children:(0,_.jsx)("button",{onClick:()=>eu(null),className:"px-4 py-2 rounded bg-primary-600 text-white font-bold hover:bg-primary-700",children:"Cerrar"})})]})}),ec&&(0,_.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,_.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 max-w-sm w-full border-l-4 border-red-500",children:[(0,_.jsx)("h3",{className:"text-lg font-bold mb-2 text-red-700 dark:text-red-300",children:"Usuario eliminado"}),(0,_.jsxs)("p",{className:"mb-4 text-slate-600 dark:text-slate-300",children:[(0,_.jsx)("span",{className:"font-semibold",children:ec.userName})," ha sido eliminado de ",(0,_.jsx)("span",{className:"font-semibold",children:ec.homeName}),"."]}),(0,_.jsx)("p",{className:"mb-4 text-slate-600 dark:text-slate-300",children:"Ya no tendrá acceso a las tareas ni a los miembros de esta casa."}),(0,_.jsx)("div",{className:"flex justify-end",children:(0,_.jsx)("button",{onClick:()=>ed(null),className:"px-4 py-2 rounded bg-primary-600 text-white font-bold hover:bg-primary-700",children:"Entendido"})})]})})]})},S=k("acw62"),ey=k("7xvHX"),ev=k("gMVVg"),eb=k("eryG9");function ew(e,t){let n={};for(let r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function ex(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{let t=Number(e.value);if(isNaN(t))throw Error("Data cannot be decoded from JSON: "+e);return t}default:throw Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(e=>ex(e)):"function"==typeof e||"object"==typeof e?ew(e,e=>ex(e)):e}const ek="functions",eE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class e_ extends ev.FirebaseError{constructor(e,t,n){super(`${ek}/${e}`,t||""),this.details=n}}class eS{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(e=>this.auth=e,()=>{}),this.messaging||t.get().then(e=>this.messaging=e,()=>{}),this.appCheck||n.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{let e=await this.auth.getToken();return null==e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.appCheck){let t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){let t=await this.getAuthToken();return{authToken:t,messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const eT="us-central1";class eN{constructor(e,t,n,r,i=eT,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new eS(t,n,r),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{let e=new URL(i);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=eT}catch(e){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){let t=this.app.options.projectId;if(null!==this.emulatorOrigin){let n=this.emulatorOrigin;return`${n}/${t}/${this.region}/${e}`}return null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}async function eC(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(e){return{status:0,json:null}}let a=null;try{a=await i.json()}catch(e){}return{status:i.status,json:a}}async function eI(e,t,n,r){var i;let a,s={data:n=function e(t){if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t)||!0===t||!1===t||"[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(t=>e(t));if("function"==typeof t||"object"==typeof t)return ew(t,t=>e(t));throw Error("Data cannot be encoded in JSON: "+t)}(n)},o={},l=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);l.authToken&&(o.Authorization="Bearer "+l.authToken),l.messagingToken&&(o["Firebase-Instance-ID-Token"]=l.messagingToken),null!==l.appCheckToken&&(o["X-Firebase-AppCheck"]=l.appCheckToken);let u=(i=r.timeout||7e4,a=null,{promise:new Promise((e,t)=>{a=setTimeout(()=>{t(new e_("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{a&&clearTimeout(a)}}),c=await Promise.race([eC(t,s,o,e.fetchImpl),u.promise,e.cancelAllRequests]);if(u.cancel(),!c)throw new e_("cancelled","Firebase Functions instance was deleted.");let d=function(e,t){let n,r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r;try{let e=t&&t.error;if(e){let t=e.status;if("string"==typeof t){if(!eE[t])return new e_("internal","internal");r=eE[t],i=t}let a=e.message;"string"==typeof a&&(i=a),n=e.details,void 0!==n&&(n=ex(n))}}catch(e){}return"ok"===r?null:new e_(r,i,n)}(c.status,c.json);if(d)throw d;if(!c.json)throw new e_("internal","Response is not valid JSON object.");let h=c.json.data;if(void 0===h&&(h=c.json.result),void 0===h)throw new e_("internal","Response is missing data field.");return{data:ex(h)}}const eA="@firebase/functions",eD="0.11.8";function eP(e=(0,ey.getApp)(),t=eT){let n=(0,ey._getProvider)((0,ev.getModularInstance)(e),ek).getImmediate({identifier:t}),r=(0,ev.getDefaultEmulatorHostnameAndPort)("functions");return r&&function(e,t,n){var r;r=(0,ev.getModularInstance)(e),r.emulatorOrigin=`http://${t}:${n}`}(n,...r),n}function eR(e,t,n){var r;return r=(0,ev.getModularInstance)(e),e=>(function(e,t,n,r){let i=e._url(t);return eI(e,i,n,r)})(r,t,e,n||{})}a=fetch.bind(self),(0,ey._registerComponent)(new(0,eb.Component)(ek,(e,{instanceIdentifier:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return new eN(n,r,e.getProvider("messaging-internal"),e.getProvider("app-check-internal"),t,a)},"PUBLIC").setMultipleInstances(!0)),(0,ey.registerVersion)(eA,eD,void 0),(0,ey.registerVersion)(eA,eD,"esm2017");var ej="basil",eO="https://js.stripe.com",eL="".concat(eO,"/").concat(ej,"/stripe.js"),eM=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,eU=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,eF=function(){for(var e=document.querySelectorAll('script[src^="'.concat(eO,'"]')),t=0;t<e.length;t++){var n,r=e[t];if(n=r.src,eM.test(n)||eU.test(n))return r}return null},eV=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(eL).concat(t);var r=document.head||document.body;if(!r)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},ez=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.6.1",startTime:t})},eB=null,eH=null,eq=null,e$=function(e,t,n){if(null===e)return null;var r,i=t[0].match(/^pk_test/),a=3===(r=e.version)?"v3":r;i&&a!==ej&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.6.1"," expected Stripe.js@").concat(ej,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=e.apply(void 0,t);return ez(s,n),s},eW=!1,eG=function(){return p?p:p=(null!==eB?eB:(eB=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document)return void e(null);if(window.Stripe,window.Stripe)return void e(window.Stripe);try{var n,r=eF();r?r&&null!==eq&&null!==eH&&(r.removeEventListener("load",eq),r.removeEventListener("error",eH),null==(n=r.parentNode)||n.removeChild(r),r=eV(null)):r=eV(null),eq=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},eH=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},r.addEventListener("load",eq),r.addEventListener("error",eH)}catch(e){t(e);return}})).catch(function(e){return eB=null,Promise.reject(e)})).catch(function(e){return p=null,Promise.reject(e)})};Promise.resolve().then(function(){return eG()}).catch(function(e){eW||console.warn(e)});var eK=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];eW=!0;var r=Date.now();return eG().then(function(e){return e$(e,t,r)})};const eQ=["Casas ilimitadas","Miembros ilimitados por casa","Tareas activas ilimitadas","Historial completo de tareas","Estadísticas mensuales y anuales","Temas visuales exclusivos (próximamente)","Soporte prioritario"];var eX=({onViewChange:e})=>{let{platform:t}=es(),[n,r]=(0,S.useState)(!1),i=async()=>{r(!0);try{if("web"===t){let e=eK(""),t=await e,n=eP(),r=eR(n,"createCheckoutSession"),{data:i}=await r({price:"price_premium_monthly"});t&&i.sessionId&&await t.redirectToCheckout({sessionId:i.sessionId})}else alert("Iniciando compra in-app... (implementación pendiente)")}catch(e){console.error("Error al iniciar el proceso de pago:",e),alert("Error al procesar el pago. Por favor, inténtalo de nuevo.")}finally{r(!1)}};return(0,_.jsxs)("div",{className:"bg-white dark:bg-slate-800/50 p-6 sm:p-8 rounded-xl shadow-lg max-w-2xl mx-auto",children:[(0,_.jsxs)("div",{className:"text-center",children:[(0,_.jsx)("h2",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-secondary-500 to-primary-500",children:"Si tu hogar crece, crecemos contigo ✨"}),(0,_.jsx)("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"Desbloquea todo el potencial de Hogarzen con el plan Premium."}),(0,_.jsx)("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:"Todas las funciones esenciales son y serán siempre gratis para casas pequeñas ❤️"})]}),(0,_.jsx)("div",{className:"mt-8",children:(0,_.jsx)("ul",{className:"space-y-4",children:eQ.map((e,t)=>(0,_.jsxs)("li",{className:"flex items-start",children:[(0,_.jsx)("div",{className:"flex-shrink-0",children:(0,_.jsx)(en,{className:"h-6 w-6 text-green-500"})}),(0,_.jsx)("p",{className:"ml-3 text-base text-slate-700 dark:text-slate-200",children:e})]},t))})}),(0,_.jsxs)("div",{className:"mt-10 text-center",children:[(0,_.jsx)("button",{onClick:i,disabled:n,className:"mt-6 w-full py-3 px-6 text-white font-bold rounded-lg bg-gradient-to-r from-secondary-500 to-primary-500 hover:from-secondary-600 hover:to-primary-600 shadow-lg transition-transform hover:scale-105 disabled:opacity-70",children:n?"Procesando...":"Obtener Premium"}),(0,_.jsx)("button",{onClick:()=>e(I.DASHBOARD),className:"mt-4 text-sm text-slate-600 dark:text-slate-400 hover:underline",children:"Quizás más tarde"})]})]})},S=(k("acw62"),k("acw62")),eY=k("1u0KT");function eJ(e,t){if(!1===e||null==e)throw Error(t)}(s=m||(m={})).Pop="POP",s.Push="PUSH",s.Replace="REPLACE";(o=g||(g={})).data="data",o.deferred="deferred",o.redirect="redirect",o.error="error";Symbol("deferred");var S=k("acw62");const eZ=S.createContext(null),e0=S.createContext(null),e1=S.createContext(null),e2=S.createContext({outlet:null,matches:[],isDataRoute:!1});function e5(){return null!=S.useContext(e1)||eJ(!1),S.useContext(e1).location}S.Component;var e3=((l=e3||{}).UseBlocker="useBlocker",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l),e4=((u=e4||{}).UseBlocker="useBlocker",u.UseLoaderData="useLoaderData",u.UseActionData="useActionData",u.UseRouteError="useRouteError",u.UseNavigation="useNavigation",u.UseRouteLoaderData="useRouteLoaderData",u.UseMatches="useMatches",u.UseRevalidator="useRevalidator",u.UseNavigateStable="useNavigate",u.UseRouteId="useRouteId",u);S.startTransition;var e6=((c=e6||{})[c.pending=0]="pending",c[c.success=1]="success",c[c.error=2]="error",c);new Promise(()=>{});S.Component;try{window.__reactRouterVersion="6"}catch(e){}S.startTransition,eY.flushSync,S.useId,"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;(d=y||(y={})).UseScrollRestoration="useScrollRestoration",d.UseSubmit="useSubmit",d.UseSubmitFetcher="useSubmitFetcher",d.UseFetcher="useFetcher",d.useViewTransitionState="useViewTransitionState",(h=v||(v={})).UseFetcher="useFetcher",h.UseFetchers="useFetchers",h.UseScrollRestoration="useScrollRestoration";var e8=({onViewChange:e})=>{let t=e5(),[n,r]=(0,S.useState)(!0),[i,a]=(0,S.useState)(null),[s,o]=(0,S.useState)(!1);return(0,S.useEffect)(()=>{let e=new URLSearchParams(t.search).get("session_id");e?(async()=>{try{let t=eP(),n=eR(t,"onStripePaymentSuccess");(await n({sessionId:e})).data.success?o(!0):a("No se pudo confirmar el pago. Por favor, contacta con soporte.")}catch(e){console.error("Error al confirmar el pago:",e),a("Error al procesar el pago. Por favor, contacta con soporte.")}finally{r(!1)}})():(a("No se encontró información del pago."),r(!1))},[t.search]),(0,_.jsx)("div",{className:"bg-white dark:bg-slate-800/50 p-6 sm:p-8 rounded-xl shadow-lg max-w-2xl mx-auto text-center",children:n?(0,_.jsxs)("div",{className:"py-10",children:[(0,_.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto"}),(0,_.jsx)("p",{className:"mt-4 text-slate-600 dark:text-slate-300",children:"Confirmando tu suscripción..."})]}):i?(0,_.jsxs)("div",{className:"py-10",children:[(0,_.jsx)("div",{className:"text-red-500 text-5xl mb-4",children:"❌"}),(0,_.jsx)("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Algo salió mal"}),(0,_.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:i}),(0,_.jsx)("button",{onClick:()=>e(I.SETTINGS),className:"px-6 py-2 bg-primary-500 text-white font-bold rounded-lg hover:bg-primary-600",children:"Volver a Configuración"})]}):(0,_.jsxs)("div",{className:"py-10",children:[(0,_.jsx)(ea,{className:"h-16 w-16 text-green-500 mx-auto"}),(0,_.jsx)("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-4 mb-2",children:"¡Pago completado con éxito!"}),(0,_.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:"Tu cuenta ha sido actualizada al plan Premium. ¡Disfruta de todas las funcionalidades!"}),(0,_.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,_.jsx)("button",{onClick:()=>e(I.DASHBOARD),className:"px-6 py-2 bg-primary-500 text-white font-bold rounded-lg hover:bg-primary-600",children:"Ir al Dashboard"}),(0,_.jsx)("button",{onClick:()=>e(I.SETTINGS),className:"px-6 py-2 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold rounded-lg",children:"Ver Configuración"})]})]})})},S=k("acw62");k("acw62");var e7=({isOpen:e,onClose:t,children:n})=>e?(0,_.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:(0,_.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:n})}):null;const e9=e=>/^\p{Emoji}$/u.test(e);var te=({onSave:e,onCancel:t,task:n,homeId:r,members:i})=>{let[a,s]=(0,S.useState)(""),[o,l]=(0,S.useState)(""),[u,c]=(0,S.useState)("\uD83E\uDDF9"),[d,h]=(0,S.useState)(10),[f,p]=(0,S.useState)(new Date(new Date().setDate(new Date().getDate()+1))),[m,g]=(0,S.useState)(C.NONE),[y,v]=(0,S.useState)(void 0),[b,w]=(0,S.useState)(!1),[x,k]=(0,S.useState)(!1),[E,T]=(0,S.useState)(null);(0,S.useEffect)(()=>{n?(s(n.title),l(n.description),c(n.emoji),h(n.points),p(new Date(n.dueDate)),g(n.periodicity),v(n.assignedTo??void 0)):p(new Date)},[n]);let N=async t=>{t.preventDefault(),w(!0);let i={title:a,description:o,emoji:u,points:d,dueDate:f.toISOString(),periodicity:m,homeId:r,assignedTo:y||null};try{n&&"id"in n?await e({...n,...i}):await e(i),T({message:"Tarea guardada con éxito.",type:"success"})}catch(e){T({message:"Error al guardar la tarea.",type:"error"})}finally{w(!1),k(!0)}};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("form",{onSubmit:N,className:"p-6 space-y-6 bg-white dark:bg-slate-800 rounded-xl shadow-lg max-w-2xl mx-auto border border-slate-200 dark:border-slate-700",children:[(0,_.jsx)("h2",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:n?"Editar Tarea":"Crear Nueva Tarea"}),(0,_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,_.jsxs)("div",{className:"md:col-span-2",children:[(0,_.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Título"}),(0,_.jsx)("input",{type:"text",id:"title",value:a,onChange:e=>s(e.target.value),required:!0,className:"mt-1 block w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-lg font-semibold"})]}),(0,_.jsxs)("div",{className:"md:col-span-2",children:[(0,_.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Descripción"}),(0,_.jsx)("textarea",{id:"description",value:o,onChange:e=>l(e.target.value),rows:3,className:"mt-1 block w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{htmlFor:"emoji",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Icono"}),(0,_.jsx)("div",{className:"flex items-center gap-2 mt-2",children:(0,_.jsx)("input",{type:"text",value:u,onChange:e=>{let t=e.target.value;t.length<=2&&(""===t||e9(t))?c(t):(T({message:"Por favor, inserta un emoji válido.",type:"error"}),k(!0))},className:"text-2xl w-12 h-12 text-center rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-100 dark:bg-slate-700",placeholder:"\uD83D\uDE04"})})]}),(0,_.jsxs)("div",{children:[(0,_.jsxs)("label",{htmlFor:"points",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:["Puntos: ",d]}),(0,_.jsx)("input",{type:"range",id:"points",min:"5",max:"100",step:"5",value:d,onChange:e=>h(Number(e.target.value)),className:"mt-1 block w-full h-2 bg-slate-200 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Fecha Límite"}),(0,_.jsx)("input",{type:"datetime-local",id:"dueDate",value:(e=>{let t=new Date(e);return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toISOString().slice(0,16)})(f),onChange:e=>p(new Date(e.target.value)),required:!0,className:"mt-1 block w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{htmlFor:"periodicity",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Periodicidad"}),(0,_.jsx)("select",{id:"periodicity",value:m,onChange:e=>g(e.target.value),className:"mt-1 block w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:M.map(e=>(0,_.jsx)("option",{value:e,children:e},e))})]}),(0,_.jsxs)("div",{className:"md:col-span-2",children:[(0,_.jsx)("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Asignar a"}),(0,_.jsxs)("select",{id:"assignedTo",value:y||"",onChange:e=>v(e.target.value||void 0),className:"mt-1 block w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,_.jsx)("option",{value:"",children:"Sin asignar"}),i.map(e=>(0,_.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,_.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[(0,_.jsx)("button",{type:"button",onClick:t,className:"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-800 dark:text-slate-100 font-bold py-2 px-4 rounded-lg",children:"Cancelar"}),(0,_.jsxs)("button",{type:"submit",disabled:b||!e9(u),className:"bg-primary-600 hover:bg-primary-700 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2 disabled:bg-primary-300",children:[(0,_.jsx)(W,{className:"w-5 h-5"}),b?"Guardando...":n?"Guardar Cambios":"Crear Tarea"]})]})]}),x&&E&&(0,_.jsx)(e7,{isOpen:x,onClose:()=>k(!1),children:(0,_.jsxs)("div",{className:`p-4 rounded-md ${"success"===E.type?"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-200":"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-200"}`,children:[(0,_.jsx)("p",{children:E.message}),(0,_.jsx)("button",{onClick:()=>k(!1),className:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-md",children:"Cerrar"})]})})]})};k("acw62");var tt=({isOpen:e,onClose:t,onUpgrade:n,reason:r})=>e?(0,_.jsx)(e7,{isOpen:e,onClose:t,children:(0,_.jsxs)("div",{className:"p-6 text-center",children:[(0,_.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-gradient-to-r from-secondary-200 to-primary-200 mb-4",children:(0,_.jsx)("span",{className:"text-4xl",children:"✨"})}),(0,_.jsx)("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Desbloquea más poder"}),(0,_.jsx)("div",{className:"mt-2 px-4 text-sm text-slate-600 dark:text-slate-300",children:(0,_.jsx)("p",{children:r})}),(0,_.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row gap-3 justify-center",children:[(0,_.jsx)("button",{onClick:t,type:"button",className:"w-full sm:w-auto inline-flex justify-center rounded-md border border-transparent px-4 py-2 bg-slate-200 dark:bg-slate-700 text-base font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-300 dark:hover:bg-slate-600",children:"Entendido"}),(0,_.jsx)("button",{onClick:n,type:"button",className:"w-full sm:w-auto inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700",children:"Ver Plan Premium"})]})]})}):null,S=k("acw62");const tn=Symbol.for("constructDateFrom");function tr(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&tn in e?e[tn](t):e instanceof Date?new e.constructor(t):new Date(t)}const ti={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ta(e){return (t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ts={date:ta({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ta({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ta({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},to={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function tl(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{let t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function tu(e){return(t,n={})=>{let r,i=n.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;let o=s[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}(l,e=>e.test(o)):function(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}(l,e=>e.test(o));return r=e.valueCallback?e.valueCallback(u):u,{value:r=n.valueCallback?n.valueCallback(r):r,rest:t.slice(o.length)}}}function tc(e){return(t,n={})=>{let r=t.match(e.matchPattern);if(!r)return null;let i=r[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];return{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(i.length)}}}const td={code:"en-US",formatDistance:(e,t,n)=>{let r,i=ti[e];if(r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix)if(n.comparison&&n.comparison>0)return"in "+r;else return r+" ago";return r},formatLong:ts,formatRelative:(e,t,n,r)=>to[e],localize:{ordinalNumber:(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:tl({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:tl({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:tl({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:tl({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:tl({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:tc({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:tu({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:tu({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:tu({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:tu({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:tu({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let th={};function tf(e,t){return tr(t||e,e)}function tp(e){let t=tf(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-n}function tm(e,...t){let n=tr.bind(null,e||t.find(e=>"object"==typeof e));return t.map(n)}function tg(e,t){let n=tf(e)-tf(t);return n<0?-1:n>0?1:n}const ty={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},tv={date:ta({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:ta({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:ta({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},tb={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},tw={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},tx={code:"es",formatDistance:(e,t,n)=>{let r,i=ty[e];if(r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix)if(n.comparison&&n.comparison>0)return"en "+r;else return"hace "+r;return r},formatLong:tv,formatRelative:(e,t,n,r)=>1!==t.getHours()?tw[e]:tb[e],localize:{ordinalNumber:(e,t)=>Number(e)+"º",era:tl({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},defaultWidth:"wide"}),quarter:tl({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:tl({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:tl({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},defaultWidth:"wide"}),dayPeriod:tl({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:tc({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:tu({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},defaultParseWidth:"any"}),quarter:tu({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:tu({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:tu({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:tu({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};var tk=({isOpen:e,onClose:t})=>{let{notifications:n,markNotificationAsRead:r,unreadNotifications:i}=q(),[a,s]=(0,S.useState)("unread");(0,S.useEffect)(()=>{let n=n=>{let r=document.getElementById("notifications-panel");r&&!r.contains(n.target)&&e&&t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e,t]);let o="unread"===a?n.filter(e=>!e.read):n;return(0,_.jsxs)("div",{id:"notifications-panel",className:`fixed right-4 top-16 w-96 max-w-[calc(100vw-2rem)] bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 z-50 transition-transform duration-300 ${e?"translate-y-0 opacity-100":"-translate-y-4 opacity-0 pointer-events-none"}`,children:[(0,_.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[(0,_.jsx)("h3",{className:"font-bold text-lg",children:"Notificaciones"}),(0,_.jsxs)("div",{className:"flex space-x-2",children:[(0,_.jsxs)("button",{onClick:()=>s("unread"),className:`px-3 py-1 text-sm rounded-full ${"unread"===a?"bg-primary-100 text-primary-700 dark:bg-primary-900/50 dark:text-primary-300 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:["No leídas ",i.length>0&&`(${i.length})`]}),(0,_.jsx)("button",{onClick:()=>s("all"),className:`px-3 py-1 text-sm rounded-full ${"all"===a?"bg-primary-100 text-primary-700 dark:bg-primary-900/50 dark:text-primary-300 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"Todas"})]})]}),(0,_.jsx)("div",{className:"max-h-[70vh] overflow-y-auto",children:0===o.length?(0,_.jsxs)("div",{className:"p-8 text-center text-slate-500 dark:text-slate-400",children:[(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto mb-3 text-slate-400 dark:text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,_.jsx)("p",{className:"font-medium",children:"unread"===a?"No tienes notificaciones sin leer":"No tienes notificaciones"}),"unread"===a&&n.length>0&&(0,_.jsx)("button",{onClick:()=>s("all"),className:"mt-2 text-primary-600 dark:text-primary-400 text-sm hover:underline",children:"Ver todas las notificaciones"})]}):(0,_.jsx)("ul",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:o.map(e=>{var t,n;return(0,_.jsx)("li",{className:`p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${!e.read?"bg-primary-50 dark:bg-primary-900/20":""}`,children:(0,_.jsxs)("div",{className:"flex items-start gap-3",children:[(e=>{switch(e){case"home_invitation":return(0,_.jsx)("div",{className:"flex-shrink-0 rounded-full p-2 bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300",children:(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,_.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})});case"home_removal":return(0,_.jsx)("div",{className:"flex-shrink-0 rounded-full p-2 bg-red-100 text-red-600 dark:bg-red-900 dark:text-red-300",children:(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,_.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})});case"task_assigned":return(0,_.jsx)("div",{className:"flex-shrink-0 rounded-full p-2 bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300",children:(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,_.jsx)("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})});case"task_completed":return(0,_.jsx)("div",{className:"flex-shrink-0 rounded-full p-2 bg-purple-100 text-purple-600 dark:bg-purple-900 dark:text-purple-300",children:(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,_.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})});default:return(0,_.jsx)("div",{className:"flex-shrink-0 rounded-full p-2 bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300",children:(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,_.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})})}})(e.type),(0,_.jsxs)("div",{className:"flex-grow",children:[(0,_.jsxs)("div",{className:"flex justify-between items-start",children:[(0,_.jsx)("h4",{className:"font-semibold text-slate-900 dark:text-white",children:e.title}),(0,_.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400 whitespace-nowrap ml-2",children:(t=e.createdAt.toDate(),n={addSuffix:!0,locale:tx},function(e,t,n){let r,i=n?.locale??th.locale??td,a=tg(e,t);if(isNaN(a))throw RangeError("Invalid time value");let s=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a}),[o,l]=tm(n?.in,...a>0?[t,e]:[e,t]),u=function(e,t,n){var r;return(r=void 0,e=>{let t=(r?Math[r]:Math.trunc)(e);return 0===t?0:t})((tf(e)-tf(t))/1e3)}(l,o),c=Math.round((u-(tp(l)-tp(o))/1e3)/60);if(c<2)if(n?.includeSeconds)if(u<5)return i.formatDistance("lessThanXSeconds",5,s);else if(u<10)return i.formatDistance("lessThanXSeconds",10,s);else if(u<20)return i.formatDistance("lessThanXSeconds",20,s);else if(u<40)return i.formatDistance("halfAMinute",0,s);else if(u<60)return i.formatDistance("lessThanXMinutes",1,s);else return i.formatDistance("xMinutes",1,s);else if(0===c)return i.formatDistance("lessThanXMinutes",1,s);else return i.formatDistance("xMinutes",c,s);if(c<45)return i.formatDistance("xMinutes",c,s);if(c<90)return i.formatDistance("aboutXHours",1,s);if(c<1440){let e=Math.round(c/60);return i.formatDistance("aboutXHours",e,s)}if(c<2520)return i.formatDistance("xDays",1,s);else if(c<43200){let e=Math.round(c/1440);return i.formatDistance("xDays",e,s)}else if(c<86400)return r=Math.round(c/43200),i.formatDistance("aboutXMonths",r,s);if((r=function(e,t,n){let[r,i,a]=tm(void 0,e,e,t),s=tg(i,a),o=Math.abs(function(e,t,n){let[r,i]=tm(void 0,e,t);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}(i,a));if(o<1)return 0;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*o);let l=tg(i,a)===-s;(function(e,t){let n=tf(e,void 0);return+function(e,t){let n=tf(e,t?.in);return n.setHours(23,59,59,999),n}(n,void 0)==+function(e,t){let n=tf(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}(n,t)})(r)&&1===o&&1===tg(r,a)&&(l=!1);let u=s*(o-l);return 0===u?0:u}(l,o))<12){let e=Math.round(c/43200);return i.formatDistance("xMonths",e,s)}{let e=r%12,t=Math.trunc(r/12);return e<3?i.formatDistance("aboutXYears",t,s):e<9?i.formatDistance("overXYears",t,s):i.formatDistance("almostXYears",t+1,s)}}(t,tr(t,Date.now()),n))})]}),(0,_.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:e.message}),!e.read&&(0,_.jsx)("button",{onClick:()=>r(e.id),className:"mt-2 text-xs font-medium text-primary-600 dark:text-primary-400 hover:underline",children:"Marcar como leída"})]})]})},e.id)})})}),n.length>0&&(0,_.jsx)("div",{className:"p-3 border-t border-slate-200 dark:border-slate-700 text-center",children:(0,_.jsx)("button",{onClick:t,className:"text-sm font-medium text-primary-600 dark:text-primary-400 hover:underline",children:"Cerrar"})})]})},S=k("acw62"),tE=({onGetStarted:e})=>{let[t,n]=(0,S.useState)("home");return(0,_.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 dark:from-slate-900 dark:to-primary-900/30 text-slate-800 dark:text-slate-200",children:[(0,_.jsx)("nav",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm shadow-sm sticky top-0 z-10",children:(0,_.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)("div",{className:"flex-shrink-0",children:(0,_.jsx)("h1",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:"HouseZen"})}),(0,_.jsx)("div",{className:"hidden md:block",children:(0,_.jsxs)("div",{className:"ml-10 flex items-baseline space-x-4",children:[(0,_.jsx)("button",{onClick:()=>n("home"),className:`px-3 py-2 rounded-md text-sm font-medium ${"home"===t?"text-primary-600 dark:text-primary-400":"text-slate-600 dark:text-slate-300 hover:text-primary-500 dark:hover:text-primary-400"}`,children:"Inicio"}),(0,_.jsx)("button",{onClick:()=>n("features"),className:`px-3 py-2 rounded-md text-sm font-medium ${"features"===t?"text-primary-600 dark:text-primary-400":"text-slate-600 dark:text-slate-300 hover:text-primary-500 dark:hover:text-primary-400"}`,children:"Características"}),(0,_.jsx)("button",{onClick:()=>n("about"),className:`px-3 py-2 rounded-md text-sm font-medium ${"about"===t?"text-primary-600 dark:text-primary-400":"text-slate-600 dark:text-slate-300 hover:text-primary-500 dark:hover:text-primary-400"}`,children:"Acerca de"})]})})]}),(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)(eo,{className:"flex"}),(0,_.jsx)("button",{onClick:e,className:"bg-primary-600 hover:bg-primary-700 text-white font-bold py-2 px-4 rounded-lg transition-transform hover:scale-105",children:"Comenzar"})]})]})})}),"home"===t&&(0,_.jsx)("section",{className:"py-12 sm:py-20",children:(0,_.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_.jsxs)("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8",children:[(0,_.jsxs)("div",{className:"sm:text-center md:max-w-2xl md:mx-auto lg:col-span-6 lg:text-left",children:[(0,_.jsxs)("h1",{children:[(0,_.jsx)("span",{className:"block text-sm font-semibold uppercase tracking-wide text-primary-600 dark:text-primary-400",children:"Organiza tu hogar"}),(0,_.jsxs)("span",{className:"mt-1 block text-4xl tracking-tight font-extrabold sm:text-5xl xl:text-6xl",children:[(0,_.jsx)("span",{className:"block text-slate-900 dark:text-white",children:"Simplifica la gestión"}),(0,_.jsx)("span",{className:"block text-primary-600 dark:text-primary-400",children:"de tareas del hogar"})]})]}),(0,_.jsx)("p",{className:"mt-3 text-base text-slate-600 dark:text-slate-300 sm:mt-5 sm:text-xl lg:text-lg xl:text-xl",children:"HouseZen te ayuda a organizar las tareas domésticas, asignarlas a los miembros de tu hogar y hacer un seguimiento de su progreso. Olvídate de las discusiones sobre quién hace qué."}),(0,_.jsxs)("div",{className:"mt-8 sm:max-w-lg sm:mx-auto sm:text-center lg:text-left lg:mx-0",children:[(0,_.jsx)("button",{onClick:e,className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 md:py-4 md:text-lg md:px-10",children:"Comenzar ahora"}),(0,_.jsx)("p",{className:"mt-3 text-sm text-slate-500 dark:text-slate-400",children:"Regístrate en menos de 1 minutos y comienza a organizar tu hogar."})]})]}),(0,_.jsx)("div",{className:"mt-12 relative sm:max-w-lg sm:mx-auto lg:mt-0 lg:max-w-none lg:mx-0 lg:col-span-6 lg:flex lg:items-center",children:(0,_.jsx)("div",{className:"relative mx-auto w-full rounded-lg shadow-lg lg:max-w-md",children:(0,_.jsxs)("div",{className:"relative block w-full bg-white dark:bg-slate-800 rounded-lg overflow-hidden",children:[(0,_.jsx)("div",{className:"max-w-5xl mx-auto mt-10",children:(0,_.jsx)("img",{className:"w-full rounded-lg shadow-lg",src:"https://i.imgur.com/TEMEujo.png",alt:"Captura de pantalla de HouseZen"})}),(0,_.jsx)("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center",children:(0,_.jsxs)("svg",{className:"h-20 w-20 text-primary-500",fill:"currentColor",viewBox:"0 0 84 84",children:[(0,_.jsx)("circle",{opacity:"0.9",cx:"42",cy:"42",r:"42",fill:"white"}),(0,_.jsx)("path",{d:"M55 42L35 55V29L55 42Z",fill:"currentColor"})]})})]})})})]})})}),"features"===t&&(0,_.jsx)("section",{className:"py-12 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:(0,_.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,_.jsxs)("div",{className:"lg:text-center",children:[(0,_.jsx)("h2",{className:"text-base text-primary-600 dark:text-primary-400 font-semibold tracking-wide uppercase",children:"Características"}),(0,_.jsx)("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-slate-900 dark:text-white sm:text-4xl",children:"Todo lo que necesitas para organizar tu hogar"}),(0,_.jsx)("p",{className:"mt-4 max-w-2xl text-xl text-slate-600 dark:text-slate-300 lg:mx-auto",children:"HouseZen ofrece todas las herramientas necesarias para gestionar las tareas domésticas de forma eficiente y justa."})]}),(0,_.jsx)("div",{className:"mt-10",children:(0,_.jsxs)("div",{className:"space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10",children:[(0,_.jsxs)("div",{className:"relative",children:[(0,_.jsx)("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white",children:(0,_.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,_.jsxs)("div",{className:"ml-16",children:[(0,_.jsx)("h3",{className:"text-lg leading-6 font-medium text-slate-900 dark:text-white",children:"Gestión de tareas"}),(0,_.jsx)("p",{className:"mt-2 text-base text-slate-600 dark:text-slate-300",children:"Crea, asigna y haz seguimiento de tareas domésticas. Establece fechas límite y periodicidad para tareas recurrentes."})]})]}),(0,_.jsxs)("div",{className:"relative",children:[(0,_.jsx)("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white",children:(0,_.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,_.jsxs)("div",{className:"ml-16",children:[(0,_.jsx)("h3",{className:"text-lg leading-6 font-medium text-slate-900 dark:text-white",children:"Múltiples hogares"}),(0,_.jsx)("p",{className:"mt-2 text-base text-slate-600 dark:text-slate-300",children:"Gestiona varios hogares y añade a todos los miembros. Ideal para familias, compañeros de piso o segundas residencias."})]})]}),(0,_.jsxs)("div",{className:"relative",children:[(0,_.jsx)("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white",children:(0,_.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,_.jsxs)("div",{className:"ml-16",children:[(0,_.jsx)("h3",{className:"text-lg leading-6 font-medium text-slate-900 dark:text-white",children:"Estadísticas"}),(0,_.jsx)("p",{className:"mt-2 text-base text-slate-600 dark:text-slate-300",children:"Visualiza quién está haciendo qué con gráficos detallados. Asegúrate de que la carga de trabajo se distribuye de forma equitativa."})]})]}),(0,_.jsxs)("div",{className:"relative",children:[(0,_.jsx)("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white",children:(0,_.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),(0,_.jsxs)("div",{className:"ml-16",children:[(0,_.jsx)("h3",{className:"text-lg leading-6 font-medium text-slate-900 dark:text-white",children:"Notificaciones"}),(0,_.jsx)("p",{className:"mt-2 text-base text-slate-600 dark:text-slate-300",children:"Recibe recordatorios de tareas pendientes y notificaciones cuando alguien completa una tarea asignada."})]})]})]})})]})}),"about"===t&&(0,_.jsx)("section",{className:"py-12",children:(0,_.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,_.jsxs)("div",{className:"lg:text-center",children:[(0,_.jsx)("h2",{className:"text-base text-primary-600 dark:text-primary-400 font-semibold tracking-wide uppercase",children:"Acerca de"}),(0,_.jsx)("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-slate-900 dark:text-white sm:text-4xl",children:"¿Por qué HouseZen?"}),(0,_.jsx)("p",{className:"mt-4 max-w-2xl text-xl text-slate-600 dark:text-slate-300 lg:mx-auto",children:"HouseZen nació de la necesidad de resolver un problema común en todos los hogares: la organización de las tareas domésticas."})]}),(0,_.jsx)("div",{className:"mt-10",children:(0,_.jsxs)("div",{className:"prose prose-primary dark:prose-invert mx-auto lg:max-w-none",children:[(0,_.jsx)("p",{children:"Todos hemos vivido situaciones en las que no está claro quién debe hacer qué en casa, o donde parece que siempre son las mismas personas las que acaban haciendo la mayoría de las tareas. HouseZen resuelve este problema proporcionando una plataforma clara y transparente para la gestión de tareas domésticas."}),(0,_.jsx)("p",{children:"Con HouseZen, puedes:"}),(0,_.jsxs)("ul",{children:[(0,_.jsx)("li",{children:"Crear y asignar tareas a los miembros del hogar"}),(0,_.jsx)("li",{children:"Establecer recordatorios y fechas límite"}),(0,_.jsx)("li",{children:"Ver estadísticas sobre quién está haciendo qué"}),(0,_.jsx)("li",{children:"Recibir notificaciones cuando las tareas se completan"}),(0,_.jsx)("li",{children:"Gestionar múltiples hogares (ideal para familias con segundas residencias)"})]}),(0,_.jsx)("p",{children:"Nuestra misión es hacer que la convivencia sea más fácil y justa para todos, eliminando las discusiones sobre las tareas domésticas y proporcionando una herramienta que ayude a distribuir el trabajo de forma equitativa."}),(0,_.jsx)("hr",{className:"my-8"}),(0,_.jsx)("h3",{className:"text-center text-lg font-semibold mb-4",children:"¿Qué viene después?"}),(0,_.jsx)("p",{className:"text-center max-w-xl mx-auto mb-6",children:"En futuras versiones, planeamos implementar un sistema de puntos que los miembros del hogar podrán ganar al completar tareas. Estos puntos se podrán canjear por recompensas personalizadas, diseñadas especialmente para cada familia, incentivando la colaboración y haciendo que las tareas del hogar sean más divertidas y motivadoras."}),(0,_.jsx)("div",{className:"mt-8 flex justify-center",children:(0,_.jsx)("img",{className:"rounded-lg shadow-lg max-w-full h-auto",src:"https://via.placeholder.com/800x400/3b82f6/FFFFFF?text=Equipo+HouseZen",alt:"Equipo de HouseZen"})})]})})]})}),(0,_.jsx)("section",{className:"py-12 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:(0,_.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,_.jsxs)("div",{className:"lg:text-center",children:[(0,_.jsx)("h2",{className:"text-base text-primary-600 dark:text-primary-400 font-semibold tracking-wide uppercase",children:"Testimonios"}),(0,_.jsx)("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-slate-900 dark:text-white sm:text-4xl",children:"Lo que dicen nuestros usuarios"})]}),(0,_.jsx)("div",{className:"mt-10",children:(0,_.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[(0,_.jsxs)("div",{className:"bg-white dark:bg-slate-800 shadow-lg rounded-lg p-6",children:[(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)("img",{className:"h-12 w-12 rounded-full",src:"https://via.placeholder.com/150",alt:"Avatar"}),(0,_.jsxs)("div",{className:"ml-4",children:[(0,_.jsx)("h4",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"María G."}),(0,_.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Madre de familia"})]})]}),(0,_.jsx)("p",{className:"mt-4 text-slate-600 dark:text-slate-300",children:'"HouseZen ha cambiado la dinámica en casa. Mis hijos ahora saben exactamente qué tareas les corresponden y cuándo deben hacerlas. ¡Las discusiones sobre quién debe sacar la basura son cosa del pasado!"'})]}),(0,_.jsxs)("div",{className:"bg-white dark:bg-slate-800 shadow-lg rounded-lg p-6",children:[(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)("img",{className:"h-12 w-12 rounded-full",src:"https://via.placeholder.com/150",alt:"Avatar"}),(0,_.jsxs)("div",{className:"ml-4",children:[(0,_.jsx)("h4",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Carlos M."}),(0,_.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Compañero de piso"})]})]}),(0,_.jsx)("p",{className:"mt-4 text-slate-600 dark:text-slate-300",children:'"Compartir piso nunca había sido tan fácil. Con HouseZen, todos sabemos qué tareas nos tocan cada semana y podemos ver quién está cumpliendo con sus responsabilidades. La transparencia ha mejorado mucho la convivencia."'})]}),(0,_.jsxs)("div",{className:"bg-white dark:bg-slate-800 shadow-lg rounded-lg p-6",children:[(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)("img",{className:"h-12 w-12 rounded-full",src:"https://via.placeholder.com/150",alt:"Avatar"}),(0,_.jsxs)("div",{className:"ml-4",children:[(0,_.jsx)("h4",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Laura P."}),(0,_.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Pareja joven"})]})]}),(0,_.jsx)("p",{className:"mt-4 text-slate-600 dark:text-slate-300",children:'"Mi pareja y yo usamos HouseZen para asegurarnos de que ambos contribuimos por igual en las tareas del hogar. Las estadísticas nos ayudan a ver si hay desequilibrios y a corregirlos. ¡Es una herramienta imprescindible para nosotros!"'})]})]})})]})}),(0,_.jsx)("section",{className:"py-12",children:(0,_.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_.jsx)("div",{className:"bg-primary-700 dark:bg-primary-800 rounded-lg shadow-xl overflow-hidden",children:(0,_.jsx)("div",{className:"px-6 py-12 sm:px-12 lg:py-16 lg:pr-0 xl:py-20 xl:px-20",children:(0,_.jsxs)("div",{className:"lg:self-center",children:[(0,_.jsxs)("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:[(0,_.jsx)("span",{className:"block",children:"¿Listo para simplificar"}),(0,_.jsx)("span",{className:"block",children:"la gestión de tu hogar?"})]}),(0,_.jsx)("p",{className:"mt-4 text-lg leading-6 text-primary-200",children:"Regístrate hoy y comienza a disfrutar de un hogar más organizado y una convivencia más armoniosa."}),(0,_.jsx)("button",{onClick:e,className:"mt-8 bg-white border border-transparent rounded-md shadow px-6 py-3 inline-flex items-center text-base font-medium text-primary-600 hover:bg-primary-50",children:"Comenzar ahora"})]})})})})}),(0,_.jsx)("footer",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:(0,_.jsxs)("div",{className:"max-w-7xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8",children:[(0,_.jsxs)("nav",{className:"-mx-5 -my-2 flex flex-wrap justify-center",children:[(0,_.jsx)("div",{className:"px-5 py-2",children:(0,_.jsx)("a",{href:"#",className:"text-base text-slate-600 dark:text-slate-300 hover:text-primary-600 dark:hover:text-primary-400",children:"Términos y condiciones"})}),(0,_.jsx)("div",{className:"px-5 py-2",children:(0,_.jsx)("a",{href:"#",className:"text-base text-slate-600 dark:text-slate-300 hover:text-primary-600 dark:hover:text-primary-400",children:"Política de privacidad"})}),(0,_.jsx)("div",{className:"px-5 py-2",children:(0,_.jsx)("a",{href:"#",className:"text-base text-slate-600 dark:text-slate-300 hover:text-primary-600 dark:hover:text-primary-400",children:"Contacto"})})]}),(0,_.jsxs)("p",{className:"mt-8 text-center text-base text-slate-500 dark:text-slate-400",children:["© ",new Date().getFullYear()," HouseZen. Todos los derechos reservados."]})]})})]})};const t_=({onLogin:e,onRegister:t,onGoogleLogin:n})=>{let[r,i]=(0,S.useState)(!0),[a,s]=(0,S.useState)(""),[o,l]=(0,S.useState)(""),[u,c]=(0,S.useState)(""),[d,h]=(0,S.useState)(""),[f,p]=(0,S.useState)(""),[m,g]=(0,S.useState)(!1),[y,v]=(0,S.useState)(!1),b=async n=>{n.preventDefault(),h(""),p(""),g(!0);let i=r?await e(o,u):await t(a,o,u);g(!1),i.success||h(i.message)};return(0,_.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-slate-100 dark:bg-slate-900",children:(0,_.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-slate-800 rounded-lg shadow-md",children:[(0,_.jsx)("h1",{className:"text-3xl font-bold text-center text-primary-600 dark:text-primary-400",children:"HouseZen"}),(0,_.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[!r&&(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:"Nombre"}),(0,_.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 rounded mt-1"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:"Email"}),(0,_.jsx)("input",{type:"email",value:o,onChange:e=>l(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 rounded mt-1"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:"Contraseña"}),(0,_.jsx)("input",{type:"password",value:u,onChange:e=>c(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 rounded mt-1"})]}),d&&(0,_.jsx)("p",{className:"text-red-500 text-sm",children:d}),f&&(0,_.jsx)("p",{className:"text-green-500 text-sm",children:f}),(0,_.jsx)("button",{type:"submit",disabled:m,className:"w-full py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-md font-bold disabled:bg-primary-300",children:m?"Procesando...":r?"Iniciar Sesión":"Registrarse"})]}),n&&(0,_.jsxs)("div",{className:"relative my-4",children:[(0,_.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,_.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-slate-600"})}),(0,_.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,_.jsx)("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400",children:"O"})})]}),n&&(0,_.jsxs)("button",{onClick:async()=>{h(""),p(""),v(!0);try{let e=await n();e.success||h(e.message)}catch(e){h("No se pudo completar el inicio de sesión con Google. Por favor, inténtalo de nuevo."),console.error("Error en AuthPage al iniciar sesión con Google:",e)}finally{v(!1)}},disabled:y,className:"w-full flex items-center justify-center gap-2 py-2 px-4 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-white border border-gray-300 dark:border-slate-600 rounded-md font-medium disabled:opacity-50",children:[(0,_.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",children:[(0,_.jsx)("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,_.jsx)("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,_.jsx)("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,_.jsx)("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),y?"Procesando...":"Continuar con Google"]}),(0,_.jsx)("button",{onClick:()=>{i(!r),h(""),p("")},className:"w-full text-sm text-center text-primary-600 dark:text-primary-400 hover:underline mt-4",children:r?"¿No tienes cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})]})})},tS=document.getElementById("root");if(!tS)throw Error("Could not find root element to mount to");(0,T.createRoot)(tS).render((0,_.jsx)(((f=S)&&f.__esModule?f.default:f).StrictMode,{children:(0,_.jsx)(function(){let e=q(),{isPremium:t,checkLimit:n}=$(e.currentUser,e.userHomes,e.currentHome),[r,i]=(0,S.useState)(I.DASHBOARD),[a,s]=(0,S.useState)(!1),[o,l]=(0,S.useState)(!1),[u,c]=(0,S.useState)(!1),[d,h]=(0,S.useState)(""),[f,p]=(0,S.useState)(null),[m,g]=(0,S.useState)(()=>localStorage.getItem("theme")||"light"),[y,v]=(0,S.useState)(!0);(0,S.useEffect)(()=>{document.documentElement.classList.toggle("dark","dark"===m),localStorage.setItem("theme",m)},[m]);let b=e=>{p(e),s(!0)},w=async t=>{"id"in t?await e.updateTask(t.id,t):await e.addTask(t),s(!1),p(null)},x=async t=>{e.currentUser&&await e.completeTask(t,e.currentUser.id)};return"loading"===e.authStatus?(0,_.jsx)("div",{className:"flex items-center justify-center min-h-screen text-slate-500 dark:text-slate-400",children:"Cargando Hogarzen..."}):y&&"logged-out"===e.authStatus?(0,_.jsx)(tE,{onGetStarted:()=>v(!1)}):"logged-out"===e.authStatus?(0,_.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,_.jsxs)("div",{className:"flex justify-between items-center p-4 bg-white/80 dark:bg-slate-900/80 shadow-md backdrop-blur-sm",children:[(0,_.jsx)("h1",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:"HouseZen"}),(0,_.jsx)(eo,{className:"ml-auto"})]}),(0,_.jsx)(t_,{onLogin:e.login,onRegister:e.register,onGoogleLogin:e.googleLogin})]}):e.currentUser?(0,_.jsxs)("div",{className:"min-h-screen font-sans text-slate-800 dark:text-slate-200 transition-colors duration-300",children:[(0,_.jsx)(el,{currentUser:e.currentUser,currentHome:e.currentHome,userHomes:e.userHomes,onHomeChange:e.setCurrentHomeId,currentView:r,onViewChange:i,onNewTaskClick:()=>{let e=n(A.TASKS);if(e.isLimited){h(e.message),l(!0);return}p(null),s(!0)},onLogout:e.logout,theme:m,onToggleTheme:()=>g(e=>"light"===e?"dark":"light"),onNotificationsClick:()=>c(!u),unreadNotifications:e.unreadNotifications?.length||0}),(0,_.jsx)("main",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto pb-24 md:pb-8",children:(()=>{if(!e.currentHome&&"logged-in"===e.authStatus&&e.pendingInvitations.length>0&&r===I.DASHBOARD)return(0,_.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center gap-4",children:[(0,_.jsx)("h2",{className:"text-2xl font-bold",children:"Has sido invitado a una casa"}),(0,_.jsxs)("p",{className:"text-slate-500 dark:text-slate-400",children:["Tienes ",e.pendingInvitations.length," invitación(es) pendiente(s) a la casa",(0,_.jsxs)("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:[" ",e.pendingInvitations[0].homeName]})]}),(0,_.jsx)("button",{onClick:()=>i(I.SETTINGS),className:"mt-4 py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-md font-bold",children:"Ver invitaciones"})]});if(!e.currentHome&&"logged-in"===e.authStatus&&0===e.userHomes.length&&0===e.pendingInvitations.length)return(0,_.jsx)(eg,{...e,setCurrentHomeId:e.setCurrentHomeId,onViewChange:i,onLimitReached:e=>{h(e),l(!0)}});switch(r){case I.STATS:if(!e.currentHome)return(0,_.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center gap-4",children:[(0,_.jsx)("h2",{className:"text-2xl font-bold",children:"No tienes ninguna casa activa"}),(0,_.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"Debes crear una casa o aceptar una invitación para poder ver estadísticas."})]});return(0,_.jsx)(em,{users:e.users,getStats:e.getStats,currentHome:e.currentHome,isPremium:t});case I.SETTINGS:return(0,_.jsx)(eg,{...e,setCurrentHomeId:e.setCurrentHomeId,onViewChange:i,onLimitReached:e=>{h(e),l(!0)}});case I.SUBSCRIPTION:return(0,_.jsx)(eX,{onViewChange:i});case I.SUCCESS:return(0,_.jsx)(e8,{onViewChange:i});case I.DASHBOARD:default:if(!e.currentHome)return(0,_.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center gap-4",children:[(0,_.jsx)("h2",{className:"text-2xl font-bold",children:"No tienes ninguna casa activa"}),(0,_.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"Debes crear una casa o aceptar una invitación para poder gestionar tareas."})]});return(0,_.jsx)(eh,{tasks:e.tasksForCurrentHome,users:e.users,currentUser:e.currentUser,allTasks:e.tasks,onEditTask:b,onDeleteTask:e.deleteTask,onCompleteTask:x,onUpdateTaskStatus:e.updateTask,isPremium:t})}})()}),e.currentHome&&(0,_.jsx)(e7,{isOpen:a,onClose:()=>s(!1),children:(0,_.jsx)(te,{onSave:w,onCancel:()=>s(!1),task:f,homeId:e.currentHome.id,members:e.membersOfCurrentHome})}),(0,_.jsx)(tt,{isOpen:o,onClose:()=>l(!1),onUpgrade:()=>{l(!1),i(I.SUBSCRIPTION)},reason:d}),(0,_.jsx)(tk,{isOpen:u,onClose:()=>c(!1)})]}):(0,_.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Error de autenticación. Por favor, recarga la página."})},{})}));
//# sourceMappingURL=hogarzen.f58999aa.js.map
